(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Rv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Bu={exports:{}},cs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function Dv(){if(Ip)return cs;Ip=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var p in c)p!=="key"&&(d[p]=c[p])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:h,ref:c!==void 0?c:null,props:d}}return cs.Fragment=n,cs.jsx=l,cs.jsxs=l,cs}var Hp;function Ov(){return Hp||(Hp=1,Bu.exports=Dv()),Bu.exports}var f=Ov(),ku={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function Mv(){if(qp)return Ce;qp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function v(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function be(x,U,W){this.props=x,this.context=U,this.refs=P,this.updater=W||q}be.prototype.isReactComponent={},be.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},be.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function tt(){}tt.prototype=be.prototype;function de(x,U,W){this.props=x,this.context=U,this.refs=P,this.updater=W||q}var Ie=de.prototype=new tt;Ie.constructor=de,z(Ie,be.prototype),Ie.isPureReactComponent=!0;var ge=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},nt=Object.prototype.hasOwnProperty;function mt(x,U,W,V,G,ue){return W=ue.ref,{$$typeof:a,type:x,key:U,ref:W!==void 0?W:null,props:ue}}function Me(x,U){return mt(x.type,U,void 0,void 0,void 0,x.props)}function vt(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function an(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(W){return U[W]})}var ft=/\/+/g;function $e(x,U){return typeof x=="object"&&x!==null&&x.key!=null?an(""+x.key):U.toString(36)}function k(){}function J(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(k,k):(x.status="pending",x.then(function(U){x.status==="pending"&&(x.status="fulfilled",x.value=U)},function(U){x.status==="pending"&&(x.status="rejected",x.reason=U)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function le(x,U,W,V,G){var ue=typeof x;(ue==="undefined"||ue==="boolean")&&(x=null);var A=!1;if(x===null)A=!0;else switch(ue){case"bigint":case"string":case"number":A=!0;break;case"object":switch(x.$$typeof){case a:case n:A=!0;break;case b:return A=x._init,le(A(x._payload),U,W,V,G)}}if(A)return G=G(x),A=V===""?"."+$e(x,0):V,ge(G)?(W="",A!=null&&(W=A.replace(ft,"$&/")+"/"),le(G,U,W,"",function(ye){return ye})):G!=null&&(vt(G)&&(G=Me(G,W+(G.key==null||x&&x.key===G.key?"":(""+G.key).replace(ft,"$&/")+"/")+A)),U.push(G)),1;A=0;var $=V===""?".":V+":";if(ge(x))for(var ae=0;ae<x.length;ae++)V=x[ae],ue=$+$e(V,ae),A+=le(V,U,W,ue,G);else if(ae=v(x),typeof ae=="function")for(x=ae.call(x),ae=0;!(V=x.next()).done;)V=V.value,ue=$+$e(V,ae++),A+=le(V,U,W,ue,G);else if(ue==="object"){if(typeof x.then=="function")return le(J(x),U,W,V,G);throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return A}function j(x,U,W){if(x==null)return x;var V=[],G=0;return le(x,V,"","",function(ue){return U.call(W,ue,G++)}),V}function Y(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(W){(x._status===0||x._status===-1)&&(x._status=1,x._result=W)},function(W){(x._status===0||x._status===-1)&&(x._status=2,x._result=W)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var Z=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ce(){}return Ce.Children={map:j,forEach:function(x,U,W){j(x,function(){U.apply(this,arguments)},W)},count:function(x){var U=0;return j(x,function(){U++}),U},toArray:function(x){return j(x,function(U){return U})||[]},only:function(x){if(!vt(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ce.Component=be,Ce.Fragment=l,Ce.Profiler=c,Ce.PureComponent=de,Ce.StrictMode=r,Ce.Suspense=_,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(x){return pe.H.useMemoCache(x)}},Ce.cache=function(x){return function(){return x.apply(null,arguments)}},Ce.cloneElement=function(x,U,W){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var V=z({},x.props),G=x.key,ue=void 0;if(U!=null)for(A in U.ref!==void 0&&(ue=void 0),U.key!==void 0&&(G=""+U.key),U)!nt.call(U,A)||A==="key"||A==="__self"||A==="__source"||A==="ref"&&U.ref===void 0||(V[A]=U[A]);var A=arguments.length-2;if(A===1)V.children=W;else if(1<A){for(var $=Array(A),ae=0;ae<A;ae++)$[ae]=arguments[ae+2];V.children=$}return mt(x.type,G,void 0,void 0,ue,V)},Ce.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},Ce.createElement=function(x,U,W){var V,G={},ue=null;if(U!=null)for(V in U.key!==void 0&&(ue=""+U.key),U)nt.call(U,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(G[V]=U[V]);var A=arguments.length-2;if(A===1)G.children=W;else if(1<A){for(var $=Array(A),ae=0;ae<A;ae++)$[ae]=arguments[ae+2];G.children=$}if(x&&x.defaultProps)for(V in A=x.defaultProps,A)G[V]===void 0&&(G[V]=A[V]);return mt(x,ue,void 0,void 0,null,G)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:p,render:x}},Ce.isValidElement=vt,Ce.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:Y}},Ce.memo=function(x,U){return{$$typeof:y,type:x,compare:U===void 0?null:U}},Ce.startTransition=function(x){var U=pe.T,W={};pe.T=W;try{var V=x(),G=pe.S;G!==null&&G(W,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ce,Z)}catch(ue){Z(ue)}finally{pe.T=U}},Ce.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},Ce.use=function(x){return pe.H.use(x)},Ce.useActionState=function(x,U,W){return pe.H.useActionState(x,U,W)},Ce.useCallback=function(x,U){return pe.H.useCallback(x,U)},Ce.useContext=function(x){return pe.H.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x,U){return pe.H.useDeferredValue(x,U)},Ce.useEffect=function(x,U,W){var V=pe.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(x,U)},Ce.useId=function(){return pe.H.useId()},Ce.useImperativeHandle=function(x,U,W){return pe.H.useImperativeHandle(x,U,W)},Ce.useInsertionEffect=function(x,U){return pe.H.useInsertionEffect(x,U)},Ce.useLayoutEffect=function(x,U){return pe.H.useLayoutEffect(x,U)},Ce.useMemo=function(x,U){return pe.H.useMemo(x,U)},Ce.useOptimistic=function(x,U){return pe.H.useOptimistic(x,U)},Ce.useReducer=function(x,U,W){return pe.H.useReducer(x,U,W)},Ce.useRef=function(x){return pe.H.useRef(x)},Ce.useState=function(x){return pe.H.useState(x)},Ce.useSyncExternalStore=function(x,U,W){return pe.H.useSyncExternalStore(x,U,W)},Ce.useTransition=function(){return pe.H.useTransition()},Ce.version="19.1.1",Ce}var Vp;function Sd(){return Vp||(Vp=1,ku.exports=Mv()),ku.exports}var oe=Sd();const Xg=Rv(oe);var Iu={exports:{}},us={},Hu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function jv(){return Yp||(Yp=1,(function(a){function n(j,Y){var Z=j.length;j.push(Y);e:for(;0<Z;){var ce=Z-1>>>1,x=j[ce];if(0<c(x,Y))j[ce]=Y,j[Z]=x,Z=ce;else break e}}function l(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Y=j[0],Z=j.pop();if(Z!==Y){j[0]=Z;e:for(var ce=0,x=j.length,U=x>>>1;ce<U;){var W=2*(ce+1)-1,V=j[W],G=W+1,ue=j[G];if(0>c(V,Z))G<x&&0>c(ue,V)?(j[ce]=ue,j[G]=Z,ce=G):(j[ce]=V,j[W]=Z,ce=W);else if(G<x&&0>c(ue,Z))j[ce]=ue,j[G]=Z,ce=G;else break e}}return Y}function c(j,Y){var Z=j.sortIndex-Y.sortIndex;return Z!==0?Z:j.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();a.unstable_now=function(){return h.now()-p}}var _=[],y=[],b=1,E=null,v=3,q=!1,z=!1,P=!1,be=!1,tt=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;function ge(j){for(var Y=l(y);Y!==null;){if(Y.callback===null)r(y);else if(Y.startTime<=j)r(y),Y.sortIndex=Y.expirationTime,n(_,Y);else break;Y=l(y)}}function pe(j){if(P=!1,ge(j),!z)if(l(_)!==null)z=!0,nt||(nt=!0,$e());else{var Y=l(y);Y!==null&&le(pe,Y.startTime-j)}}var nt=!1,mt=-1,Me=5,vt=-1;function an(){return be?!0:!(a.unstable_now()-vt<Me)}function ft(){if(be=!1,nt){var j=a.unstable_now();vt=j;var Y=!0;try{e:{z=!1,P&&(P=!1,de(mt),mt=-1),q=!0;var Z=v;try{t:{for(ge(j),E=l(_);E!==null&&!(E.expirationTime>j&&an());){var ce=E.callback;if(typeof ce=="function"){E.callback=null,v=E.priorityLevel;var x=ce(E.expirationTime<=j);if(j=a.unstable_now(),typeof x=="function"){E.callback=x,ge(j),Y=!0;break t}E===l(_)&&r(_),ge(j)}else r(_);E=l(_)}if(E!==null)Y=!0;else{var U=l(y);U!==null&&le(pe,U.startTime-j),Y=!1}}break e}finally{E=null,v=Z,q=!1}Y=void 0}}finally{Y?$e():nt=!1}}}var $e;if(typeof Ie=="function")$e=function(){Ie(ft)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,J=k.port2;k.port1.onmessage=ft,$e=function(){J.postMessage(null)}}else $e=function(){tt(ft,0)};function le(j,Y){mt=tt(function(){j(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(j){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var Z=v;v=Y;try{return j()}finally{v=Z}},a.unstable_requestPaint=function(){be=!0},a.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Z=v;v=j;try{return Y()}finally{v=Z}},a.unstable_scheduleCallback=function(j,Y,Z){var ce=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,j){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=Z+x,j={id:b++,callback:Y,priorityLevel:j,startTime:Z,expirationTime:x,sortIndex:-1},Z>ce?(j.sortIndex=Z,n(y,j),l(_)===null&&j===l(y)&&(P?(de(mt),mt=-1):P=!0,le(pe,Z-ce))):(j.sortIndex=x,n(_,j),z||q||(z=!0,nt||(nt=!0,$e()))),j},a.unstable_shouldYield=an,a.unstable_wrapCallback=function(j){var Y=v;return function(){var Z=v;v=Y;try{return j.apply(this,arguments)}finally{v=Z}}}})(qu)),qu}var Gp;function zv(){return Gp||(Gp=1,Hu.exports=jv()),Hu.exports}var Vu={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function Lv(){if(Qp)return Ft;Qp=1;var a=Sd();function n(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(_,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:_,containerInfo:y,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ft.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(_,y,null,b)},Ft.flushSync=function(_){var y=h.T,b=r.p;try{if(h.T=null,r.p=2,_)return _()}finally{h.T=y,r.p=b,r.d.f()}},Ft.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ft.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ft.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin),v=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:v,fetchPriority:q}):b==="script"&&r.d.X(_,{crossOrigin:E,integrity:v,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ft.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ft.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ft.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ft.requestFormReset=function(_){r.d.r(_)},Ft.unstable_batchedUpdates=function(_,y){return _(y)},Ft.useFormState=function(_,y,b){return h.H.useFormState(_,y,b)},Ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ft.version="19.1.1",Ft}var Xp;function Uv(){if(Xp)return Vu.exports;Xp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Vu.exports=Lv(),Vu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function Bv(){if(Fp)return us;Fp=1;var a=zv(),n=Sd(),l=Uv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var o=i.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===i)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=u;else{for(var m=!1,g=o.child;g;){if(g===i){m=!0,i=o,s=u;break}if(g===s){m=!0,s=o,i=u;break}g=g.sibling}if(!m){for(g=u.child;g;){if(g===i){m=!0,i=u,s=o;break}if(g===s){m=!0,s=u,i=o;break}g=g.sibling}if(!m)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),de=Symbol.for("react.consumer"),Ie=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),an=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=ft&&e[ft]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case be:return"Profiler";case P:return"StrictMode";case pe:return"Suspense";case nt:return"SuspenseList";case vt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case Ie:return(e.displayName||"Context")+".Provider";case de:return(e._context.displayName||"Context")+".Consumer";case ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mt:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case Me:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}var le=Array.isArray,j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],x=-1;function U(e){return{current:e}}function W(e){0>x||(e.current=ce[x],ce[x]=null,x--)}function V(e,t){x++,ce[x]=e.current,e.current=t}var G=U(null),ue=U(null),A=U(null),$=U(null);function ae(e,t){switch(V(A,t),V(ue,e),V(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hp(t),e=mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(G),V(G,e)}function ye(){W(G),W(ue),W(A)}function xe(e){e.memoizedState!==null&&V($,e);var t=G.current,i=mp(t,e.type);t!==i&&(V(ue,e),V(G,i))}function Se(e){ue.current===e&&(W(G),W(ue)),$.current===e&&(W($),ls._currentValue=Z)}var se=Object.prototype.hasOwnProperty,te=a.unstable_scheduleCallback,Ee=a.unstable_cancelCallback,He=a.unstable_shouldYield,ct=a.unstable_requestPaint,Q=a.unstable_now,je=a.unstable_getCurrentPriorityLevel,Mt=a.unstable_ImmediatePriority,fe=a.unstable_UserBlockingPriority,Ge=a.unstable_NormalPriority,bt=a.unstable_LowPriority,ut=a.unstable_IdlePriority,it=a.log,St=a.unstable_setDisableYieldValue,xt=null,Xe=null;function Tt(e){if(typeof it=="function"&&St(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(xt,e)}catch{}}var rt=Math.clz32?Math.clz32:Qe,sn=Math.log,gn=Math.LN2;function Qe(e){return e>>>=0,e===0?32:31-(sn(e)/gn|0)|0}var Un=256,gl=4194304;function yn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var g=s&134217727;return g!==0?(s=g&~u,s!==0?o=yn(s):(m&=g,m!==0?o=yn(m):i||(i=g&~e,i!==0&&(o=yn(i))))):(g=s&~u,g!==0?o=yn(g):m!==0?o=yn(m):i||(i=s&~e,i!==0&&(o=yn(i)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:o}function mi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ro(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var e=Un;return Un<<=1,(Un&4194048)===0&&(Un=256),e}function yl(){var e=gl;return gl<<=1,(gl&62914560)===0&&(gl=4194304),e}function ha(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Yn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Do(e,t,i,s,o,u){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(i=m&~i;0<i;){var L=31-rt(i),I=1<<L;g[L]=0,S[L]=-1;var O=R[L];if(O!==null)for(R[L]=null,L=0;L<O.length;L++){var M=O[L];M!==null&&(M.lane&=-536870913)}i&=~I}s!==0&&Is(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Is(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-rt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&4194090}function Hs(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-rt(i),o=1<<s;o&t|e[s]&t&&(e[s]|=t),i&=~o}}function ma(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ga(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:jp(e.type))}function qs(e,t){var i=Y.p;try{return Y.p=e,t()}finally{Y.p=i}}var Bn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Bn,Ht="__reactProps$"+Bn,Gn="__reactContainer$"+Bn,_l="__reactEvents$"+Bn,Vs="__reactListeners$"+Bn,T="__reactHandles$"+Bn,D="__reactResources$"+Bn,H="__reactMarker$"+Bn;function K(e){delete e[Nt],delete e[Ht],delete e[_l],delete e[Vs],delete e[T]}function ne(e){var t=e[Nt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Gn]||i[Nt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=_p(e);e!==null;){if(i=e[Nt])return i;e=_p(e)}return t}e=i,i=e.parentNode}return null}function ee(e){if(e=e[Nt]||e[Gn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function X(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ze(e){var t=e[D];return t||(t=e[D]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Le(e){e[H]=!0}var pt=new Set,jt={};function Ue(e,t){Be(e,t),Be(e+"Capture",t)}function Be(e,t){for(jt[e]=t,e=0;e<t.length;e++)pt.add(t[e])}var qt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),An={},rn={};function Gi(e){return se.call(rn,e)?!0:se.call(An,e)?!1:qt.test(e)?rn[e]=!0:(An[e]=!0,!1)}function on(e,t,i){if(Gi(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Qn(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Xn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}var Oo,sf;function vl(e){if(Oo===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Oo=t&&t[1]||"",sf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oo+e+sf}var Mo=!1;function jo(e,t){if(!e||Mo)return"";Mo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(M){var O=M}Reflect.construct(e,[],I)}else{try{I.call()}catch(M){O=M}e.call(I.prototype)}}else{try{throw Error()}catch(M){O=M}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(M){if(M&&O&&typeof M.stack=="string")return[M.stack,O.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],g=u[1];if(m&&g){var S=m.split(`
`),R=g.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===R.length)for(s=S.length-1,o=R.length-1;1<=s&&0<=o&&S[s]!==R[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==R[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==R[o]){var L=`
`+S[s].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=s&&0<=o);break}}}finally{Mo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?vl(i):""}function E0(e){switch(e.tag){case 26:case 27:case 5:return vl(e.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 15:return jo(e.type,!1);case 11:return jo(e.type.render,!1);case 1:return jo(e.type,!0);case 31:return vl("Activity");default:return""}}function rf(e){try{var t="";do t+=E0(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function of(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C0(e){var t=of(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){s=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ys(e){e._valueTracker||(e._valueTracker=C0(e))}function cf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=of(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var T0=/[\n"\\]/g;function vn(e){return e.replace(T0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zo(e,t,i,s,o,u,m,g){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Lo(e,m,_n(t)):i!=null?Lo(e,m,_n(i)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+_n(g):e.removeAttribute("name")}function uf(e,t,i,s,o,u,m,g){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;i=i!=null?""+_n(i):"",t=t!=null?""+_n(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=g?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Lo(e,t,i){t==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function bl(e,t,i,s){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&s&&(e[i].defaultSelected=!0)}else{for(i=""+_n(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function df(e,t,i){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+_n(i):""}function ff(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(le(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=_n(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s)}function Sl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var w0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||w0.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function mf(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&i[o]!==s&&hf(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&hf(e,u,t[u])}function Uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),N0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return N0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bo=null;function ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,El=null;function pf(e){var t=ee(e);if(t&&(e=t.stateNode)){var i=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(zo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+vn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var o=s[Ht]||null;if(!o)throw Error(r(90));zo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&cf(s)}break e;case"textarea":df(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&bl(e,!!i.multiple,t,!1)}}}var Io=!1;function gf(e,t,i){if(Io)return e(t,i);Io=!0;try{var s=e(t);return s}finally{if(Io=!1,(xl!==null||El!==null)&&(Dr(),xl&&(t=xl,e=El,El=xl=null,pf(t),e)))for(t=0;t<e.length;t++)pf(e[t])}}function ya(e,t){var i=e.stateNode;if(i===null)return null;var s=i[Ht]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(Fn)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Ho=!1}var pi=null,qo=null,Xs=null;function yf(){if(Xs)return Xs;var e,t=qo,i=t.length,s,o="value"in pi?pi.value:pi.textContent,u=o.length;for(e=0;e<i&&t[e]===o[e];e++);var m=i-e;for(s=1;s<=m&&t[i-s]===o[u-s];s++);return Xs=o.slice(e,1<s?1-s:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function _f(){return!1}function Zt(e){function t(i,s,o,u,m){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ws:_f,this.isPropagationStopped=_f,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Zt(Qi),va=b({},Qi,{view:0,detail:0}),R0=Zt(va),Vo,Yo,ba,Zs=b({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ba&&(ba&&e.type==="mousemove"?(Vo=e.screenX-ba.screenX,Yo=e.screenY-ba.screenY):Yo=Vo=0,ba=e),Vo)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),vf=Zt(Zs),D0=b({},Zs,{dataTransfer:0}),O0=Zt(D0),M0=b({},va,{relatedTarget:0}),Go=Zt(M0),j0=b({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),z0=Zt(j0),L0=b({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U0=Zt(L0),B0=b({},Qi,{data:0}),bf=Zt(B0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H0[e])?!!t[e]:!1}function Qo(){return q0}var V0=b({},va,{key:function(e){if(e.key){var t=k0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y0=Zt(V0),G0=b({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=Zt(G0),Q0=b({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),X0=Zt(Q0),F0=b({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),W0=Zt(F0),P0=b({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=Zt(P0),K0=b({},Qi,{newState:0,oldState:0}),$0=Zt(K0),J0=[9,13,27,32],Xo=Fn&&"CompositionEvent"in window,Sa=null;Fn&&"documentMode"in document&&(Sa=document.documentMode);var e_=Fn&&"TextEvent"in window&&!Sa,xf=Fn&&(!Xo||Sa&&8<Sa&&11>=Sa),Ef=" ",Cf=!1;function Tf(e,t){switch(e){case"keyup":return J0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cl=!1;function t_(e,t){switch(e){case"compositionend":return wf(t);case"keypress":return t.which!==32?null:(Cf=!0,Ef);case"textInput":return e=t.data,e===Ef&&Cf?null:e;default:return null}}function n_(e,t){if(Cl)return e==="compositionend"||!Xo&&Tf(e,t)?(e=yf(),Xs=qo=pi=null,Cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xf&&t.locale!=="ko"?null:t.data;default:return null}}var i_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i_[e.type]:t==="textarea"}function Nf(e,t,i,s){xl?El?El.push(s):El=[s]:xl=s,t=Ur(t,"onChange"),0<t.length&&(i=new Ps("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var xa=null,Ea=null;function l_(e){op(e,0)}function Ks(e){var t=X(e);if(cf(t))return e}function Rf(e,t){if(e==="change")return t}var Df=!1;if(Fn){var Fo;if(Fn){var Wo="oninput"in document;if(!Wo){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),Wo=typeof Of.oninput=="function"}Fo=Wo}else Fo=!1;Df=Fo&&(!document.documentMode||9<document.documentMode)}function Mf(){xa&&(xa.detachEvent("onpropertychange",jf),Ea=xa=null)}function jf(e){if(e.propertyName==="value"&&Ks(Ea)){var t=[];Nf(t,Ea,e,ko(e)),gf(l_,t)}}function a_(e,t,i){e==="focusin"?(Mf(),xa=t,Ea=i,xa.attachEvent("onpropertychange",jf)):e==="focusout"&&Mf()}function s_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(Ea)}function r_(e,t){if(e==="click")return Ks(t)}function o_(e,t){if(e==="input"||e==="change")return Ks(t)}function c_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:c_;function Ca(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!se.call(t,o)||!cn(e[o],t[o]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lf(e,t){var i=zf(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zf(i)}}function Uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var u_=Fn&&"documentMode"in document&&11>=document.documentMode,Tl=null,Zo=null,Ta=null,Ko=!1;function kf(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ko||Tl==null||Tl!==Gs(s)||(s=Tl,"selectionStart"in s&&Po(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ta&&Ca(Ta,s)||(Ta=s,s=Ur(Zo,"onSelect"),0<s.length&&(t=new Ps("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Tl)))}function Xi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var wl={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},$o={},If={};Fn&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function Fi(e){if($o[e])return $o[e];if(!wl[e])return e;var t=wl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in If)return $o[e]=t[i];return e}var Hf=Fi("animationend"),qf=Fi("animationiteration"),Vf=Fi("animationstart"),d_=Fi("transitionrun"),f_=Fi("transitionstart"),h_=Fi("transitioncancel"),Yf=Fi("transitionend"),Gf=new Map,Jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jo.push("scrollEnd");function Nn(e,t){Gf.set(e,t),Ue(t,[e])}var Qf=new WeakMap;function bn(e,t){if(typeof e=="object"&&e!==null){var i=Qf.get(e);return i!==void 0?i:(t={value:e,source:t,stack:rf(t)},Qf.set(e,t),t)}return{value:e,source:t,stack:rf(t)}}var Sn=[],Al=0,ec=0;function $s(){for(var e=Al,t=ec=Al=0;t<e;){var i=Sn[t];Sn[t++]=null;var s=Sn[t];Sn[t++]=null;var o=Sn[t];Sn[t++]=null;var u=Sn[t];if(Sn[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&Xf(i,o,u)}}function Js(e,t,i,s){Sn[Al++]=e,Sn[Al++]=t,Sn[Al++]=i,Sn[Al++]=s,ec|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function tc(e,t,i,s){return Js(e,t,i,s),er(e)}function Nl(e,t){return Js(e,null,null,t),er(e)}function Xf(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var o=!1,u=e.return;u!==null;)u.childLanes|=i,s=u.alternate,s!==null&&(s.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-rt(i),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=i|536870912),u):null}function er(e){if(50<Za)throw Za=0,ru=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Rl={};function m_(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,i,s){return new m_(e,t,i,s)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wn(e,t){var i=e.alternate;return i===null?(i=un(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ff(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function tr(e,t,i,s,o,u){var m=0;if(s=e,typeof e=="function")nc(e)&&(m=1);else if(typeof e=="string")m=gv(e,i,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case vt:return e=un(31,i,t,o),e.elementType=vt,e.lanes=u,e;case z:return Wi(i.children,o,u,t);case P:m=8,o|=24;break;case be:return e=un(12,i,t,o|2),e.elementType=be,e.lanes=u,e;case pe:return e=un(13,i,t,o),e.elementType=pe,e.lanes=u,e;case nt:return e=un(19,i,t,o),e.elementType=nt,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:case Ie:m=10;break e;case de:m=9;break e;case ge:m=11;break e;case mt:m=14;break e;case Me:m=16,s=null;break e}m=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=un(m,i,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function Wi(e,t,i,s){return e=un(7,e,s,t),e.lanes=i,e}function ic(e,t,i){return e=un(6,e,null,t),e.lanes=i,e}function lc(e,t,i){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dl=[],Ol=0,nr=null,ir=0,xn=[],En=0,Pi=null,Pn=1,Zn="";function Zi(e,t){Dl[Ol++]=ir,Dl[Ol++]=nr,nr=e,ir=t}function Wf(e,t,i){xn[En++]=Pn,xn[En++]=Zn,xn[En++]=Pi,Pi=e;var s=Pn;e=Zn;var o=32-rt(s)-1;s&=~(1<<o),i+=1;var u=32-rt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,Pn=1<<32-rt(t)+o|i<<o|s,Zn=u+e}else Pn=1<<u|i<<o|s,Zn=e}function ac(e){e.return!==null&&(Zi(e,1),Wf(e,1,0))}function sc(e){for(;e===nr;)nr=Dl[--Ol],Dl[Ol]=null,ir=Dl[--Ol],Dl[Ol]=null;for(;e===Pi;)Pi=xn[--En],xn[En]=null,Zn=xn[--En],xn[En]=null,Pn=xn[--En],xn[En]=null}var Pt=null,gt=null,Ve=!1,Ki=null,kn=!1,rc=Error(r(519));function $i(e){var t=Error(r(418,""));throw Na(bn(t,e)),rc}function Pf(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[Nt]=e,t[Ht]=s,i){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(i=0;i<$a.length;i++)De($a[i],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),uf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Ys(t);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),ff(t,s.value,s.defaultValue,s.children),Ys(t)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||fp(t.textContent,i)?(s.popover!=null&&(De("beforetoggle",t),De("toggle",t)),s.onScroll!=null&&De("scroll",t),s.onScrollEnd!=null&&De("scrollend",t),s.onClick!=null&&(t.onclick=Br),t=!0):t=!1,t||$i(e)}function Zf(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Pt=Pt.return}}function wa(e){if(e!==Pt)return!1;if(!Ve)return Zf(e),Ve=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Eu(e.type,e.memoizedProps)),i=!i),i&&gt&&$i(e),Zf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){gt=Dn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}gt=null}}else t===27?(t=gt,Oi(e.type)?(e=Au,Au=null,gt=e):gt=t):gt=Pt?Dn(e.stateNode.nextSibling):null;return!0}function Aa(){gt=Pt=null,Ve=!1}function Kf(){var e=Ki;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),Ki=null),e}function Na(e){Ki===null?Ki=[e]:Ki.push(e)}var oc=U(null),Ji=null,Kn=null;function gi(e,t,i){V(oc,t._currentValue),t._currentValue=i}function $n(e){e._currentValue=oc.current,W(oc)}function cc(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function uc(e,t,i,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var g=u;u=o;for(var S=0;S<t.length;S++)if(g.context===t[S]){u.lanes|=i,g=u.alternate,g!==null&&(g.lanes|=i),cc(u.return,i,e),s||(m=null);break e}u=g.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=i,u=m.alternate,u!==null&&(u.lanes|=i),cc(m,i,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Ra(e,t,i,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var g=o.type;cn(o.pendingProps.value,m.value)||(e!==null?e.push(g):e=[g])}}else if(o===$.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ls):e=[ls])}o=o.return}e!==null&&uc(t,e,i,s),t.flags|=262144}function lr(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function el(e){Ji=e,Kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return $f(Ji,e)}function ar(e,t){return Ji===null&&el(e),$f(e,t)}function $f(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Kn===null){if(e===null)throw Error(r(308));Kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kn=Kn.next=t;return i}var p_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},g_=a.unstable_scheduleCallback,y_=a.unstable_NormalPriority,Rt={$$typeof:Ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new p_,data:new Map,refCount:0}}function Da(e){e.refCount--,e.refCount===0&&g_(y_,function(){e.controller.abort()})}var Oa=null,fc=0,Ml=0,jl=null;function __(e,t){if(Oa===null){var i=Oa=[];fc=0,Ml=mu(),jl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return fc++,t.then(Jf,Jf),t}function Jf(){if(--fc===0&&Oa!==null){jl!==null&&(jl.status="fulfilled");var e=Oa;Oa=null,Ml=0,jl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function v_(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var eh=j.S;j.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&__(e,t),eh!==null&&eh(e,t)};var tl=U(null);function hc(){var e=tl.current;return e!==null?e:lt.pooledCache}function sr(e,t){t===null?V(tl,tl.current):V(tl,t.pool)}function th(){var e=hc();return e===null?null:{parent:Rt._currentValue,pool:e}}var Ma=Error(r(460)),nh=Error(r(474)),rr=Error(r(542)),mc={then:function(){}};function ih(e){return e=e.status,e==="fulfilled"||e==="rejected"}function or(){}function lh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(or,or),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e;default:if(typeof t.status=="string")t.then(or,or);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e}throw ja=t,Ma}}var ja=null;function ah(){if(ja===null)throw Error(r(459));var e=ja;return ja=null,e}function sh(e){if(e===Ma||e===rr)throw Error(r(483))}var yi=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Fe&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=er(e),Xf(e,null,i),t}return Js(e,s,t,i),er(e)}function za(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Hs(e,i)}}function yc(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,i=i.next}while(i!==null);u===null?o=u=t:u=u.next=t}else o=u=t;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var _c=!1;function La(){if(_c){var e=jl;if(e!==null)throw e}}function Ua(e,t,i,s){_c=!1;var o=e.updateQueue;yi=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var S=g,R=S.next;S.next=null,m===null?u=R:m.next=R,m=S;var L=e.alternate;L!==null&&(L=L.updateQueue,g=L.lastBaseUpdate,g!==m&&(g===null?L.firstBaseUpdate=R:g.next=R,L.lastBaseUpdate=S))}if(u!==null){var I=o.baseState;m=0,L=R=S=null,g=u;do{var O=g.lane&-536870913,M=O!==g.lane;if(M?(ke&O)===O:(s&O)===O){O!==0&&O===Ml&&(_c=!0),L!==null&&(L=L.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var _e=e,he=g;O=t;var Ke=i;switch(he.tag){case 1:if(_e=he.payload,typeof _e=="function"){I=_e.call(Ke,I,O);break e}I=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=he.payload,O=typeof _e=="function"?_e.call(Ke,I,O):_e,O==null)break e;I=b({},I,O);break e;case 2:yi=!0}}O=g.callback,O!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[O]:M.push(O))}else M={lane:O,tag:g.tag,payload:g.payload,callback:g.callback,next:null},L===null?(R=L=M,S=I):L=L.next=M,m|=O;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;M=g,g=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);L===null&&(S=I),o.baseState=S,o.firstBaseUpdate=R,o.lastBaseUpdate=L,u===null&&(o.shared.lanes=0),Ai|=m,e.lanes=m,e.memoizedState=I}}function rh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function oh(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)rh(i[e],t)}var zl=U(null),cr=U(0);function ch(e,t){e=ai,V(cr,e),V(zl,t),ai=e|t.baseLanes}function vc(){V(cr,ai),V(zl,zl.current)}function bc(){ai=cr.current,W(zl),W(cr)}var bi=0,Te=null,Pe=null,wt=null,ur=!1,Ll=!1,nl=!1,dr=0,Ba=0,Ul=null,b_=0;function Et(){throw Error(r(321))}function Sc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!cn(e[i],t[i]))return!1;return!0}function xc(e,t,i,s,o,u){return bi=u,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Xh:Fh,nl=!1,u=i(s,o),nl=!1,Ll&&(u=dh(t,i,s,o)),uh(e),u}function uh(e){j.H=yr;var t=Pe!==null&&Pe.next!==null;if(bi=0,wt=Pe=Te=null,ur=!1,Ba=0,Ul=null,t)throw Error(r(300));e===null||zt||(e=e.dependencies,e!==null&&lr(e)&&(zt=!0))}function dh(e,t,i,s){Te=e;var o=0;do{if(Ll&&(Ul=null),Ba=0,Ll=!1,25<=o)throw Error(r(301));if(o+=1,wt=Pe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}j.H=A_,u=t(i,s)}while(Ll);return u}function S_(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?ka(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(Te.flags|=1024),t}function Ec(){var e=dr!==0;return dr=0,e}function Cc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Tc(e){if(ur){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ur=!1}bi=0,wt=Pe=Te=null,Ll=!1,Ba=dr=0,Ul=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Te.memoizedState=wt=e:wt=wt.next=e,wt}function At(){if(Pe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=wt===null?Te.memoizedState:wt.next;if(t!==null)wt=t,Pe=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},wt===null?Te.memoizedState=wt=e:wt=wt.next=e}return wt}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ka(e){var t=Ba;return Ba+=1,Ul===null&&(Ul=[]),e=lh(Ul,e,t),t=Te,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Xh:Fh),e}function fr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ka(e);if(e.$$typeof===Ie)return Xt(e)}throw Error(r(438,String(e)))}function Ac(e){var t=null,i=Te.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=Te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=wc(),Te.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=an;return t.index++,i}function Jn(e,t){return typeof t=="function"?t(e):t}function hr(e){var t=At();return Nc(t,Pe,e)}function Nc(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var g=m=null,S=null,R=t,L=!1;do{var I=R.lane&-536870913;if(I!==R.lane?(ke&I)===I:(bi&I)===I){var O=R.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),I===Ml&&(L=!0);else if((bi&O)===O){R=R.next,O===Ml&&(L=!0);continue}else I={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(g=S=I,m=u):S=S.next=I,Te.lanes|=O,Ai|=O;I=R.action,nl&&i(u,I),u=R.hasEagerState?R.eagerState:i(u,I)}else O={lane:I,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(g=S=O,m=u):S=S.next=O,Te.lanes|=I,Ai|=I;R=R.next}while(R!==null&&R!==t);if(S===null?m=u:S.next=g,!cn(u,e.memoizedState)&&(zt=!0,L&&(i=jl,i!==null)))throw i;e.memoizedState=u,e.baseState=m,e.baseQueue=S,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Rc(e){var t=At(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,o=i.pending,u=t.memoizedState;if(o!==null){i.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);cn(u,t.memoizedState)||(zt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function fh(e,t,i){var s=Te,o=At(),u=Ve;if(u){if(i===void 0)throw Error(r(407));i=i()}else i=t();var m=!cn((Pe||o).memoizedState,i);m&&(o.memoizedState=i,zt=!0),o=o.queue;var g=ph.bind(null,s,o,e);if(Ia(2048,8,g,[e]),o.getSnapshot!==t||m||wt!==null&&wt.memoizedState.tag&1){if(s.flags|=2048,Bl(9,mr(),mh.bind(null,s,o,i,t),null),lt===null)throw Error(r(349));u||(bi&124)!==0||hh(s,t,i)}return i}function hh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Te.updateQueue,t===null?(t=wc(),Te.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function mh(e,t,i,s){t.value=i,t.getSnapshot=s,gh(t)&&yh(e)}function ph(e,t,i){return i(function(){gh(t)&&yh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!cn(e,i)}catch{return!0}}function yh(e){var t=Nl(e,2);t!==null&&pn(t,e,2)}function Dc(e){var t=Kt();if(typeof e=="function"){var i=e;if(e=i(),nl){Tt(!0);try{i()}finally{Tt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},t}function _h(e,t,i,s){return e.baseState=i,Nc(e,Pe,typeof s=="function"?s:Jn)}function x_(e,t,i,s,o){if(gr(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};j.T!==null?i(!0):u.isTransition=!1,s(u),i=t.pending,i===null?(u.next=t.pending=u,vh(t,u)):(u.next=i.next,t.pending=i.next=u)}}function vh(e,t){var i=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=j.T,m={};j.T=m;try{var g=i(o,s),S=j.S;S!==null&&S(m,g),bh(e,t,g)}catch(R){Oc(e,t,R)}finally{j.T=u}}else try{u=i(o,s),bh(e,t,u)}catch(R){Oc(e,t,R)}}function bh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Sh(e,t,s)},function(s){return Oc(e,t,s)}):Sh(e,t,i)}function Sh(e,t,i){t.status="fulfilled",t.value=i,xh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,vh(e,i)))}function Oc(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,xh(t),t=t.next;while(t!==s)}e.action=null}function xh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Eh(e,t){return t}function Ch(e,t){if(Ve){var i=lt.formState;if(i!==null){e:{var s=Te;if(Ve){if(gt){t:{for(var o=gt,u=kn;o.nodeType!==8;){if(!u){o=null;break t}if(o=Dn(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){gt=Dn(o.nextSibling),s=o.data==="F!";break e}}$i(s)}s=!1}s&&(t=i[0])}}return i=Kt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:t},i.queue=s,i=Yh.bind(null,Te,s),s.dispatch=i,s=Dc(!1),u=Uc.bind(null,Te,!1,s.queue),s=Kt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,i=x_.bind(null,Te,o,u,i),o.dispatch=i,s.memoizedState=e,[t,i,!1]}function Th(e){var t=At();return wh(t,Pe,e)}function wh(e,t,i){if(t=Nc(e,t,Eh)[0],e=hr(Jn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ka(t)}catch(m){throw m===Ma?rr:m}else s=t;t=At();var o=t.queue,u=o.dispatch;return i!==t.memoizedState&&(Te.flags|=2048,Bl(9,mr(),E_.bind(null,o,i),null)),[s,u,e]}function E_(e,t){e.action=t}function Ah(e){var t=At(),i=Pe;if(i!==null)return wh(t,i,e);At(),t=t.memoizedState,i=At();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Bl(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=Te.updateQueue,t===null&&(t=wc(),Te.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function mr(){return{destroy:void 0,resource:void 0}}function Nh(){return At().memoizedState}function pr(e,t,i,s){var o=Kt();s=s===void 0?null:s,Te.flags|=e,o.memoizedState=Bl(1|t,mr(),i,s)}function Ia(e,t,i,s){var o=At();s=s===void 0?null:s;var u=o.memoizedState.inst;Pe!==null&&s!==null&&Sc(s,Pe.memoizedState.deps)?o.memoizedState=Bl(t,u,i,s):(Te.flags|=e,o.memoizedState=Bl(1|t,u,i,s))}function Rh(e,t){pr(8390656,8,e,t)}function Dh(e,t){Ia(2048,8,e,t)}function Oh(e,t){return Ia(4,2,e,t)}function Mh(e,t){return Ia(4,4,e,t)}function jh(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zh(e,t,i){i=i!=null?i.concat([e]):null,Ia(4,4,jh.bind(null,t,e),i)}function Mc(){}function Lh(e,t){var i=At();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Sc(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Uh(e,t){var i=At();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Sc(t,s[1]))return s[0];if(s=e(),nl){Tt(!0);try{e()}finally{Tt(!1)}}return i.memoizedState=[s,t],s}function jc(e,t,i){return i===void 0||(bi&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Im(),Te.lanes|=e,Ai|=e,i)}function Bh(e,t,i,s){return cn(i,t)?i:zl.current!==null?(e=jc(e,i,s),cn(e,t)||(zt=!0),e):(bi&42)===0?(zt=!0,e.memoizedState=i):(e=Im(),Te.lanes|=e,Ai|=e,t)}function kh(e,t,i,s,o){var u=Y.p;Y.p=u!==0&&8>u?u:8;var m=j.T,g={};j.T=g,Uc(e,!1,t,i);try{var S=o(),R=j.S;if(R!==null&&R(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=v_(S,s);Ha(e,t,L,mn(e))}else Ha(e,t,s,mn(e))}catch(I){Ha(e,t,{then:function(){},status:"rejected",reason:I},mn())}finally{Y.p=u,j.T=m}}function C_(){}function zc(e,t,i,s){if(e.tag!==5)throw Error(r(476));var o=Ih(e).queue;kh(e,o,t,Z,i===null?C_:function(){return Hh(e),i(s)})}function Ih(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:Z},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hh(e){var t=Ih(e).next.queue;Ha(e,t,{},mn())}function Lc(){return Xt(ls)}function qh(){return At().memoizedState}function Vh(){return At().memoizedState}function T_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=mn();e=_i(i);var s=vi(t,e,i);s!==null&&(pn(s,t,i),za(s,t,i)),t={cache:dc()},e.payload=t;return}t=t.return}}function w_(e,t,i){var s=mn();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},gr(e)?Gh(t,i):(i=tc(e,t,i,s),i!==null&&(pn(i,e,s),Qh(i,t,s)))}function Yh(e,t,i){var s=mn();Ha(e,t,i,s)}function Ha(e,t,i,s){var o={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(gr(e))Gh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,g=u(m,i);if(o.hasEagerState=!0,o.eagerState=g,cn(g,m))return Js(e,t,o,0),lt===null&&$s(),!1}catch{}finally{}if(i=tc(e,t,o,s),i!==null)return pn(i,e,s),Qh(i,t,s),!0}return!1}function Uc(e,t,i,s){if(s={lane:2,revertLane:mu(),action:s,hasEagerState:!1,eagerState:null,next:null},gr(e)){if(t)throw Error(r(479))}else t=tc(e,i,s,2),t!==null&&pn(t,e,2)}function gr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Gh(e,t){Ll=ur=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Qh(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Hs(e,i)}}var yr={readContext:Xt,use:fr,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},Xh={readContext:Xt,use:fr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:Rh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,pr(4194308,4,jh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return pr(4194308,4,e,t)},useInsertionEffect:function(e,t){pr(4,2,e,t)},useMemo:function(e,t){var i=Kt();t=t===void 0?null:t;var s=e();if(nl){Tt(!0);try{e()}finally{Tt(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Kt();if(i!==void 0){var o=i(t);if(nl){Tt(!0);try{i(t)}finally{Tt(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=w_.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Dc(e);var t=e.queue,i=Yh.bind(null,Te,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Mc,useDeferredValue:function(e,t){var i=Kt();return jc(i,e,t)},useTransition:function(){var e=Dc(!1);return e=kh.bind(null,Te,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=Te,o=Kt();if(Ve){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),lt===null)throw Error(r(349));(ke&124)!==0||hh(s,t,i)}o.memoizedState=i;var u={value:i,getSnapshot:t};return o.queue=u,Rh(ph.bind(null,s,u,e),[e]),s.flags|=2048,Bl(9,mr(),mh.bind(null,s,u,i,t),null),i},useId:function(){var e=Kt(),t=lt.identifierPrefix;if(Ve){var i=Zn,s=Pn;i=(s&~(1<<32-rt(s)-1)).toString(32)+i,t=""+t+"R"+i,i=dr++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=b_++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Lc,useFormState:Ch,useActionState:Ch,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Uc.bind(null,Te,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ac,useCacheRefresh:function(){return Kt().memoizedState=T_.bind(null,Te)}},Fh={readContext:Xt,use:fr,useCallback:Lh,useContext:Xt,useEffect:Dh,useImperativeHandle:zh,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Uh,useReducer:hr,useRef:Nh,useState:function(){return hr(Jn)},useDebugValue:Mc,useDeferredValue:function(e,t){var i=At();return Bh(i,Pe.memoizedState,e,t)},useTransition:function(){var e=hr(Jn)[0],t=At().memoizedState;return[typeof e=="boolean"?e:ka(e),t]},useSyncExternalStore:fh,useId:qh,useHostTransitionStatus:Lc,useFormState:Th,useActionState:Th,useOptimistic:function(e,t){var i=At();return _h(i,Pe,e,t)},useMemoCache:Ac,useCacheRefresh:Vh},A_={readContext:Xt,use:fr,useCallback:Lh,useContext:Xt,useEffect:Dh,useImperativeHandle:zh,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Uh,useReducer:Rc,useRef:Nh,useState:function(){return Rc(Jn)},useDebugValue:Mc,useDeferredValue:function(e,t){var i=At();return Pe===null?jc(i,e,t):Bh(i,Pe.memoizedState,e,t)},useTransition:function(){var e=Rc(Jn)[0],t=At().memoizedState;return[typeof e=="boolean"?e:ka(e),t]},useSyncExternalStore:fh,useId:qh,useHostTransitionStatus:Lc,useFormState:Ah,useActionState:Ah,useOptimistic:function(e,t){var i=At();return Pe!==null?_h(i,Pe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ac,useCacheRefresh:Vh},kl=null,qa=0;function _r(e){var t=qa;return qa+=1,kl===null&&(kl=[]),lh(kl,e,t)}function Va(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vr(e,t){throw t.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wh(e){var t=e._init;return t(e._payload)}function Ph(e){function t(w,C){if(e){var N=w.deletions;N===null?(w.deletions=[C],w.flags|=16):N.push(C)}}function i(w,C){if(!e)return null;for(;C!==null;)t(w,C),C=C.sibling;return null}function s(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function o(w,C){return w=Wn(w,C),w.index=0,w.sibling=null,w}function u(w,C,N){return w.index=N,e?(N=w.alternate,N!==null?(N=N.index,N<C?(w.flags|=67108866,C):N):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function m(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function g(w,C,N,B){return C===null||C.tag!==6?(C=ic(N,w.mode,B),C.return=w,C):(C=o(C,N),C.return=w,C)}function S(w,C,N,B){var ie=N.type;return ie===z?L(w,C,N.props.children,B,N.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Me&&Wh(ie)===C.type)?(C=o(C,N.props),Va(C,N),C.return=w,C):(C=tr(N.type,N.key,N.props,null,w.mode,B),Va(C,N),C.return=w,C)}function R(w,C,N,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==N.containerInfo||C.stateNode.implementation!==N.implementation?(C=lc(N,w.mode,B),C.return=w,C):(C=o(C,N.children||[]),C.return=w,C)}function L(w,C,N,B,ie){return C===null||C.tag!==7?(C=Wi(N,w.mode,B,ie),C.return=w,C):(C=o(C,N),C.return=w,C)}function I(w,C,N){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ic(""+C,w.mode,N),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return N=tr(C.type,C.key,C.props,null,w.mode,N),Va(N,C),N.return=w,N;case q:return C=lc(C,w.mode,N),C.return=w,C;case Me:var B=C._init;return C=B(C._payload),I(w,C,N)}if(le(C)||$e(C))return C=Wi(C,w.mode,N,null),C.return=w,C;if(typeof C.then=="function")return I(w,_r(C),N);if(C.$$typeof===Ie)return I(w,ar(w,C),N);vr(w,C)}return null}function O(w,C,N,B){var ie=C!==null?C.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ie!==null?null:g(w,C,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case v:return N.key===ie?S(w,C,N,B):null;case q:return N.key===ie?R(w,C,N,B):null;case Me:return ie=N._init,N=ie(N._payload),O(w,C,N,B)}if(le(N)||$e(N))return ie!==null?null:L(w,C,N,B,null);if(typeof N.then=="function")return O(w,C,_r(N),B);if(N.$$typeof===Ie)return O(w,C,ar(w,N),B);vr(w,N)}return null}function M(w,C,N,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return w=w.get(N)||null,g(C,w,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return w=w.get(B.key===null?N:B.key)||null,S(C,w,B,ie);case q:return w=w.get(B.key===null?N:B.key)||null,R(C,w,B,ie);case Me:var we=B._init;return B=we(B._payload),M(w,C,N,B,ie)}if(le(B)||$e(B))return w=w.get(N)||null,L(C,w,B,ie,null);if(typeof B.then=="function")return M(w,C,N,_r(B),ie);if(B.$$typeof===Ie)return M(w,C,N,ar(C,B),ie);vr(C,B)}return null}function _e(w,C,N,B){for(var ie=null,we=null,re=C,me=C=0,Ut=null;re!==null&&me<N.length;me++){re.index>me?(Ut=re,re=null):Ut=re.sibling;var qe=O(w,re,N[me],B);if(qe===null){re===null&&(re=Ut);break}e&&re&&qe.alternate===null&&t(w,re),C=u(qe,C,me),we===null?ie=qe:we.sibling=qe,we=qe,re=Ut}if(me===N.length)return i(w,re),Ve&&Zi(w,me),ie;if(re===null){for(;me<N.length;me++)re=I(w,N[me],B),re!==null&&(C=u(re,C,me),we===null?ie=re:we.sibling=re,we=re);return Ve&&Zi(w,me),ie}for(re=s(re);me<N.length;me++)Ut=M(re,w,me,N[me],B),Ut!==null&&(e&&Ut.alternate!==null&&re.delete(Ut.key===null?me:Ut.key),C=u(Ut,C,me),we===null?ie=Ut:we.sibling=Ut,we=Ut);return e&&re.forEach(function(Ui){return t(w,Ui)}),Ve&&Zi(w,me),ie}function he(w,C,N,B){if(N==null)throw Error(r(151));for(var ie=null,we=null,re=C,me=C=0,Ut=null,qe=N.next();re!==null&&!qe.done;me++,qe=N.next()){re.index>me?(Ut=re,re=null):Ut=re.sibling;var Ui=O(w,re,qe.value,B);if(Ui===null){re===null&&(re=Ut);break}e&&re&&Ui.alternate===null&&t(w,re),C=u(Ui,C,me),we===null?ie=Ui:we.sibling=Ui,we=Ui,re=Ut}if(qe.done)return i(w,re),Ve&&Zi(w,me),ie;if(re===null){for(;!qe.done;me++,qe=N.next())qe=I(w,qe.value,B),qe!==null&&(C=u(qe,C,me),we===null?ie=qe:we.sibling=qe,we=qe);return Ve&&Zi(w,me),ie}for(re=s(re);!qe.done;me++,qe=N.next())qe=M(re,w,me,qe.value,B),qe!==null&&(e&&qe.alternate!==null&&re.delete(qe.key===null?me:qe.key),C=u(qe,C,me),we===null?ie=qe:we.sibling=qe,we=qe);return e&&re.forEach(function(Nv){return t(w,Nv)}),Ve&&Zi(w,me),ie}function Ke(w,C,N,B){if(typeof N=="object"&&N!==null&&N.type===z&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case v:e:{for(var ie=N.key;C!==null;){if(C.key===ie){if(ie=N.type,ie===z){if(C.tag===7){i(w,C.sibling),B=o(C,N.props.children),B.return=w,w=B;break e}}else if(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Me&&Wh(ie)===C.type){i(w,C.sibling),B=o(C,N.props),Va(B,N),B.return=w,w=B;break e}i(w,C);break}else t(w,C);C=C.sibling}N.type===z?(B=Wi(N.props.children,w.mode,B,N.key),B.return=w,w=B):(B=tr(N.type,N.key,N.props,null,w.mode,B),Va(B,N),B.return=w,w=B)}return m(w);case q:e:{for(ie=N.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===N.containerInfo&&C.stateNode.implementation===N.implementation){i(w,C.sibling),B=o(C,N.children||[]),B.return=w,w=B;break e}else{i(w,C);break}else t(w,C);C=C.sibling}B=lc(N,w.mode,B),B.return=w,w=B}return m(w);case Me:return ie=N._init,N=ie(N._payload),Ke(w,C,N,B)}if(le(N))return _e(w,C,N,B);if($e(N)){if(ie=$e(N),typeof ie!="function")throw Error(r(150));return N=ie.call(N),he(w,C,N,B)}if(typeof N.then=="function")return Ke(w,C,_r(N),B);if(N.$$typeof===Ie)return Ke(w,C,ar(w,N),B);vr(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,C!==null&&C.tag===6?(i(w,C.sibling),B=o(C,N),B.return=w,w=B):(i(w,C),B=ic(N,w.mode,B),B.return=w,w=B),m(w)):i(w,C)}return function(w,C,N,B){try{qa=0;var ie=Ke(w,C,N,B);return kl=null,ie}catch(re){if(re===Ma||re===rr)throw re;var we=un(29,re,null,w.mode);return we.lanes=B,we.return=w,we}finally{}}}var Il=Ph(!0),Zh=Ph(!1),Cn=U(null),In=null;function Si(e){var t=e.alternate;V(Dt,Dt.current&1),V(Cn,e),In===null&&(t===null||zl.current!==null||t.memoizedState!==null)&&(In=e)}function Kh(e){if(e.tag===22){if(V(Dt,Dt.current),V(Cn,e),In===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(In=e)}}else xi()}function xi(){V(Dt,Dt.current),V(Cn,Cn.current)}function ei(e){W(Cn),In===e&&(In=null),W(Dt)}var Dt=U(0);function br(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||wu(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bc(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var kc={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=mn(),o=_i(s);o.payload=t,i!=null&&(o.callback=i),t=vi(e,o,s),t!==null&&(pn(t,e,s),za(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=mn(),o=_i(s);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=vi(e,o,s),t!==null&&(pn(t,e,s),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=mn(),s=_i(i);s.tag=2,t!=null&&(s.callback=t),t=vi(e,s,i),t!==null&&(pn(t,e,i),za(t,e,i))}};function $h(e,t,i,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!Ca(i,s)||!Ca(o,u):!0}function Jh(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&kc.enqueueReplaceState(t,t.state,null)}function il(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var Sr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function em(e){Sr(e)}function tm(e){console.error(e)}function nm(e){Sr(e)}function xr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function im(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ic(e,t,i){return i=_i(i),i.tag=3,i.payload={element:null},i.callback=function(){xr(e,t)},i}function lm(e){return e=_i(e),e.tag=3,e}function am(e,t,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){im(t,i,s)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){im(t,i,s),typeof o!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})})}function N_(e,t,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Ra(t,i,o,!0),i=Cn.current,i!==null){switch(i.tag){case 13:return In===null?cu():i.alternate===null&&yt===0&&(yt=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===mc?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),du(e,s,o)),!1;case 22:return i.flags|=65536,s===mc?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),du(e,s,o)),!1}throw Error(r(435,i.tag))}return du(e,s,o),cu(),!1}if(Ve)return t=Cn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==rc&&(e=Error(r(422),{cause:s}),Na(bn(e,i)))):(s!==rc&&(t=Error(r(423),{cause:s}),Na(bn(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=bn(s,i),o=Ic(e.stateNode,s,o),yc(e,o),yt!==4&&(yt=2)),!1;var u=Error(r(520),{cause:s});if(u=bn(u,i),Pa===null?Pa=[u]:Pa.push(u),yt!==4&&(yt=2),t===null)return!0;s=bn(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=Ic(i.stateNode,s,e),yc(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ni===null||!Ni.has(u))))return i.flags|=65536,o&=-o,i.lanes|=o,o=lm(o),am(o,e,i,s),yc(i,o),!1}i=i.return}while(i!==null);return!1}var sm=Error(r(461)),zt=!1;function Vt(e,t,i,s){t.child=e===null?Zh(t,null,i,s):Il(t,e.child,i,s)}function rm(e,t,i,s,o){i=i.render;var u=t.ref;if("ref"in s){var m={};for(var g in s)g!=="ref"&&(m[g]=s[g])}else m=s;return el(t),s=xc(e,t,i,m,u,o),g=Ec(),e!==null&&!zt?(Cc(e,t,o),ti(e,t,o)):(Ve&&g&&ac(t),t.flags|=1,Vt(e,t,s,o),t.child)}function om(e,t,i,s,o){if(e===null){var u=i.type;return typeof u=="function"&&!nc(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,cm(e,t,u,s,o)):(e=tr(i.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Fc(e,o)){var m=u.memoizedProps;if(i=i.compare,i=i!==null?i:Ca,i(m,s)&&e.ref===t.ref)return ti(e,t,o)}return t.flags|=1,e=Wn(u,s),e.ref=t.ref,e.return=t,t.child=e}function cm(e,t,i,s,o){if(e!==null){var u=e.memoizedProps;if(Ca(u,s)&&e.ref===t.ref)if(zt=!1,t.pendingProps=s=u,Fc(e,o))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,ti(e,t,o)}return Hc(e,t,i,s,o)}function um(e,t,i){var s=t.pendingProps,o=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=u!==null?u.baseLanes|i:i,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;t.childLanes=u&~s}else t.childLanes=0,t.child=null;return dm(e,t,s,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&sr(t,u!==null?u.cachePool:null),u!==null?ch(t,u):vc(),Kh(t);else return t.lanes=t.childLanes=536870912,dm(e,t,u!==null?u.baseLanes|i:i,i)}else u!==null?(sr(t,u.cachePool),ch(t,u),xi(),t.memoizedState=null):(e!==null&&sr(t,null),vc(),xi());return Vt(e,t,o,i),t.child}function dm(e,t,i,s){var o=hc();return o=o===null?null:{parent:Rt._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&sr(t,null),vc(),Kh(t),e!==null&&Ra(e,t,s,!0),null}function Er(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Hc(e,t,i,s,o){return el(t),i=xc(e,t,i,s,void 0,o),s=Ec(),e!==null&&!zt?(Cc(e,t,o),ti(e,t,o)):(Ve&&s&&ac(t),t.flags|=1,Vt(e,t,i,o),t.child)}function fm(e,t,i,s,o,u){return el(t),t.updateQueue=null,i=dh(t,s,i,o),uh(e),s=Ec(),e!==null&&!zt?(Cc(e,t,u),ti(e,t,u)):(Ve&&s&&ac(t),t.flags|=1,Vt(e,t,i,u),t.child)}function hm(e,t,i,s,o){if(el(t),t.stateNode===null){var u=Rl,m=i.contextType;typeof m=="object"&&m!==null&&(u=Xt(m)),u=new i(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=kc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},pc(t),m=i.contextType,u.context=typeof m=="object"&&m!==null?Xt(m):Rl,u.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Bc(t,i,m,s),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&kc.enqueueReplaceState(u,u.state,null),Ua(t,s,u,o),La(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var g=t.memoizedProps,S=il(i,g);u.props=S;var R=u.context,L=i.contextType;m=Rl,typeof L=="object"&&L!==null&&(m=Xt(L));var I=i.getDerivedStateFromProps;L=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,L||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g||R!==m)&&Jh(t,u,s,m),yi=!1;var O=t.memoizedState;u.state=O,Ua(t,s,u,o),La(),R=t.memoizedState,g||O!==R||yi?(typeof I=="function"&&(Bc(t,i,I,s),R=t.memoizedState),(S=yi||$h(t,i,S,s,O,R,m))?(L||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),u.props=s,u.state=R,u.context=m,s=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,gc(e,t),m=t.memoizedProps,L=il(i,m),u.props=L,I=t.pendingProps,O=u.context,R=i.contextType,S=Rl,typeof R=="object"&&R!==null&&(S=Xt(R)),g=i.getDerivedStateFromProps,(R=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==I||O!==S)&&Jh(t,u,s,S),yi=!1,O=t.memoizedState,u.state=O,Ua(t,s,u,o),La();var M=t.memoizedState;m!==I||O!==M||yi||e!==null&&e.dependencies!==null&&lr(e.dependencies)?(typeof g=="function"&&(Bc(t,i,g,s),M=t.memoizedState),(L=yi||$h(t,i,L,s,O,M,S)||e!==null&&e.dependencies!==null&&lr(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,M,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,M,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),u.props=s,u.state=M,u.context=S,s=L):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Er(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Il(t,e.child,null,o),t.child=Il(t,null,i,o)):Vt(e,t,i,o),t.memoizedState=u.state,e=t.child):e=ti(e,t,o),e}function mm(e,t,i,s){return Aa(),t.flags|=256,Vt(e,t,i,s),t.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(e){return{baseLanes:e,cachePool:th()}}function Yc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Tn),e}function pm(e,t,i){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(o?Si(t):xi(),Ve){var g=gt,S;if(S=g){e:{for(S=g,g=kn;S.nodeType!==8;){if(!g){g=null;break e}if(S=Dn(S.nextSibling),S===null){g=null;break e}}g=S}g!==null?(t.memoizedState={dehydrated:g,treeContext:Pi!==null?{id:Pn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},S=un(18,null,null,0),S.stateNode=g,S.return=t,t.child=S,Pt=t,gt=null,S=!0):S=!1}S||$i(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return wu(g)?t.lanes=32:t.lanes=536870912,null;ei(t)}return g=s.children,s=s.fallback,o?(xi(),o=t.mode,g=Cr({mode:"hidden",children:g},o),s=Wi(s,o,i,null),g.return=t,s.return=t,g.sibling=s,t.child=g,o=t.child,o.memoizedState=Vc(i),o.childLanes=Yc(e,m,i),t.memoizedState=qc,s):(Si(t),Gc(t,g))}if(S=e.memoizedState,S!==null&&(g=S.dehydrated,g!==null)){if(u)t.flags&256?(Si(t),t.flags&=-257,t=Qc(e,t,i)):t.memoizedState!==null?(xi(),t.child=e.child,t.flags|=128,t=null):(xi(),o=s.fallback,g=t.mode,s=Cr({mode:"visible",children:s.children},g),o=Wi(o,g,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,Il(t,e.child,null,i),s=t.child,s.memoizedState=Vc(i),s.childLanes=Yc(e,m,i),t.memoizedState=qc,t=o);else if(Si(t),wu(g)){if(m=g.nextSibling&&g.nextSibling.dataset,m)var R=m.dgst;m=R,s=Error(r(419)),s.stack="",s.digest=m,Na({value:s,source:null,stack:null}),t=Qc(e,t,i)}else if(zt||Ra(e,t,i,!1),m=(i&e.childLanes)!==0,zt||m){if(m=lt,m!==null&&(s=i&-i,s=(s&42)!==0?1:ma(s),s=(s&(m.suspendedLanes|i))!==0?0:s,s!==0&&s!==S.retryLane))throw S.retryLane=s,Nl(e,s),pn(m,e,s),sm;g.data==="$?"||cu(),t=Qc(e,t,i)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,gt=Dn(g.nextSibling),Pt=t,Ve=!0,Ki=null,kn=!1,e!==null&&(xn[En++]=Pn,xn[En++]=Zn,xn[En++]=Pi,Pn=e.id,Zn=e.overflow,Pi=t),t=Gc(t,s.children),t.flags|=4096);return t}return o?(xi(),o=s.fallback,g=t.mode,S=e.child,R=S.sibling,s=Wn(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,R!==null?o=Wn(R,o):(o=Wi(o,g,i,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,g=e.child.memoizedState,g===null?g=Vc(i):(S=g.cachePool,S!==null?(R=Rt._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=th(),g={baseLanes:g.baseLanes|i,cachePool:S}),o.memoizedState=g,o.childLanes=Yc(e,m,i),t.memoizedState=qc,s):(Si(t),i=e.child,e=i.sibling,i=Wn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function Gc(e,t){return t=Cr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cr(e,t){return e=un(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qc(e,t,i){return Il(t,e.child,null,i),e=Gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),cc(e.return,t,i)}function Xc(e,t,i,s,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=i,u.tailMode=o)}function ym(e,t,i){var s=t.pendingProps,o=s.revealOrder,u=s.tail;if(Vt(e,t,s.children,i),s=Dt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,i,t);else if(e.tag===19)gm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(V(Dt,s),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&br(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Xc(t,!1,o,i,u);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&br(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Xc(t,!0,i,null,u);break;case"together":Xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ai|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ra(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=Wn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Wn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Fc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&lr(e)))}function R_(e,t,i){switch(t.tag){case 3:ae(t,t.stateNode.containerInfo),gi(t,Rt,e.memoizedState.cache),Aa();break;case 27:case 5:xe(t);break;case 4:ae(t,t.stateNode.containerInfo);break;case 10:gi(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Si(t),t.flags|=128,null):(i&t.child.childLanes)!==0?pm(e,t,i):(Si(t),e=ti(e,t,i),e!==null?e.sibling:null);Si(t);break;case 19:var o=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Ra(e,t,i,!1),s=(i&t.childLanes)!==0),o){if(s)return ym(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Dt,Dt.current),s)break;return null;case 22:case 23:return t.lanes=0,um(e,t,i);case 24:gi(t,Rt,e.memoizedState.cache)}return ti(e,t,i)}function _m(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!Fc(e,i)&&(t.flags&128)===0)return zt=!1,R_(e,t,i);zt=(e.flags&131072)!==0}else zt=!1,Ve&&(t.flags&1048576)!==0&&Wf(t,ir,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,o=s._init;if(s=o(s._payload),t.type=s,typeof s=="function")nc(s)?(e=il(s,e),t.tag=1,t=hm(null,t,s,e,i)):(t.tag=0,t=Hc(null,t,s,e,i));else{if(s!=null){if(o=s.$$typeof,o===ge){t.tag=11,t=rm(null,t,s,e,i);break e}else if(o===mt){t.tag=14,t=om(null,t,s,e,i);break e}}throw t=J(s)||s,Error(r(306,t,""))}}return t;case 0:return Hc(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,o=il(s,t.pendingProps),hm(e,t,s,o,i);case 3:e:{if(ae(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,gc(e,t),Ua(t,s,null,i);var m=t.memoizedState;if(s=m.cache,gi(t,Rt,s),s!==u.cache&&uc(t,[Rt],i,!0),La(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=mm(e,t,s,i);break e}else if(s!==o){o=bn(Error(r(424)),t),Na(o),t=mm(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(gt=Dn(e.firstChild),Pt=t,Ve=!0,Ki=null,kn=!0,i=Zh(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Aa(),s===o){t=ti(e,t,i);break e}Vt(e,t,s,i)}t=t.child}return t;case 26:return Er(e,t),e===null?(i=xp(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ve||(i=t.type,e=t.pendingProps,s=kr(A.current).createElement(i),s[Nt]=t,s[Ht]=e,Gt(s,i,e),Le(s),t.stateNode=s):t.memoizedState=xp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xe(t),e===null&&Ve&&(s=t.stateNode=vp(t.type,t.pendingProps,A.current),Pt=t,kn=!0,o=gt,Oi(t.type)?(Au=o,gt=Dn(s.firstChild)):gt=o),Vt(e,t,t.pendingProps.children,i),Er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((o=s=gt)&&(s=iv(s,t.type,t.pendingProps,kn),s!==null?(t.stateNode=s,Pt=t,gt=Dn(s.firstChild),kn=!1,o=!0):o=!1),o||$i(t)),xe(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,Eu(o,u)?s=null:m!==null&&Eu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=xc(e,t,S_,null,null,i),ls._currentValue=o),Er(e,t),Vt(e,t,s,i),t.child;case 6:return e===null&&Ve&&((e=i=gt)&&(i=lv(i,t.pendingProps,kn),i!==null?(t.stateNode=i,Pt=t,gt=null,e=!0):e=!1),e||$i(t)),null;case 13:return pm(e,t,i);case 4:return ae(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Il(t,null,s,i):Vt(e,t,s,i),t.child;case 11:return rm(e,t,t.type,t.pendingProps,i);case 7:return Vt(e,t,t.pendingProps,i),t.child;case 8:return Vt(e,t,t.pendingProps.children,i),t.child;case 12:return Vt(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,gi(t,t.type,s.value),Vt(e,t,s.children,i),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,el(t),o=Xt(o),s=s(o),t.flags|=1,Vt(e,t,s,i),t.child;case 14:return om(e,t,t.type,t.pendingProps,i);case 15:return cm(e,t,t.type,t.pendingProps,i);case 19:return ym(e,t,i);case 31:return s=t.pendingProps,i=t.mode,s={mode:s.mode,children:s.children},e===null?(i=Cr(s,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=Wn(e.child,s),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return um(e,t,i);case 24:return el(t),s=Xt(Rt),e===null?(o=hc(),o===null&&(o=lt,u=dc(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=i),o=u),t.memoizedState={parent:s,cache:o},pc(t),gi(t,Rt,o)):((e.lanes&i)!==0&&(gc(e,t),Ua(t,null,null,i),La()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),gi(t,Rt,s)):(s=u.cache,gi(t,Rt,s),s!==o.cache&&uc(t,[Rt],i,!0))),Vt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ni(e){e.flags|=4}function vm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ap(t)){if(t=Cn.current,t!==null&&((ke&4194048)===ke?In!==null:(ke&62914560)!==ke&&(ke&536870912)===0||t!==In))throw ja=mc,nh;e.flags|=8192}}function Tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yl():536870912,e.lanes|=t,Yl|=t)}function Ya(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function D_(e,t,i){var s=t.pendingProps;switch(sc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),$n(Rt),ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wa(t)?ni(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kf())),ht(t),null;case 26:return i=t.memoizedState,e===null?(ni(t),i!==null?(ht(t),vm(t,i)):(ht(t),t.flags&=-16777217)):i?i!==e.memoizedState?(ni(t),ht(t),vm(t,i)):(ht(t),t.flags&=-16777217):(e.memoizedProps!==s&&ni(t),ht(t),t.flags&=-16777217),null;case 27:Se(t),i=A.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ni(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return ht(t),null}e=G.current,wa(t)?Pf(t):(e=vp(o,s,i),t.stateNode=e,ni(t))}return ht(t),null;case 5:if(Se(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ni(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return ht(t),null}if(e=G.current,wa(t))Pf(t);else{switch(o=kr(A.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?o.createElement(i,{is:s.is}):o.createElement(i)}}e[Nt]=t,e[Ht]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Gt(e,i,s),i){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ni(t)}}return ht(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ni(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=A.current,wa(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,o=Pt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||fp(e.nodeValue,i)),e||$i(t)}else e=kr(e).createTextNode(s),e[Nt]=t,t.stateNode=e}return ht(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=wa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[Nt]=t}else Aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),o=!1}else o=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ei(t),t):(ei(t),null)}if(ei(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=s!==null,e=e!==null&&e.memoizedState!==null,i){s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var u=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Tr(t,t.updateQueue),ht(t),null;case 4:return ye(),e===null&&_u(t.stateNode.containerInfo),ht(t),null;case 10:return $n(t.type),ht(t),null;case 19:if(W(Dt),o=t.memoizedState,o===null)return ht(t),null;if(s=(t.flags&128)!==0,u=o.rendering,u===null)if(s)Ya(o,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=br(e),u!==null){for(t.flags|=128,Ya(o,!1),e=u.updateQueue,t.updateQueue=e,Tr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Ff(i,e),i=i.sibling;return V(Dt,Dt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Q()>Nr&&(t.flags|=128,s=!0,Ya(o,!1),t.lanes=4194304)}else{if(!s)if(e=br(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Tr(t,e),Ya(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ve)return ht(t),null}else 2*Q()-o.renderingStartTime>Nr&&i!==536870912&&(t.flags|=128,s=!0,Ya(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(e=o.last,e!==null?e.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Q(),t.sibling=null,e=Dt.current,V(Dt,s?e&1|2:e&1),t):(ht(t),null);case 22:case 23:return ei(t),bc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),i=t.updateQueue,i!==null&&Tr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&W(tl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),$n(Rt),ht(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function O_(e,t){switch(sc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(Rt),ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 13:if(ei(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Dt),null;case 4:return ye(),null;case 10:return $n(t.type),null;case 22:case 23:return ei(t),bc(),e!==null&&W(tl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $n(Rt),null;case 25:return null;default:return null}}function bm(e,t){switch(sc(t),t.tag){case 3:$n(Rt),ye();break;case 26:case 27:case 5:Se(t);break;case 4:ye();break;case 13:ei(t);break;case 19:W(Dt);break;case 10:$n(t.type);break;case 22:case 23:ei(t),bc(),e!==null&&W(tl);break;case 24:$n(Rt)}}function Ga(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){s=void 0;var u=i.create,m=i.inst;s=u(),m.destroy=s}i=i.next}while(i!==o)}}catch(g){Je(t,t.return,g)}}function Ei(e,t,i){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,g=m.destroy;if(g!==void 0){m.destroy=void 0,o=t;var S=i,R=g;try{R()}catch(L){Je(o,S,L)}}}s=s.next}while(s!==u)}}catch(L){Je(t,t.return,L)}}function Sm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{oh(t,i)}catch(s){Je(e,e.return,s)}}}function xm(e,t,i){i.props=il(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Je(e,t,s)}}function Qa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(o){Je(e,t,o)}}function Hn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){Je(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Je(e,t,o)}else i.current=null}function Em(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){Je(e,e.return,o)}}function Wc(e,t,i){try{var s=e.stateNode;$_(s,e.type,i,t),s[Ht]=t}catch(o){Je(e,e.return,o)}}function Cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Oi(e.type)||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Br));else if(s!==4&&(s===27&&Oi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Zc(e,t,i),e=e.sibling;e!==null;)Zc(e,t,i),e=e.sibling}function wr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Oi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(wr(e,t,i),e=e.sibling;e!==null;)wr(e,t,i),e=e.sibling}function Tm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Gt(t,s,i),t[Nt]=e,t[Ht]=i}catch(u){Je(e,e.return,u)}}var ii=!1,Ct=!1,Kc=!1,wm=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function M_(e,t){if(e=e.containerInfo,Su=Gr,e=Bf(e),Po(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var m=0,g=-1,S=-1,R=0,L=0,I=e,O=null;t:for(;;){for(var M;I!==i||o!==0&&I.nodeType!==3||(g=m+o),I!==u||s!==0&&I.nodeType!==3||(S=m+s),I.nodeType===3&&(m+=I.nodeValue.length),(M=I.firstChild)!==null;)O=I,I=M;for(;;){if(I===e)break t;if(O===i&&++R===o&&(g=m),O===u&&++L===s&&(S=m),(M=I.nextSibling)!==null)break;I=O,O=I.parentNode}I=M}i=g===-1||S===-1?null:{start:g,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(xu={focusedElem:e,selectionRange:i},Gr=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,o=u.memoizedProps,u=u.memoizedState,s=i.stateNode;try{var _e=il(i.type,o,i.elementType===i.type);e=s.getSnapshotBeforeUpdate(_e,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(he){Je(i,i.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Tu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function Am(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Ci(e,i),s&4&&Ga(5,i);break;case 1:if(Ci(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Je(i,i.return,m)}else{var o=il(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Je(i,i.return,m)}}s&64&&Sm(i),s&512&&Qa(i,i.return);break;case 3:if(Ci(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{oh(e,t)}catch(m){Je(i,i.return,m)}}break;case 27:t===null&&s&4&&Tm(i);case 26:case 5:Ci(e,i),t===null&&s&4&&Em(i),s&512&&Qa(i,i.return);break;case 12:Ci(e,i);break;case 13:Ci(e,i),s&4&&Dm(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=q_.bind(null,i),av(e,i))));break;case 22:if(s=i.memoizedState!==null||ii,!s){t=t!==null&&t.memoizedState!==null||Ct,o=ii;var u=Ct;ii=s,(Ct=t)&&!u?Ti(e,i,(i.subtreeFlags&8772)!==0):Ci(e,i),ii=o,Ct=u}break;case 30:break;default:Ci(e,i)}}function Nm(e){var t=e.alternate;t!==null&&(e.alternate=null,Nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&K(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,$t=!1;function li(e,t,i){for(i=i.child;i!==null;)Rm(e,t,i),i=i.sibling}function Rm(e,t,i){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(xt,i)}catch{}switch(i.tag){case 26:Ct||Hn(i,t),li(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ct||Hn(i,t);var s=dt,o=$t;Oi(i.type)&&(dt=i.stateNode,$t=!1),li(e,t,i),es(i.stateNode),dt=s,$t=o;break;case 5:Ct||Hn(i,t);case 6:if(s=dt,o=$t,dt=null,li(e,t,i),dt=s,$t=o,dt!==null)if($t)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(i.stateNode)}catch(u){Je(i,t,u)}else try{dt.removeChild(i.stateNode)}catch(u){Je(i,t,u)}break;case 18:dt!==null&&($t?(e=dt,yp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),os(e)):yp(dt,i.stateNode));break;case 4:s=dt,o=$t,dt=i.stateNode.containerInfo,$t=!0,li(e,t,i),dt=s,$t=o;break;case 0:case 11:case 14:case 15:Ct||Ei(2,i,t),Ct||Ei(4,i,t),li(e,t,i);break;case 1:Ct||(Hn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&xm(i,t,s)),li(e,t,i);break;case 21:li(e,t,i);break;case 22:Ct=(s=Ct)||i.memoizedState!==null,li(e,t,i),Ct=s;break;default:li(e,t,i)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{os(e)}catch(i){Je(t,t.return,i)}}function j_(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wm),t;default:throw Error(r(435,e.tag))}}function $c(e,t){var i=j_(e);t.forEach(function(s){var o=V_.bind(null,e,s);i.has(s)||(i.add(s),s.then(o,o))})}function dn(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],u=e,m=t,g=m;e:for(;g!==null;){switch(g.tag){case 27:if(Oi(g.type)){dt=g.stateNode,$t=!1;break e}break;case 5:dt=g.stateNode,$t=!1;break e;case 3:case 4:dt=g.stateNode.containerInfo,$t=!0;break e}g=g.return}if(dt===null)throw Error(r(160));Rm(u,m,o),dt=null,$t=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Om(t,e),t=t.sibling}var Rn=null;function Om(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(t,e),fn(e),s&4&&(Ei(3,e,e.return),Ga(3,e),Ei(5,e,e.return));break;case 1:dn(t,e),fn(e),s&512&&(Ct||i===null||Hn(i,i.return)),s&64&&ii&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=Rn;if(dn(t,e),fn(e),s&512&&(Ct||i===null||Hn(i,i.return)),s&4){var u=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[H]||u[Nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),Gt(u,s,i),u[Nt]=e,Le(u),s=u;break e;case"link":var m=Tp("link","href",o).get(s+(i.href||""));if(m){for(var g=0;g<m.length;g++)if(u=m[g],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(g,1);break t}}u=o.createElement(s),Gt(u,s,i),o.head.appendChild(u);break;case"meta":if(m=Tp("meta","content",o).get(s+(i.content||""))){for(g=0;g<m.length;g++)if(u=m[g],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(g,1);break t}}u=o.createElement(s),Gt(u,s,i),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[Nt]=e,Le(u),s=u}e.stateNode=s}else wp(o,e.type,e.stateNode);else e.stateNode=Cp(o,s,e.memoizedProps);else u!==s?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,s===null?wp(o,e.type,e.stateNode):Cp(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,i.memoizedProps)}break;case 27:dn(t,e),fn(e),s&512&&(Ct||i===null||Hn(i,i.return)),i!==null&&s&4&&Wc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(dn(t,e),fn(e),s&512&&(Ct||i===null||Hn(i,i.return)),e.flags&32){o=e.stateNode;try{Sl(o,"")}catch(M){Je(e,e.return,M)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Wc(e,o,i!==null?i.memoizedProps:o)),s&1024&&(Kc=!0);break;case 6:if(dn(t,e),fn(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(M){Je(e,e.return,M)}}break;case 3:if(qr=null,o=Rn,Rn=Ir(t.containerInfo),dn(t,e),Rn=o,fn(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(M){Je(e,e.return,M)}Kc&&(Kc=!1,Mm(e));break;case 4:s=Rn,Rn=Ir(e.stateNode.containerInfo),dn(t,e),fn(e),Rn=s;break;case 12:dn(t,e),fn(e);break;case 13:dn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(lu=Q()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$c(e,s)));break;case 22:o=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,R=ii,L=Ct;if(ii=R||o,Ct=L||S,dn(t,e),Ct=L,ii=R,fn(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||S||ii||Ct||ll(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(u=S.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{g=S.stateNode;var I=S.memoizedProps.style,O=I!=null&&I.hasOwnProperty("display")?I.display:null;g.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(M){Je(S,S.return,M)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(M){Je(S,S.return,M)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,$c(e,i))));break;case 19:dn(t,e),fn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$c(e,s)));break;case 30:break;case 21:break;default:dn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Cm(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,u=Pc(e);wr(e,u,o);break;case 5:var m=i.stateNode;i.flags&32&&(Sl(m,""),i.flags&=-33);var g=Pc(e);wr(e,g,m);break;case 3:case 4:var S=i.stateNode.containerInfo,R=Pc(e);Zc(e,R,S);break;default:throw Error(r(161))}}catch(L){Je(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ci(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Am(e,t.alternate,t),t=t.sibling}function ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ei(4,t,t.return),ll(t);break;case 1:Hn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&xm(t,t.return,i),ll(t);break;case 27:es(t.stateNode);case 26:case 5:Hn(t,t.return),ll(t);break;case 22:t.memoizedState===null&&ll(t);break;case 30:ll(t);break;default:ll(t)}e=e.sibling}}function Ti(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Ti(o,u,i),Ga(4,u);break;case 1:if(Ti(o,u,i),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){Je(s,s.return,R)}if(s=u,o=s.updateQueue,o!==null){var g=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)rh(S[o],g)}catch(R){Je(s,s.return,R)}}i&&m&64&&Sm(u),Qa(u,u.return);break;case 27:Tm(u);case 26:case 5:Ti(o,u,i),i&&s===null&&m&4&&Em(u),Qa(u,u.return);break;case 12:Ti(o,u,i);break;case 13:Ti(o,u,i),i&&m&4&&Dm(o,u);break;case 22:u.memoizedState===null&&Ti(o,u,i),Qa(u,u.return);break;case 30:break;default:Ti(o,u,i)}t=t.sibling}}function Jc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Da(i))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e))}function qn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jm(e,t,i,s),t=t.sibling}function jm(e,t,i,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:qn(e,t,i,s),o&2048&&Ga(9,t);break;case 1:qn(e,t,i,s);break;case 3:qn(e,t,i,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e)));break;case 12:if(o&2048){qn(e,t,i,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,g=u.onPostCommit;typeof g=="function"&&g(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Je(t,t.return,S)}}else qn(e,t,i,s);break;case 13:qn(e,t,i,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?qn(e,t,i,s):Xa(e,t):u._visibility&2?qn(e,t,i,s):(u._visibility|=2,Hl(e,t,i,s,(t.subtreeFlags&10256)!==0)),o&2048&&Jc(m,t);break;case 24:qn(e,t,i,s),o&2048&&eu(t.alternate,t);break;default:qn(e,t,i,s)}}function Hl(e,t,i,s,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,m=t,g=i,S=s,R=m.flags;switch(m.tag){case 0:case 11:case 15:Hl(u,m,g,S,o),Ga(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?Hl(u,m,g,S,o):Xa(u,m):(L._visibility|=2,Hl(u,m,g,S,o)),o&&R&2048&&Jc(m.alternate,m);break;case 24:Hl(u,m,g,S,o),o&&R&2048&&eu(m.alternate,m);break;default:Hl(u,m,g,S,o)}t=t.sibling}}function Xa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,o=s.flags;switch(s.tag){case 22:Xa(i,s),o&2048&&Jc(s.alternate,s);break;case 24:Xa(i,s),o&2048&&eu(s.alternate,s);break;default:Xa(i,s)}t=t.sibling}}var Fa=8192;function ql(e){if(e.subtreeFlags&Fa)for(e=e.child;e!==null;)zm(e),e=e.sibling}function zm(e){switch(e.tag){case 26:ql(e),e.flags&Fa&&e.memoizedState!==null&&_v(Rn,e.memoizedState,e.memoizedProps);break;case 5:ql(e);break;case 3:case 4:var t=Rn;Rn=Ir(e.stateNode.containerInfo),ql(e),Rn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Fa,Fa=16777216,ql(e),Fa=t):ql(e));break;default:ql(e)}}function Lm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Lt=s,Bm(s,e)}Lm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Um(e),e=e.sibling}function Um(e){switch(e.tag){case 0:case 11:case 15:Wa(e),e.flags&2048&&Ei(9,e,e.return);break;case 3:Wa(e);break;case 12:Wa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ar(e)):Wa(e);break;default:Wa(e)}}function Ar(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Lt=s,Bm(s,e)}Lm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ei(8,t,t.return),Ar(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Ar(t));break;default:Ar(t)}e=e.sibling}}function Bm(e,t){for(;Lt!==null;){var i=Lt;switch(i.tag){case 0:case 11:case 15:Ei(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Da(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Lt=s;else e:for(i=e;Lt!==null;){s=Lt;var o=s.sibling,u=s.return;if(Nm(s),s===i){Lt=null;break e}if(o!==null){o.return=u,Lt=o;break e}Lt=u}}}var z_={getCacheForType:function(e){var t=Xt(Rt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},L_=typeof WeakMap=="function"?WeakMap:Map,Fe=0,lt=null,Re=null,ke=0,We=0,hn=null,wi=!1,Vl=!1,tu=!1,ai=0,yt=0,Ai=0,al=0,nu=0,Tn=0,Yl=0,Pa=null,Jt=null,iu=!1,lu=0,Nr=1/0,Rr=null,Ni=null,Yt=0,Ri=null,Gl=null,Ql=0,au=0,su=null,km=null,Za=0,ru=null;function mn(){if((Fe&2)!==0&&ke!==0)return ke&-ke;if(j.T!==null){var e=Ml;return e!==0?e:mu()}return ga()}function Im(){Tn===0&&(Tn=(ke&536870912)===0||Ve?ks():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Tn}function pn(e,t,i){(e===lt&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(Xl(e,0),Di(e,ke,Tn,!1)),Yn(e,i),((Fe&2)===0||e!==lt)&&(e===lt&&((Fe&2)===0&&(al|=i),yt===4&&Di(e,ke,Tn,!1)),Vn(e))}function Hm(e,t,i){if((Fe&6)!==0)throw Error(r(327));var s=!i&&(t&124)===0&&(t&e.expiredLanes)===0||mi(e,t),o=s?k_(e,t):uu(e,t,!0),u=s;do{if(o===0){Vl&&!s&&Di(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!U_(i)){o=uu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var g=e;o=Pa;var S=g.current.memoizedState.isDehydrated;if(S&&(Xl(g,m).flags|=256),m=uu(g,m,!1),m!==2){if(tu&&!S){g.errorRecoveryDisabledLanes|=u,al|=u,o=4;break e}u=Jt,Jt=o,u!==null&&(Jt===null?Jt=u:Jt.push.apply(Jt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){Xl(e,0),Di(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Di(s,t,Tn,!wi);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=lu+300-Q(),10<o)){if(Di(s,t,Tn,!wi),hi(s,0,!0)!==0)break e;s.timeoutHandle=pp(qm.bind(null,s,i,Jt,Rr,iu,t,Tn,al,Yl,wi,u,2,-0,0),o);break e}qm(s,i,Jt,Rr,iu,t,Tn,al,Yl,wi,u,0,-0,0)}}break}while(!0);Vn(e)}function qm(e,t,i,s,o,u,m,g,S,R,L,I,O,M){if(e.timeoutHandle=-1,I=t.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(is={stylesheets:null,count:0,unsuspend:yv},zm(t),I=vv(),I!==null)){e.cancelPendingCommit=I(Wm.bind(null,e,t,u,i,s,o,m,g,S,L,1,O,M)),Di(e,u,m,!R);return}Wm(e,t,u,i,s,o,m,g,S)}function U_(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],u=o.getSnapshot;o=o.value;try{if(!cn(u(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Di(e,t,i,s){t&=~nu,t&=~al,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-rt(o),m=1<<u;s[u]=-1,o&=~m}i!==0&&Is(e,i,t)}function Dr(){return(Fe&6)===0?(Ka(0),!1):!0}function ou(){if(Re!==null){if(We===0)var e=Re.return;else e=Re,Kn=Ji=null,Tc(e),kl=null,qa=0,e=Re;for(;e!==null;)bm(e.alternate,e),e=e.return;Re=null}}function Xl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,ev(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ou(),lt=e,Re=i=Wn(e.current,null),ke=t,We=0,hn=null,wi=!1,Vl=mi(e,t),tu=!1,Yl=Tn=nu=al=Ai=yt=0,Jt=Pa=null,iu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-rt(s),u=1<<o;t|=e[o],s&=~u}return ai=t,$s(),i}function Vm(e,t){Te=null,j.H=yr,t===Ma||t===rr?(t=ah(),We=3):t===nh?(t=ah(),We=4):We=t===sm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Re===null&&(yt=1,xr(e,bn(t,e.current)))}function Ym(){var e=j.H;return j.H=yr,e===null?yr:e}function Gm(){var e=j.A;return j.A=z_,e}function cu(){yt=4,wi||(ke&4194048)!==ke&&Cn.current!==null||(Vl=!0),(Ai&134217727)===0&&(al&134217727)===0||lt===null||Di(lt,ke,Tn,!1)}function uu(e,t,i){var s=Fe;Fe|=2;var o=Ym(),u=Gm();(lt!==e||ke!==t)&&(Rr=null,Xl(e,t)),t=!1;var m=yt;e:do try{if(We!==0&&Re!==null){var g=Re,S=hn;switch(We){case 8:ou(),m=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(t=!0);var R=We;if(We=0,hn=null,Fl(e,g,S,R),i&&Vl){m=0;break e}break;default:R=We,We=0,hn=null,Fl(e,g,S,R)}}B_(),m=yt;break}catch(L){Vm(e,L)}while(!0);return t&&e.shellSuspendCounter++,Kn=Ji=null,Fe=s,j.H=o,j.A=u,Re===null&&(lt=null,ke=0,$s()),m}function B_(){for(;Re!==null;)Qm(Re)}function k_(e,t){var i=Fe;Fe|=2;var s=Ym(),o=Gm();lt!==e||ke!==t?(Rr=null,Nr=Q()+500,Xl(e,t)):Vl=mi(e,t);e:do try{if(We!==0&&Re!==null){t=Re;var u=hn;t:switch(We){case 1:We=0,hn=null,Fl(e,t,u,1);break;case 2:case 9:if(ih(u)){We=0,hn=null,Xm(t);break}t=function(){We!==2&&We!==9||lt!==e||(We=7),Vn(e)},u.then(t,t);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:ih(u)?(We=0,hn=null,Xm(t)):(We=0,hn=null,Fl(e,t,u,7));break;case 5:var m=null;switch(Re.tag){case 26:m=Re.memoizedState;case 5:case 27:var g=Re;if(!m||Ap(m)){We=0,hn=null;var S=g.sibling;if(S!==null)Re=S;else{var R=g.return;R!==null?(Re=R,Or(R)):Re=null}break t}}We=0,hn=null,Fl(e,t,u,5);break;case 6:We=0,hn=null,Fl(e,t,u,6);break;case 8:ou(),yt=6;break e;default:throw Error(r(462))}}I_();break}catch(L){Vm(e,L)}while(!0);return Kn=Ji=null,j.H=s,j.A=o,Fe=i,Re!==null?0:(lt=null,ke=0,$s(),yt)}function I_(){for(;Re!==null&&!He();)Qm(Re)}function Qm(e){var t=_m(e.alternate,e,ai);e.memoizedProps=e.pendingProps,t===null?Or(e):Re=t}function Xm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=fm(i,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=fm(i,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Tc(t);default:bm(i,t),t=Re=Ff(t,ai),t=_m(i,t,ai)}e.memoizedProps=e.pendingProps,t===null?Or(e):Re=t}function Fl(e,t,i,s){Kn=Ji=null,Tc(t),kl=null,qa=0;var o=t.return;try{if(N_(e,o,t,i,ke)){yt=1,xr(e,bn(i,e.current)),Re=null;return}}catch(u){if(o!==null)throw Re=o,u;yt=1,xr(e,bn(i,e.current)),Re=null;return}t.flags&32768?(Ve||s===1?e=!0:Vl||(ke&536870912)!==0?e=!1:(wi=e=!0,(s===2||s===9||s===3||s===6)&&(s=Cn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Fm(t,e)):Or(t)}function Or(e){var t=e;do{if((t.flags&32768)!==0){Fm(t,wi);return}e=t.return;var i=D_(t.alternate,t,ai);if(i!==null){Re=i;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);yt===0&&(yt=5)}function Fm(e,t){do{var i=O_(e.alternate,e);if(i!==null){i.flags&=32767,Re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=i}while(e!==null);yt=6,Re=null}function Wm(e,t,i,s,o,u,m,g,S){e.cancelPendingCommit=null;do Mr();while(Yt!==0);if((Fe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=ec,Do(e,i,u,m,g,S),e===lt&&(Re=lt=null,ke=0),Gl=t,Ri=e,Ql=i,au=u,su=o,km=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y_(Ge,function(){return Jm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=j.T,j.T=null,o=Y.p,Y.p=2,m=Fe,Fe|=4;try{M_(e,t,i)}finally{Fe=m,Y.p=o,j.T=s}}Yt=1,Pm(),Zm(),Km()}}function Pm(){if(Yt===1){Yt=0;var e=Ri,t=Gl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var s=Y.p;Y.p=2;var o=Fe;Fe|=4;try{Om(t,e);var u=xu,m=Bf(e.containerInfo),g=u.focusedElem,S=u.selectionRange;if(m!==g&&g&&g.ownerDocument&&Uf(g.ownerDocument.documentElement,g)){if(S!==null&&Po(g)){var R=S.start,L=S.end;if(L===void 0&&(L=R),"selectionStart"in g)g.selectionStart=R,g.selectionEnd=Math.min(L,g.value.length);else{var I=g.ownerDocument||document,O=I&&I.defaultView||window;if(O.getSelection){var M=O.getSelection(),_e=g.textContent.length,he=Math.min(S.start,_e),Ke=S.end===void 0?he:Math.min(S.end,_e);!M.extend&&he>Ke&&(m=Ke,Ke=he,he=m);var w=Lf(g,he),C=Lf(g,Ke);if(w&&C&&(M.rangeCount!==1||M.anchorNode!==w.node||M.anchorOffset!==w.offset||M.focusNode!==C.node||M.focusOffset!==C.offset)){var N=I.createRange();N.setStart(w.node,w.offset),M.removeAllRanges(),he>Ke?(M.addRange(N),M.extend(C.node,C.offset)):(N.setEnd(C.node,C.offset),M.addRange(N))}}}}for(I=[],M=g;M=M.parentNode;)M.nodeType===1&&I.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<I.length;g++){var B=I[g];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Gr=!!Su,xu=Su=null}finally{Fe=o,Y.p=s,j.T=i}}e.current=t,Yt=2}}function Zm(){if(Yt===2){Yt=0;var e=Ri,t=Gl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var s=Y.p;Y.p=2;var o=Fe;Fe|=4;try{Am(e,t.alternate,t)}finally{Fe=o,Y.p=s,j.T=i}}Yt=3}}function Km(){if(Yt===4||Yt===3){Yt=0,ct();var e=Ri,t=Gl,i=Ql,s=km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Yt=5:(Yt=0,Gl=Ri=null,$m(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ni=null),pa(i),t=t.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(xt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=j.T,o=Y.p,Y.p=2,j.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var g=s[m];u(g.value,{componentStack:g.stack})}}finally{j.T=t,Y.p=o}}(Ql&3)!==0&&Mr(),Vn(e),o=e.pendingLanes,(i&4194090)!==0&&(o&42)!==0?e===ru?Za++:(Za=0,ru=e):Za=0,Ka(0)}}function $m(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Da(t)))}function Mr(e){return Pm(),Zm(),Km(),Jm()}function Jm(){if(Yt!==5)return!1;var e=Ri,t=au;au=0;var i=pa(Ql),s=j.T,o=Y.p;try{Y.p=32>i?32:i,j.T=null,i=su,su=null;var u=Ri,m=Ql;if(Yt=0,Gl=Ri=null,Ql=0,(Fe&6)!==0)throw Error(r(331));var g=Fe;if(Fe|=4,Um(u.current),jm(u,u.current,m,i),Fe=g,Ka(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(xt,u)}catch{}return!0}finally{Y.p=o,j.T=s,$m(e,t)}}function ep(e,t,i){t=bn(i,t),t=Ic(e.stateNode,t,2),e=vi(e,t,2),e!==null&&(Yn(e,2),Vn(e))}function Je(e,t,i){if(e.tag===3)ep(e,e,i);else for(;t!==null;){if(t.tag===3){ep(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ni===null||!Ni.has(s))){e=bn(i,e),i=lm(2),s=vi(t,i,2),s!==null&&(am(i,s,t,e),Yn(s,2),Vn(s));break}}t=t.return}}function du(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new L_;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(i)||(tu=!0,o.add(i),e=H_.bind(null,e,t,i),t.then(e,e))}function H_(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,lt===e&&(ke&i)===i&&(yt===4||yt===3&&(ke&62914560)===ke&&300>Q()-lu?(Fe&2)===0&&Xl(e,0):nu|=i,Yl===ke&&(Yl=0)),Vn(e)}function tp(e,t){t===0&&(t=yl()),e=Nl(e,t),e!==null&&(Yn(e,t),Vn(e))}function q_(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),tp(e,i)}function V_(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),tp(e,i)}function Y_(e,t){return te(e,t)}var jr=null,Wl=null,fu=!1,zr=!1,hu=!1,sl=0;function Vn(e){e!==Wl&&e.next===null&&(Wl===null?jr=Wl=e:Wl=Wl.next=e),zr=!0,fu||(fu=!0,Q_())}function Ka(e,t){if(!hu&&zr){hu=!0;do for(var i=!1,s=jr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,g=s.pingedLanes;u=(1<<31-rt(42|e)+1)-1,u&=o&~(m&~g),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,ap(s,u))}else u=ke,u=hi(s,s===lt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||mi(s,u)||(i=!0,ap(s,u));s=s.next}while(i);hu=!1}}function G_(){np()}function np(){zr=fu=!1;var e=0;sl!==0&&(J_()&&(e=sl),sl=0);for(var t=Q(),i=null,s=jr;s!==null;){var o=s.next,u=ip(s,t);u===0?(s.next=null,i===null?jr=o:i.next=o,o===null&&(Wl=i)):(i=s,(e!==0||(u&3)!==0)&&(zr=!0)),s=o}Ka(e)}function ip(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-rt(u),g=1<<m,S=o[m];S===-1?((g&i)===0||(g&s)!==0)&&(o[m]=Ro(g,t)):S<=t&&(e.expiredLanes|=g),u&=~g}if(t=lt,i=ke,i=hi(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(We===2||We===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ee(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||mi(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Ee(s),pa(i)){case 2:case 8:i=fe;break;case 32:i=Ge;break;case 268435456:i=ut;break;default:i=Ge}return s=lp.bind(null,e),i=te(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Ee(s),e.callbackPriority=2,e.callbackNode=null,2}function lp(e,t){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Mr()&&e.callbackNode!==i)return null;var s=ke;return s=hi(e,e===lt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Hm(e,s,t),ip(e,Q()),e.callbackNode!=null&&e.callbackNode===i?lp.bind(null,e):null)}function ap(e,t){if(Mr())return null;Hm(e,t,!0)}function Q_(){tv(function(){(Fe&6)!==0?te(Mt,G_):np()})}function mu(){return sl===0&&(sl=ks()),sl}function sp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function rp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function X_(e,t,i,s,o){if(t==="submit"&&i&&i.stateNode===o){var u=sp((o[Ht]||null).action),m=s.submitter;m&&(t=(t=m[Ht]||null)?sp(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var g=new Ps("action","action",null,s,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(sl!==0){var S=m?rp(o,m):new FormData(o);zc(i,{pending:!0,data:S,method:o.method,action:u},null,S)}}else typeof u=="function"&&(g.preventDefault(),S=m?rp(o,m):new FormData(o),zc(i,{pending:!0,data:S,method:o.method,action:u},u,S))},currentTarget:o}]})}}for(var pu=0;pu<Jo.length;pu++){var gu=Jo[pu],F_=gu.toLowerCase(),W_=gu[0].toUpperCase()+gu.slice(1);Nn(F_,"on"+W_)}Nn(Hf,"onAnimationEnd"),Nn(qf,"onAnimationIteration"),Nn(Vf,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(d_,"onTransitionRun"),Nn(f_,"onTransitionStart"),Nn(h_,"onTransitionCancel"),Nn(Yf,"onTransitionEnd"),Be("onMouseEnter",["mouseout","mouseover"]),Be("onMouseLeave",["mouseout","mouseover"]),Be("onPointerEnter",["pointerout","pointerover"]),Be("onPointerLeave",["pointerout","pointerover"]),Ue("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ue("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ue("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ue("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function op(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var g=s[m],S=g.instance,R=g.currentTarget;if(g=g.listener,S!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=R;try{u(o)}catch(L){Sr(L)}o.currentTarget=null,u=S}else for(m=0;m<s.length;m++){if(g=s[m],S=g.instance,R=g.currentTarget,g=g.listener,S!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=R;try{u(o)}catch(L){Sr(L)}o.currentTarget=null,u=S}}}}function De(e,t){var i=t[_l];i===void 0&&(i=t[_l]=new Set);var s=e+"__bubble";i.has(s)||(cp(t,e,2,!1),i.add(s))}function yu(e,t,i){var s=0;t&&(s|=4),cp(i,e,s,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function _u(e){if(!e[Lr]){e[Lr]=!0,pt.forEach(function(i){i!=="selectionchange"&&(P_.has(i)||yu(i,!1,e),yu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,yu("selectionchange",!1,t))}}function cp(e,t,i,s){switch(jp(t)){case 2:var o=xv;break;case 8:o=Ev;break;default:o=Mu}i=o.bind(null,t,i,e),o=void 0,!Ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function vu(e,t,i,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var g=s.stateNode.containerInfo;if(g===o)break;if(m===4)for(m=s.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;g!==null;){if(m=ne(g),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){s=u=m;continue e}g=g.parentNode}}s=s.return}gf(function(){var R=u,L=ko(i),I=[];e:{var O=Gf.get(e);if(O!==void 0){var M=Ps,_e=e;switch(e){case"keypress":if(Fs(i)===0)break e;case"keydown":case"keyup":M=Y0;break;case"focusin":_e="focus",M=Go;break;case"focusout":_e="blur",M=Go;break;case"beforeblur":case"afterblur":M=Go;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=X0;break;case Hf:case qf:case Vf:M=z0;break;case Yf:M=W0;break;case"scroll":case"scrollend":M=R0;break;case"wheel":M=Z0;break;case"copy":case"cut":case"paste":M=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Sf;break;case"toggle":case"beforetoggle":M=$0}var he=(t&4)!==0,Ke=!he&&(e==="scroll"||e==="scrollend"),w=he?O!==null?O+"Capture":null:O;he=[];for(var C=R,N;C!==null;){var B=C;if(N=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||N===null||w===null||(B=ya(C,w),B!=null&&he.push(Ja(C,B,N))),Ke)break;C=C.return}0<he.length&&(O=new M(O,_e,null,i,L),I.push({event:O,listeners:he}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",O&&i!==Bo&&(_e=i.relatedTarget||i.fromElement)&&(ne(_e)||_e[Gn]))break e;if((M||O)&&(O=L.window===L?L:(O=L.ownerDocument)?O.defaultView||O.parentWindow:window,M?(_e=i.relatedTarget||i.toElement,M=R,_e=_e?ne(_e):null,_e!==null&&(Ke=d(_e),he=_e.tag,_e!==Ke||he!==5&&he!==27&&he!==6)&&(_e=null)):(M=null,_e=R),M!==_e)){if(he=vf,B="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(he=Sf,B="onPointerLeave",w="onPointerEnter",C="pointer"),Ke=M==null?O:X(M),N=_e==null?O:X(_e),O=new he(B,C+"leave",M,i,L),O.target=Ke,O.relatedTarget=N,B=null,ne(L)===R&&(he=new he(w,C+"enter",_e,i,L),he.target=N,he.relatedTarget=Ke,B=he),Ke=B,M&&_e)t:{for(he=M,w=_e,C=0,N=he;N;N=Pl(N))C++;for(N=0,B=w;B;B=Pl(B))N++;for(;0<C-N;)he=Pl(he),C--;for(;0<N-C;)w=Pl(w),N--;for(;C--;){if(he===w||w!==null&&he===w.alternate)break t;he=Pl(he),w=Pl(w)}he=null}else he=null;M!==null&&up(I,O,M,he,!1),_e!==null&&Ke!==null&&up(I,Ke,_e,he,!0)}}e:{if(O=R?X(R):window,M=O.nodeName&&O.nodeName.toLowerCase(),M==="select"||M==="input"&&O.type==="file")var ie=Rf;else if(Af(O))if(Df)ie=o_;else{ie=s_;var we=a_}else M=O.nodeName,!M||M.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&Uo(R.elementType)&&(ie=Rf):ie=r_;if(ie&&(ie=ie(e,R))){Nf(I,ie,i,L);break e}we&&we(e,O,R),e==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&Lo(O,"number",O.value)}switch(we=R?X(R):window,e){case"focusin":(Af(we)||we.contentEditable==="true")&&(Tl=we,Zo=R,Ta=null);break;case"focusout":Ta=Zo=Tl=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,kf(I,i,L);break;case"selectionchange":if(u_)break;case"keydown":case"keyup":kf(I,i,L)}var re;if(Xo)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Cl?Tf(e,i)&&(me="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(me="onCompositionStart");me&&(xf&&i.locale!=="ko"&&(Cl||me!=="onCompositionStart"?me==="onCompositionEnd"&&Cl&&(re=yf()):(pi=L,qo="value"in pi?pi.value:pi.textContent,Cl=!0)),we=Ur(R,me),0<we.length&&(me=new bf(me,e,null,i,L),I.push({event:me,listeners:we}),re?me.data=re:(re=wf(i),re!==null&&(me.data=re)))),(re=e_?t_(e,i):n_(e,i))&&(me=Ur(R,"onBeforeInput"),0<me.length&&(we=new bf("onBeforeInput","beforeinput",null,i,L),I.push({event:we,listeners:me}),we.data=re)),X_(I,e,R,i,L)}op(I,t)})}function Ja(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ur(e,t){for(var i=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ya(e,i),o!=null&&s.unshift(Ja(e,o,u)),o=ya(e,t),o!=null&&s.push(Ja(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function up(e,t,i,s,o){for(var u=t._reactName,m=[];i!==null&&i!==s;){var g=i,S=g.alternate,R=g.stateNode;if(g=g.tag,S!==null&&S===s)break;g!==5&&g!==26&&g!==27||R===null||(S=R,o?(R=ya(i,u),R!=null&&m.unshift(Ja(i,R,S))):o||(R=ya(i,u),R!=null&&m.push(Ja(i,R,S)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var Z_=/\r\n?/g,K_=/\u0000|\uFFFD/g;function dp(e){return(typeof e=="string"?e:""+e).replace(Z_,`
`).replace(K_,"")}function fp(e,t){return t=dp(t),dp(e)===t}function Br(){}function Ze(e,t,i,s,o,u){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Sl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Sl(e,""+s);break;case"className":Qn(e,"class",s);break;case"tabIndex":Qn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,i,s);break;case"style":mf(e,s,u);break;case"data":if(t!=="object"){Qn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Qs(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Ze(e,t,"name",o.name,o,null),Ze(e,t,"formEncType",o.formEncType,o,null),Ze(e,t,"formMethod",o.formMethod,o,null),Ze(e,t,"formTarget",o.formTarget,o,null)):(Ze(e,t,"encType",o.encType,o,null),Ze(e,t,"method",o.method,o,null),Ze(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Qs(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Br);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Qs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":De("beforetoggle",e),De("toggle",e),on(e,"popover",s);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":on(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=A0.get(i)||i,on(e,i,s))}}function bu(e,t,i,s,o,u){switch(i){case"style":mf(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Sl(e,s):(typeof s=="number"||typeof s=="bigint")&&Sl(e,""+s);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jt.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),u=e[Ht]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,o);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):on(e,i,s)}}}function Gt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var s=!1,o=!1,u;for(u in i)if(i.hasOwnProperty(u)){var m=i[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,u,m,i,null)}}o&&Ze(e,t,"srcSet",i.srcSet,i,null),s&&Ze(e,t,"src",i.src,i,null);return;case"input":De("invalid",e);var g=u=m=o=null,S=null,R=null;for(s in i)if(i.hasOwnProperty(s)){var L=i[s];if(L!=null)switch(s){case"name":o=L;break;case"type":m=L;break;case"checked":S=L;break;case"defaultChecked":R=L;break;case"value":u=L;break;case"defaultValue":g=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Ze(e,t,s,L,i,null)}}uf(e,u,g,S,R,m,o,!1),Ys(e);return;case"select":De("invalid",e),s=m=u=null;for(o in i)if(i.hasOwnProperty(o)&&(g=i[o],g!=null))switch(o){case"value":u=g;break;case"defaultValue":m=g;break;case"multiple":s=g;default:Ze(e,t,o,g,i,null)}t=u,i=m,e.multiple=!!s,t!=null?bl(e,!!s,t,!1):i!=null&&bl(e,!!s,i,!0);return;case"textarea":De("invalid",e),u=o=s=null;for(m in i)if(i.hasOwnProperty(m)&&(g=i[m],g!=null))switch(m){case"value":s=g;break;case"defaultValue":o=g;break;case"children":u=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Ze(e,t,m,g,i,null)}ff(e,s,o,u),Ys(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(s=i[S],s!=null))switch(S){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ze(e,t,S,s,i,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(s=0;s<$a.length;s++)De($a[s],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in i)if(i.hasOwnProperty(R)&&(s=i[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,R,s,i,null)}return;default:if(Uo(t)){for(L in i)i.hasOwnProperty(L)&&(s=i[L],s!==void 0&&bu(e,t,L,s,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(s=i[g],s!=null&&Ze(e,t,g,s,i,null))}function $_(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,g=null,S=null,R=null,L=null;for(M in i){var I=i[M];if(i.hasOwnProperty(M)&&I!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=I;default:s.hasOwnProperty(M)||Ze(e,t,M,null,s,I)}}for(var O in s){var M=s[O];if(I=i[O],s.hasOwnProperty(O)&&(M!=null||I!=null))switch(O){case"type":u=M;break;case"name":o=M;break;case"checked":R=M;break;case"defaultChecked":L=M;break;case"value":m=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==I&&Ze(e,t,O,M,s,I)}}zo(e,m,g,S,R,L,u,o);return;case"select":M=m=g=O=null;for(u in i)if(S=i[u],i.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":M=S;default:s.hasOwnProperty(u)||Ze(e,t,u,null,s,S)}for(o in s)if(u=s[o],S=i[o],s.hasOwnProperty(o)&&(u!=null||S!=null))switch(o){case"value":O=u;break;case"defaultValue":g=u;break;case"multiple":m=u;default:u!==S&&Ze(e,t,o,u,s,S)}t=g,i=m,s=M,O!=null?bl(e,!!i,O,!1):!!s!=!!i&&(t!=null?bl(e,!!i,t,!0):bl(e,!!i,i?[]:"",!1));return;case"textarea":M=O=null;for(g in i)if(o=i[g],i.hasOwnProperty(g)&&o!=null&&!s.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ze(e,t,g,null,s,o)}for(m in s)if(o=s[m],u=i[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":O=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Ze(e,t,m,o,s,u)}df(e,O,M);return;case"option":for(var _e in i)if(O=i[_e],i.hasOwnProperty(_e)&&O!=null&&!s.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:Ze(e,t,_e,null,s,O)}for(S in s)if(O=s[S],M=i[S],s.hasOwnProperty(S)&&O!==M&&(O!=null||M!=null))switch(S){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ze(e,t,S,O,s,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in i)O=i[he],i.hasOwnProperty(he)&&O!=null&&!s.hasOwnProperty(he)&&Ze(e,t,he,null,s,O);for(R in s)if(O=s[R],M=i[R],s.hasOwnProperty(R)&&O!==M&&(O!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Ze(e,t,R,O,s,M)}return;default:if(Uo(t)){for(var Ke in i)O=i[Ke],i.hasOwnProperty(Ke)&&O!==void 0&&!s.hasOwnProperty(Ke)&&bu(e,t,Ke,void 0,s,O);for(L in s)O=s[L],M=i[L],!s.hasOwnProperty(L)||O===M||O===void 0&&M===void 0||bu(e,t,L,O,s,M);return}}for(var w in i)O=i[w],i.hasOwnProperty(w)&&O!=null&&!s.hasOwnProperty(w)&&Ze(e,t,w,null,s,O);for(I in s)O=s[I],M=i[I],!s.hasOwnProperty(I)||O===M||O==null&&M==null||Ze(e,t,I,O,s,M)}var Su=null,xu=null;function kr(e){return e.nodeType===9?e:e.ownerDocument}function hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cu=null;function J_(){var e=window.event;return e&&e.type==="popstate"?e===Cu?!1:(Cu=e,!0):(Cu=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(nv)}:pp;function nv(e){setTimeout(function(){throw e})}function Oi(e){return e==="head"}function yp(e,t){var i=t,s=0,o=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(0<s&&8>s){i=s;var m=e.ownerDocument;if(i&1&&es(m.documentElement),i&2&&es(m.body),i&4)for(i=m.head,es(i),m=i.firstChild;m;){var g=m.nextSibling,S=m.nodeName;m[H]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=g}}if(o===0){e.removeChild(u),os(t);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:s=i.charCodeAt(0)-48;else s=0;i=u}while(i);os(t)}function Tu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Tu(i),K(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function iv(e,t,i,s){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[H])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function lv(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Dn(e.nextSibling),e===null))return null;return e}function wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function av(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Au=null;function _p(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function vp(e,t,i){switch(t=kr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function es(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);K(e)}var wn=new Map,bp=new Set;function Ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var si=Y.d;Y.d={f:sv,r:rv,D:ov,C:cv,L:uv,m:dv,X:hv,S:fv,M:mv};function sv(){var e=si.f(),t=Dr();return e||t}function rv(e){var t=ee(e);t!==null&&t.tag===5&&t.type==="form"?Hh(t):si.r(e)}var Zl=typeof document>"u"?null:document;function Sp(e,t,i){var s=Zl;if(s&&typeof t=="string"&&t){var o=vn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),bp.has(o)||(bp.add(o),e={rel:e,crossOrigin:i,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),Gt(t,"link",e),Le(t),s.head.appendChild(t)))}}function ov(e){si.D(e),Sp("dns-prefetch",e,null)}function cv(e,t){si.C(e,t),Sp("preconnect",e,t)}function uv(e,t,i){si.L(e,t,i);var s=Zl;if(s&&e&&t){var o='link[rel="preload"][as="'+vn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+vn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+vn(i.imageSizes)+'"]')):o+='[href="'+vn(e)+'"]';var u=o;switch(t){case"style":u=Kl(e);break;case"script":u=$l(e)}wn.has(u)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),wn.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(ts(u))||t==="script"&&s.querySelector(ns(u))||(t=s.createElement("link"),Gt(t,"link",e),Le(t),s.head.appendChild(t)))}}function dv(e,t){si.m(e,t);var i=Zl;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+vn(s)+'"][href="'+vn(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=$l(e)}if(!wn.has(u)&&(e=b({rel:"modulepreload",href:e},t),wn.set(u,e),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ns(u)))return}s=i.createElement("link"),Gt(s,"link",e),Le(s),i.head.appendChild(s)}}}function fv(e,t,i){si.S(e,t,i);var s=Zl;if(s&&e){var o=ze(s).hoistableStyles,u=Kl(e);t=t||"default";var m=o.get(u);if(!m){var g={loading:0,preload:null};if(m=s.querySelector(ts(u)))g.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=wn.get(u))&&Nu(e,i);var S=m=s.createElement("link");Le(S),Gt(S,"link",e),S._p=new Promise(function(R,L){S.onload=R,S.onerror=L}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Hr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:g},o.set(u,m)}}}function hv(e,t){si.X(e,t);var i=Zl;if(i&&e){var s=ze(i).hoistableScripts,o=$l(e),u=s.get(o);u||(u=i.querySelector(ns(o)),u||(e=b({src:e,async:!0},t),(t=wn.get(o))&&Ru(e,t),u=i.createElement("script"),Le(u),Gt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function mv(e,t){si.M(e,t);var i=Zl;if(i&&e){var s=ze(i).hoistableScripts,o=$l(e),u=s.get(o);u||(u=i.querySelector(ns(o)),u||(e=b({src:e,async:!0,type:"module"},t),(t=wn.get(o))&&Ru(e,t),u=i.createElement("script"),Le(u),Gt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function xp(e,t,i,s){var o=(o=A.current)?Ir(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Kl(i.href),i=ze(o).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Kl(i.href);var u=ze(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(ts(e)))&&!u._p&&(m.instance=u,m.state.loading=5),wn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},wn.set(e,i),u||pv(o,e,i,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$l(i),i=ze(o).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Kl(e){return'href="'+vn(e)+'"'}function ts(e){return'link[rel="stylesheet"]['+e+"]"}function Ep(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function pv(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Gt(t,"link",i),Le(t),e.head.appendChild(t))}function $l(e){return'[src="'+vn(e)+'"]'}function ns(e){return"script[async]"+e}function Cp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+vn(i.href)+'"]');if(s)return t.instance=s,Le(s),s;var o=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Le(s),Gt(s,"style",o),Hr(s,i.precedence,e),t.instance=s;case"stylesheet":o=Kl(i.href);var u=e.querySelector(ts(o));if(u)return t.state.loading|=4,t.instance=u,Le(u),u;s=Ep(i),(o=wn.get(o))&&Nu(s,o),u=(e.ownerDocument||e).createElement("link"),Le(u);var m=u;return m._p=new Promise(function(g,S){m.onload=g,m.onerror=S}),Gt(u,"link",s),t.state.loading|=4,Hr(u,i.precedence,e),t.instance=u;case"script":return u=$l(i.src),(o=e.querySelector(ns(u)))?(t.instance=o,Le(o),o):(s=i,(o=wn.get(u))&&(s=b({},i),Ru(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Le(o),Gt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Hr(s,i.precedence,e));return t.instance}function Hr(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var g=s[m];if(g.dataset.precedence===t)u=g;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var qr=null;function Tp(e,t,i){if(qr===null){var s=new Map,o=qr=new Map;o.set(i,s)}else o=qr,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var u=i[o];if(!(u[H]||u[Nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var g=s.get(m);g?g.push(u):s.set(m,[u])}}return s}function wp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function gv(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ap(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var is=null;function yv(){}function _v(e,t,i){if(is===null)throw Error(r(475));var s=is;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Kl(i.href),u=e.querySelector(ts(o));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Vr.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=u,Le(u);return}u=e.ownerDocument||e,i=Ep(i),(o=wn.get(o))&&Nu(i,o),u=u.createElement("link"),Le(u);var m=u;m._p=new Promise(function(g,S){m.onload=g,m.onerror=S}),Gt(u,"link",i),t.instance=u}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Vr.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function vv(){if(is===null)throw Error(r(475));var e=is;return e.stylesheets&&e.count===0&&Du(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Du(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Vr(){if(this.count--,this.count===0){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yr=null;function Du(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yr=new Map,t.forEach(bv,e),Yr=null,Vr.call(e))}function bv(e,t){if(!(t.state.loading&4)){var i=Yr.get(e);if(i)var s=i.get(null);else{i=new Map,Yr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),s=m)}s&&i.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=i.get(m)||s,u===s&&i.set(null,o),i.set(m,o),this.count++,s=Vr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ls={$$typeof:Ie,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Sv(e,t,i,s,o,u,m,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function Np(e,t,i,s,o,u,m,g,S,R,L,I){return e=new Sv(e,t,i,m,g,S,R,I),t=1,u===!0&&(t|=24),u=un(3,null,null,t),e.current=u,u.stateNode=e,t=dc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:i,cache:t},pc(u),e}function Rp(e){return e?(e=Rl,e):Rl}function Dp(e,t,i,s,o,u){o=Rp(o),s.context===null?s.context=o:s.pendingContext=o,s=_i(t),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=vi(e,s,t),i!==null&&(pn(i,e,t),za(i,e,t))}function Op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ou(e,t){Op(e,t),(e=e.alternate)&&Op(e,t)}function Mp(e){if(e.tag===13){var t=Nl(e,67108864);t!==null&&pn(t,e,67108864),Ou(e,67108864)}}var Gr=!0;function xv(e,t,i,s){var o=j.T;j.T=null;var u=Y.p;try{Y.p=2,Mu(e,t,i,s)}finally{Y.p=u,j.T=o}}function Ev(e,t,i,s){var o=j.T;j.T=null;var u=Y.p;try{Y.p=8,Mu(e,t,i,s)}finally{Y.p=u,j.T=o}}function Mu(e,t,i,s){if(Gr){var o=ju(s);if(o===null)vu(e,t,s,Qr,i),zp(e,s);else if(Tv(o,e,t,i,s))s.stopPropagation();else if(zp(e,s),t&4&&-1<Cv.indexOf(e)){for(;o!==null;){var u=ee(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=yn(u.pendingLanes);if(m!==0){var g=u;for(g.pendingLanes|=2,g.entangledLanes|=2;m;){var S=1<<31-rt(m);g.entanglements[1]|=S,m&=~S}Vn(u),(Fe&6)===0&&(Nr=Q()+500,Ka(0))}}break;case 13:g=Nl(u,2),g!==null&&pn(g,u,2),Dr(),Ou(u,2)}if(u=ju(s),u===null&&vu(e,t,s,Qr,i),u===o)break;o=u}o!==null&&s.stopPropagation()}else vu(e,t,s,null,i)}}function ju(e){return e=ko(e),zu(e)}var Qr=null;function zu(e){if(Qr=null,e=ne(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qr=e,null}function jp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Mt:return 2;case fe:return 8;case Ge:case bt:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Lu=!1,Mi=null,ji=null,zi=null,as=new Map,ss=new Map,Li=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function rs(e,t,i,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=ee(t),t!==null&&Mp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Tv(e,t,i,s,o){switch(t){case"focusin":return Mi=rs(Mi,e,t,i,s,o),!0;case"dragenter":return ji=rs(ji,e,t,i,s,o),!0;case"mouseover":return zi=rs(zi,e,t,i,s,o),!0;case"pointerover":var u=o.pointerId;return as.set(u,rs(as.get(u)||null,e,t,i,s,o)),!0;case"gotpointercapture":return u=o.pointerId,ss.set(u,rs(ss.get(u)||null,e,t,i,s,o)),!0}return!1}function Lp(e){var t=ne(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,qs(e.priority,function(){if(i.tag===13){var s=mn();s=ma(s);var o=Nl(i,s);o!==null&&pn(o,i,s),Ou(i,s)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ju(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Bo=s,i.target.dispatchEvent(s),Bo=null}else return t=ee(i),t!==null&&Mp(t),e.blockedOn=i,!1;t.shift()}return!0}function Up(e,t,i){Xr(e)&&i.delete(t)}function wv(){Lu=!1,Mi!==null&&Xr(Mi)&&(Mi=null),ji!==null&&Xr(ji)&&(ji=null),zi!==null&&Xr(zi)&&(zi=null),as.forEach(Up),ss.forEach(Up)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,Lu||(Lu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wv)))}var Wr=null;function Bp(e){Wr!==e&&(Wr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Wr===e&&(Wr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(zu(s||i)===null)continue;break}var u=ee(i);u!==null&&(e.splice(t,3),t-=3,zc(u,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function os(e){function t(S){return Fr(S,e)}Mi!==null&&Fr(Mi,e),ji!==null&&Fr(ji,e),zi!==null&&Fr(zi,e),as.forEach(t),ss.forEach(t);for(var i=0;i<Li.length;i++){var s=Li[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Li.length&&(i=Li[0],i.blockedOn===null);)Lp(i),i.blockedOn===null&&Li.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=o[Ht]||null;if(typeof u=="function")m||Bp(i);else if(m){var g=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[Ht]||null)g=m.formAction;else if(zu(o)!==null)continue}else g=m.action;typeof g=="function"?i[s+1]=g:(i.splice(s,3),s-=3),Bp(i)}}}function Uu(e){this._internalRoot=e}Pr.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=mn();Dp(i,s,e,t,null,null)},Pr.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dp(e.current,2,null,e,null,null),Dr(),t[Gn]=null}};function Pr(e){this._internalRoot=e}Pr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ga();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Li.length&&t!==0&&t<Li[i].priority;i++);Li.splice(i,0,e),i===0&&Lp(e)}};var kp=n.version;if(kp!=="19.1.1")throw Error(r(527,kp,"19.1.1"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Av={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zr.isDisabled&&Zr.supportsFiber)try{xt=Zr.inject(Av),Xe=Zr}catch{}}return us.createRoot=function(e,t){if(!c(e))throw Error(r(299));var i=!1,s="",o=em,u=tm,m=nm,g=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=Np(e,1,!1,null,null,i,s,o,u,m,g,null),e[Gn]=t.current,_u(e),new Uu(t)},us.hydrateRoot=function(e,t,i){if(!c(e))throw Error(r(299));var s=!1,o="",u=em,m=tm,g=nm,S=null,R=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(R=i.formState)),t=Np(e,1,!0,t,i??null,s,o,u,m,g,S,R),t.context=Rp(null),i=t.current,s=mn(),s=ma(s),o=_i(s),o.callback=null,vi(i,o,s),i=s,t.current.lanes=i,Yn(t,i),Vn(t),e[Gn]=t.current,_u(e),new Pr(t)},us.version="19.1.1",us}var Wp;function kv(){if(Wp)return Iu.exports;Wp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Iu.exports=Bv(),Iu.exports}var Iv=kv();const Hv=()=>{};var Pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(a,n){if(!a)throw ca(n)},ca=function(a){return new Error("Firebase Database ("+Fg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let c=a.charCodeAt(r);c<128?n[l++]=c:c<2048?(n[l++]=c>>6|192,n[l++]=c&63|128):(c&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=c>>18|240,n[l++]=c>>12&63|128,n[l++]=c>>6&63|128,n[l++]=c&63|128):(n[l++]=c>>12|224,n[l++]=c>>6&63|128,n[l++]=c&63|128)}return n},qv=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const c=a[l++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const d=a[l++];n[r++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=a[l++],h=a[l++],p=a[l++],_=((c&7)<<18|(d&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const d=a[l++],h=a[l++];n[r++]=String.fromCharCode((c&15)<<12|(d&63)<<6|h&63)}}return n.join("")},xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<a.length;c+=3){const d=a[c],h=c+1<a.length,p=h?a[c+1]:0,_=c+2<a.length,y=_?a[c+2]:0,b=d>>2,E=(d&3)<<4|p>>4;let v=(p&15)<<2|y>>6,q=y&63;_||(q=64,h||(v=64)),r.push(l[b],l[E],l[v],l[q])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(Wg(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):qv(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<a.length;){const d=l[a.charAt(c++)],p=c<a.length?l[a.charAt(c)]:0;++c;const y=c<a.length?l[a.charAt(c)]:64;++c;const E=c<a.length?l[a.charAt(c)]:64;if(++c,d==null||p==null||y==null||E==null)throw new Vv;const v=d<<2|p>>4;if(r.push(v),y!==64){const q=p<<4&240|y>>2;if(r.push(q),E!==64){const z=y<<6&192|E;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Vv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pg=function(a){const n=Wg(a);return xd.encodeByteArray(n,!0)},eo=function(a){return Pg(a).replace(/\./g,"")},td=function(a){try{return xd.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(a){return Zg(void 0,a)}function Zg(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!Gv(l)||(a[l]=Zg(a[l],n[l]));return a}function Gv(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=()=>Qv().__FIREBASE_DEFAULTS__,Fv=()=>{if(typeof process>"u"||typeof Pp>"u")return;const a=Pp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Wv=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&td(a[1]);return n&&JSON.parse(n)},Kg=()=>{try{return Hv()||Xv()||Fv()||Wv()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Pv=a=>Kg()?.emulatorHosts?.[a],Zv=a=>{const n=Pv(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},$g=()=>Kg()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",c=a.iat||0,d=a.sub||a.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...a};return[eo(JSON.stringify(l)),eo(JSON.stringify(h)),""].join(".")}const ps={};function Jv(){const a={prod:[],emulator:[]};for(const n of Object.keys(ps))ps[n]?a.emulator.push(n):a.prod.push(n);return a}function e1(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let Zp=!1;function t1(a,n){if(typeof window>"u"||typeof document>"u"||!Ed(window.location.host)||ps[a]===n||ps[a]||Zp)return;ps[a]=n;function l(v){return`__firebase__banner__${v}`}const r="__firebase__banner",d=Jv().prod.length>0;function h(){const v=document.getElementById(r);v&&v.remove()}function p(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function _(v,q){v.setAttribute("width","24"),v.setAttribute("id",q),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function y(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Zp=!0,h()},v}function b(v,q){v.setAttribute("id",q),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function E(){const v=e1(r),q=l("text"),z=document.getElementById(q)||document.createElement("span"),P=l("learnmore"),be=document.getElementById(P)||document.createElement("a"),tt=l("preprendIcon"),de=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const Ie=v.element;p(Ie),b(be,P);const ge=y();_(de,tt),Ie.append(de,z,be,ge),document.body.appendChild(Ie)}d?(z.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n1())}function i1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l1(){return Fg.NODE_ADMIN===!0}function a1(){try{return typeof indexedDB=="object"}catch{return!1}}function s1(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},c.onupgradeneeded=()=>{l=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="FirebaseError";class Os extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=r1,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ey.prototype.create)}}class ey{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},c=`${this.service}/${n}`,d=this.errors[n],h=d?o1(d,r):"Error",p=`${this.serviceName}: ${h} (${c}).`;return new Os(c,p,r)}}function o1(a,n){return a.replace(c1,(l,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const c1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(a){return JSON.parse(a)}function It(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=function(a){let n={},l={},r={},c="";try{const d=a.split(".");n=Ss(td(d[0])||""),l=Ss(td(d[1])||""),c=d[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:c}},u1=function(a){const n=ty(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},d1=function(a){const n=ty(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function aa(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function Kp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function to(a,n,l){const r={};for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=n.call(l,a[c],c,a));return r}function no(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const c of l){if(!r.includes(c))return!1;const d=a[c],h=n[c];if($p(d)&&$p(h)){if(!no(d,h))return!1}else if(d!==h)return!1}for(const c of r)if(!l.includes(c))return!1;return!0}function $p(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(c=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let E=0;E<16;E++)r[E]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let E=0;E<16;E++)r[E]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let E=16;E<80;E++){const v=r[E-3]^r[E-8]^r[E-14]^r[E-16];r[E]=(v<<1|v>>>31)&4294967295}let c=this.chain_[0],d=this.chain_[1],h=this.chain_[2],p=this.chain_[3],_=this.chain_[4],y,b;for(let E=0;E<80;E++){E<40?E<20?(y=p^d&(h^p),b=1518500249):(y=d^h^p,b=1859775393):E<60?(y=d&h|p&(d|h),b=2400959708):(y=d^h^p,b=3395469782);const v=(c<<5|c>>>27)+y+_+b+r[E]&4294967295;_=p,p=h,h=(d<<30|d>>>2)&4294967295,d=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let c=0;const d=this.buf_;let h=this.inbuf_;for(;c<l;){if(h===0)for(;c<=r;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<l;)if(d[h]=n.charCodeAt(c),++h,++c,h===this.blockSize){this.compress_(d),h=0;break}}else for(;c<l;)if(d[h]=n[c],++h,++c,h===this.blockSize){this.compress_(d),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let c=0;c<5;c++)for(let d=24;d>=0;d-=8)n[r]=this.chain_[c]>>d&255,++r;return n}}function Cd(a,n){return`${a} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let c=a.charCodeAt(r);if(c>=55296&&c<=56319){const d=c-55296;r++,F(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;c=65536+(d<<10)+h}c<128?n[l++]=c:c<2048?(n[l++]=c>>6|192,n[l++]=c&63|128):c<65536?(n[l++]=c>>12|224,n[l++]=c>>6&63|128,n[l++]=c&63|128):(n[l++]=c>>18|240,n[l++]=c>>12&63|128,n[l++]=c>>6&63|128,n[l++]=c&63|128)}return n},bo=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(a){return a&&a._delegate?a._delegate:a}class xs{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new vo;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:l});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(y1(n))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);try{const d=this.getOrInitializeService({instanceIdentifier:c});r.resolve(d)}catch{}}}}clearInstance(n=rl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=rl){return this.instances.has(n)}getOptions(n=rl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[d,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(d);r===p&&h.resolve(c)}return c}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),c=this.onInitCallbacks.get(r)??new Set;c.add(n),this.onInitCallbacks.set(r,c);const d=this.instances.get(r);return d&&n(d,r),()=>{c.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const c of r)try{c(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g1(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=rl){return this.component?this.component.multipleInstances?n:rl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(a){return a===rl?void 0:a}function y1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new p1(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(at||(at={}));const v1={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},b1=at.INFO,S1={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},x1=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),c=S1[n];if(c)console[c](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class ny{constructor(n){this.name=n,this._logLevel=b1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in at))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?v1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...n),this._logHandler(this,at.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...n),this._logHandler(this,at.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,at.INFO,...n),this._logHandler(this,at.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,at.WARN,...n),this._logHandler(this,at.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...n),this._logHandler(this,at.ERROR,...n)}}const E1=(a,n)=>n.some(l=>a instanceof l);let Jp,eg;function C1(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T1(){return eg||(eg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iy=new WeakMap,nd=new WeakMap,ly=new WeakMap,Yu=new WeakMap,Td=new WeakMap;function w1(a){const n=new Promise((l,r)=>{const c=()=>{a.removeEventListener("success",d),a.removeEventListener("error",h)},d=()=>{l(ki(a.result)),c()},h=()=>{r(a.error),c()};a.addEventListener("success",d),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&iy.set(l,a)}).catch(()=>{}),Td.set(n,a),n}function A1(a){if(nd.has(a))return;const n=new Promise((l,r)=>{const c=()=>{a.removeEventListener("complete",d),a.removeEventListener("error",h),a.removeEventListener("abort",h)},d=()=>{l(),c()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),c()};a.addEventListener("complete",d),a.addEventListener("error",h),a.addEventListener("abort",h)});nd.set(a,n)}let id={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return nd.get(a);if(n==="objectStoreNames")return a.objectStoreNames||ly.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ki(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function N1(a){id=a(id)}function R1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(Gu(this),n,...l);return ly.set(r,n.sort?n.sort():[n]),ki(r)}:T1().includes(a)?function(...n){return a.apply(Gu(this),n),ki(iy.get(this))}:function(...n){return ki(a.apply(Gu(this),n))}}function D1(a){return typeof a=="function"?R1(a):(a instanceof IDBTransaction&&A1(a),E1(a,C1())?new Proxy(a,id):a)}function ki(a){if(a instanceof IDBRequest)return w1(a);if(Yu.has(a))return Yu.get(a);const n=D1(a);return n!==a&&(Yu.set(a,n),Td.set(n,a)),n}const Gu=a=>Td.get(a);function O1(a,n,{blocked:l,upgrade:r,blocking:c,terminated:d}={}){const h=indexedDB.open(a,n),p=ki(h);return r&&h.addEventListener("upgradeneeded",_=>{r(ki(h.result),_.oldVersion,_.newVersion,ki(h.transaction),_)}),l&&h.addEventListener("blocked",_=>l(_.oldVersion,_.newVersion,_)),p.then(_=>{d&&_.addEventListener("close",()=>d()),c&&_.addEventListener("versionchange",y=>c(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const M1=["get","getKey","getAll","getAllKeys","count"],j1=["put","add","delete","clear"],Qu=new Map;function tg(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Qu.get(n))return Qu.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,c=j1.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(c||M1.includes(l)))return;const d=async function(h,...p){const _=this.transaction(h,c?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[l](...p),c&&_.done]))[0]};return Qu.set(n,d),d}N1(a=>({...a,get:(n,l,r)=>tg(n,l)||a.get(n,l,r),has:(n,l)=>!!tg(n,l)||a.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(L1(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function L1(a){return a.getComponent()?.type==="VERSION"}const ld="@firebase/app",ng="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new ny("@firebase/app"),U1="@firebase/app-compat",B1="@firebase/analytics-compat",k1="@firebase/analytics",I1="@firebase/app-check-compat",H1="@firebase/app-check",q1="@firebase/auth",V1="@firebase/auth-compat",Y1="@firebase/database",G1="@firebase/data-connect",Q1="@firebase/database-compat",X1="@firebase/functions",F1="@firebase/functions-compat",W1="@firebase/installations",P1="@firebase/installations-compat",Z1="@firebase/messaging",K1="@firebase/messaging-compat",$1="@firebase/performance",J1="@firebase/performance-compat",eb="@firebase/remote-config",tb="@firebase/remote-config-compat",nb="@firebase/storage",ib="@firebase/storage-compat",lb="@firebase/firestore",ab="@firebase/ai",sb="@firebase/firestore-compat",rb="firebase",ob="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]",cb={[ld]:"fire-core",[U1]:"fire-core-compat",[k1]:"fire-analytics",[B1]:"fire-analytics-compat",[H1]:"fire-app-check",[I1]:"fire-app-check-compat",[q1]:"fire-auth",[V1]:"fire-auth-compat",[Y1]:"fire-rtdb",[G1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[X1]:"fire-fn",[F1]:"fire-fn-compat",[W1]:"fire-iid",[P1]:"fire-iid-compat",[Z1]:"fire-fcm",[K1]:"fire-fcm-compat",[$1]:"fire-perf",[J1]:"fire-perf-compat",[eb]:"fire-rc",[tb]:"fire-rc-compat",[nb]:"fire-gcs",[ib]:"fire-gcs-compat",[lb]:"fire-fst",[sb]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Map,ub=new Map,sd=new Map;function ig(a,n){try{a.container.addComponent(n)}catch(l){ci.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function lo(a){const n=a.name;if(sd.has(n))return ci.debug(`There were multiple attempts to register component ${n}.`),!1;sd.set(n,a);for(const l of io.values())ig(l,a);for(const l of ub.values())ig(l,a);return!0}function db(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function fb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new ey("app","Firebase",hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=ob;function ay(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:ad,automaticDataCollectionEnabled:!0,...n},c=r.name;if(typeof c!="string"||!c)throw Ii.create("bad-app-name",{appName:String(c)});if(l||(l=$g()),!l)throw Ii.create("no-options");const d=io.get(c);if(d){if(no(l,d.options)&&no(r,d.config))return d;throw Ii.create("duplicate-app",{appName:c})}const h=new _1(c);for(const _ of sd.values())h.addComponent(_);const p=new mb(l,r,h);return io.set(c,p),p}function gb(a=ad){const n=io.get(a);if(!n&&a===ad&&$g())return ay();if(!n)throw Ii.create("no-app",{appName:a});return n}function ta(a,n,l){let r=cb[a]??a;l&&(r+=`-${l}`);const c=r.match(/\s|\//),d=n.match(/\s|\//);if(c||d){const h=[`Unable to register library "${r}" with version "${n}":`];c&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&d&&h.push("and"),d&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),ci.warn(h.join(" "));return}lo(new xs(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebase-heartbeat-database",_b=1,Es="firebase-heartbeat-store";let Xu=null;function sy(){return Xu||(Xu=O1(yb,_b,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(Es)}catch(l){console.warn(l)}}}}).catch(a=>{throw Ii.create("idb-open",{originalErrorMessage:a.message})})),Xu}async function vb(a){try{const l=(await sy()).transaction(Es),r=await l.objectStore(Es).get(ry(a));return await l.done,r}catch(n){if(n instanceof Os)ci.warn(n.message);else{const l=Ii.create("idb-get",{originalErrorMessage:n?.message});ci.warn(l.message)}}}async function lg(a,n){try{const r=(await sy()).transaction(Es,"readwrite");await r.objectStore(Es).put(n,ry(a)),await r.done}catch(l){if(l instanceof Os)ci.warn(l.message);else{const r=Ii.create("idb-set",{originalErrorMessage:l?.message});ci.warn(r.message)}}}function ry(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=1024,Sb=30;class xb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Cb(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ag();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(c=>c.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>Sb){const c=Tb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ci.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ag(),{heartbeatsToSend:l,unsentEntries:r}=Eb(this._heartbeatsCache.heartbeats),c=eo(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ci.warn(n),""}}}function ag(){return new Date().toISOString().substring(0,10)}function Eb(a,n=bb){const l=[];let r=a.slice();for(const c of a){const d=l.find(h=>h.agent===c.agent);if(d){if(d.dates.push(c.date),sg(l)>n){d.dates.pop();break}}else if(l.push({agent:c.agent,dates:[c.date]}),sg(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class Cb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a1()?s1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await vb(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return lg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return lg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function sg(a){return eo(JSON.stringify({version:2,heartbeats:a})).length}function Tb(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(a){lo(new xs("platform-logger",n=>new z1(n),"PRIVATE")),lo(new xs("heartbeat",n=>new xb(n),"PRIVATE")),ta(ld,ng,a),ta(ld,ng,"esm2020"),ta("fire-js","")}wb("");var Ab="firebase",Nb="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(Ab,Nb,"app");var rg={};const og="@firebase/database",cg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy="";function Rb(a){oy=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),It(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Ss(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return fi(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Db(n)}}catch{}return new Ob},cl=cy("localStorage"),Mb=cy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new ny("@firebase/database"),jb=(function(){let a=1;return function(){return a++}})(),uy=function(a){const n=m1(a),l=new h1;l.update(n);const r=l.digest();return xd.encodeByteArray(r)},js=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=js.apply(null,r):typeof r=="object"?n+=It(r):n+=r,n+=" "}return n};let gs=null,ug=!0;const zb=function(a,n){F(!0,"Can't turn on custom loggers persistently."),na.logLevel=at.VERBOSE,gs=na.log.bind(na)},Wt=function(...a){if(ug===!0&&(ug=!1,gs===null&&Mb.get("logging_enabled")===!0&&zb()),gs){const n=js.apply(null,a);gs(n)}},zs=function(a){return function(...n){Wt(a,...n)}},rd=function(...a){const n="FIREBASE INTERNAL ERROR: "+js(...a);na.error(n)},ui=function(...a){const n=`FIREBASE FATAL ERROR: ${js(...a)}`;throw na.error(n),new Error(n)},nn=function(...a){const n="FIREBASE WARNING: "+js(...a);na.warn(n)},Lb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dy=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Ub=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},sa="[MIN_NAME]",dl="[MAX_NAME]",ua=function(a,n){if(a===n)return 0;if(a===sa||n===dl)return-1;if(n===sa||a===dl)return 1;{const l=dg(a),r=dg(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},Bb=function(a,n){return a===n?0:a<n?-1:1},ds=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+It(n))},wd=function(a){if(typeof a!="object"||a===null)return It(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=It(n[r]),l+=":",l+=wd(a[n[r]]);return l+="}",l},fy=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let c=0;c<l;c+=n)c+n>l?r.push(a.substring(c,l)):r.push(a.substring(c,c+n));return r};function ln(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const hy=function(a){F(!dy(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let c,d,h,p,_;a===0?(d=0,h=0,c=1/a===-1/0?1:0):(c=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(a)/Math.LN2),r),d=p+r,h=Math.round(a*Math.pow(2,l-p)-Math.pow(2,l))):(d=0,h=Math.round(a/Math.pow(2,1-r-l))));const y=[];for(_=l;_;_-=1)y.push(h%2?1:0),h=Math.floor(h/2);for(_=n;_;_-=1)y.push(d%2?1:0),d=Math.floor(d/2);y.push(c?1:0),y.reverse();const b=y.join("");let E="";for(_=0;_<64;_+=8){let v=parseInt(b.substr(_,8),2).toString(16);v.length===1&&(v="0"+v),E=E+v}return E.toLowerCase()},kb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ib=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hb(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const qb=new RegExp("^-?(0*)\\d{1,10}$"),Vb=-2147483648,Yb=2147483647,dg=function(a){if(qb.test(a)){const n=Number(a);if(n>=Vb&&n<=Yb)return n}return null},da=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw nn("Exception was thrown by user callback.",l),n},Math.floor(0))}},Gb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ys=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,fb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){nn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(Wt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(n)}}class Jr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Jr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="5",my="v",py="s",gy="r",yy="f",_y=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vy="ls",by="p",od="ac",Sy="websocket",xy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(n,l,r,c,d=!1,h="",p=!1,_=!1,y=null){this.secure=l,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=d,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=_,this.emulatorOptions=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&cl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function Fb(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Cy(a,n,l){F(typeof n=="string","typeof type must == string"),F(typeof l=="object","typeof params must == object");let r;if(n===Sy)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===xy)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Fb(a)&&(l.ns=a.namespace);const c=[];return ln(l,(d,h)=>{c.push(d+"="+h)}),r+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.counters_={}}incrementCounter(n,l=1){fi(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return Yv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu={},Wu={};function Nd(a){const n=a.toString();return Fu[n]||(Fu[n]=new Wb),Fu[n]}function Pb(a,n){const l=a.toString();return Wu[l]||(Wu[l]=n()),Wu[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&da(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="start",Kb="close",$b="pLPCommand",Jb="pRTLPCB",Ty="id",wy="pw",Ay="ser",eS="cb",tS="seg",nS="ts",iS="d",lS="dframe",Ny=1870,Ry=30,aS=Ny-Ry,sS=25e3,rS=3e4;class ea{constructor(n,l,r,c,d,h,p){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zs(n),this.stats_=Nd(l),this.urlFn=_=>(this.appCheckToken&&(_[od]=this.appCheckToken),Cy(l,xy,_))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Zb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rS)),Ub(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rd((...d)=>{const[h,p,_,y,b]=d;if(this.incrementIncomingBytes_(d),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===fg)this.id=p,this.password=_;else if(h===Kb)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...d)=>{const[h,p]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[fg]="t",r[Ay]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[my]=Ad,this.transportSessionId&&(r[py]=this.transportSessionId),this.lastSessionId&&(r[vy]=this.lastSessionId),this.applicationId&&(r[by]=this.applicationId),this.appCheckToken&&(r[od]=this.appCheckToken),typeof location<"u"&&location.hostname&&_y.test(location.hostname)&&(r[gy]=yy);const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ea.forceAllow_=!0}static forceDisallow(){ea.forceDisallow_=!0}static isAvailable(){return ea.forceAllow_?!0:!ea.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kb()&&!Ib()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=It(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Pg(l),c=fy(r,aS);for(let d=0;d<c.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[d]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[lS]="t",r[Ty]=n,r[wy]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=It(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Rd{constructor(n,l,r,c){this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jb(),window[$b+this.uniqueCallbackIdentifier]=n,window[Jb+this.uniqueCallbackIdentifier]=l,this.myIFrame=Rd.createIFrame_();let d="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(d='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){Wt("frame writing exception"),p.stack&&Wt(p.stack),Wt(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Wt("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Ty]=this.myID,n[wy]=this.myPW,n[Ay]=this.currentSerial;let l=this.urlFn(n),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ry+r.length<=Ny;){const h=this.pendingSegs.shift();r=r+"&"+tS+c+"="+h.seg+"&"+nS+c+"="+h.ts+"&"+iS+c+"="+h.d,c++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},c=setTimeout(r,Math.floor(sS)),d=()=>{clearTimeout(c),r()};this.addTag(n,d)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||c==="loaded"||c==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{Wt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=16384,cS=45e3;let ao=null;typeof MozWebSocket<"u"?ao=MozWebSocket:typeof WebSocket<"u"&&(ao=WebSocket);class Mn{constructor(n,l,r,c,d,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zs(this.connId),this.stats_=Nd(l),this.connURL=Mn.connectionURL_(l,h,p,c,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,c,d){const h={};return h[my]=Ad,typeof location<"u"&&location.hostname&&_y.test(location.hostname)&&(h[gy]=yy),l&&(h[py]=l),r&&(h[vy]=r),c&&(h[od]=c),d&&(h[by]=d),Cy(n,Sy,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cl.set("previous_websocket_failure",!0);try{let r;l1(),this.mySock=new ao(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){Mn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&ao!==null&&!Mn.forceDisallow_}static previouslyFailed(){return cl.isInMemoryStorage||cl.get("previous_websocket_failure")===!0}markConnectionHealthy(){cl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=Ss(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(F(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=It(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=fy(l,oS);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mn.responsesRequiredToBeHealthy=2;Mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{static get ALL_TRANSPORTS(){return[ea,Mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Mn&&Mn.isAvailable();let r=l&&!Mn.previouslyFailed();if(n.webSocketOnly&&(l||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mn];else{const c=this.transports_=[];for(const d of Cs.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);Cs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=6e4,dS=5e3,fS=10*1024,hS=100*1024,Pu="t",hg="d",mS="s",mg="r",pS="e",pg="o",gg="a",yg="n",_g="p",gS="h";class yS{constructor(n,l,r,c,d,h,p,_,y,b){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=d,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=_,this.onKill_=y,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zs("c:"+this.id+":"),this.transportManager_=new Cs(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=ys(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Pu in n){const l=n[Pu];l===gg?this.upgradeIfSecondaryHealthy_():l===mg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===pg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=ds("t",n),r=ds("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_g,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=ds("t",n),r=ds("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=ds(Pu,n);if(hg in n){const r=n[hg];if(l===gS){const c={...r};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(l===yg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===mS?this.onConnectionShutdown_(r):l===mg?this.onReset_(r):l===pS?rd("Server Error: "+r):l===pg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rd("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Ad!==r&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),ys(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ys(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_g,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{put(n,l,r,c){}merge(n,l,r,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(n){this.allowedEvents_=n,this.listeners_={},F(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const c=this.getInitialEvent(n);c&&l.apply(r,c)}off(n,l,r){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let d=0;d<c.length;d++)if(c[d].callback===l&&(!r||r===c[d].context)){c.splice(d,1);return}}validateEventType_(n){F(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Oy{static getInstance(){return new so}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return F(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=32,bg=768;class et{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function Ye(){return new et("")}function Ae(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function qi(a){return a.pieces_.length-a.pieceNum_}function st(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new et(a.pieces_,n)}function My(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function _S(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function jy(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function zy(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new et(n,0)}function Ot(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof et)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&l.push(r[c])}return new et(l,0)}function Oe(a){return a.pieceNum_>=a.pieces_.length}function en(a,n){const l=Ae(a),r=Ae(n);if(l===null)return n;if(l===r)return en(st(a),st(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function Dd(a,n){if(qi(a)!==qi(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function jn(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(qi(a)>qi(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class vS{constructor(n,l){this.errorPrefix_=l,this.parts_=jy(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=bo(this.parts_[r]);Ly(this)}}function bS(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=bo(n),Ly(a)}function SS(a){const n=a.parts_.pop();a.byteLength_-=bo(n),a.parts_.length>0&&(a.byteLength_-=1)}function Ly(a){if(a.byteLength_>bg)throw new Error(a.errorPrefix_+"has a key path longer than "+bg+" bytes ("+a.byteLength_+").");if(a.parts_.length>vg)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vg+") or object contains a cycle "+ol(a))}function ol(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends Oy{static getInstance(){return new Od}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return F(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=1e3,xS=300*1e3,Sg=30*1e3,ES=1.3,CS=3e4,TS="server_kill",xg=3;class oi extends Dy{constructor(n,l,r,c,d,h,p,_){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=oi.nextPersistentConnectionId_++,this.log_=zs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fs,this.maxReconnectDelay_=xS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Od.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&so.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const c=++this.requestNumber_,d={r:c,a:n,b:l};this.log_(It(d)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[c]=r)}get(n){this.initConnection_();const l=new vo,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?l.resolve(p):l.reject(p)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(d),l.promise}listen(n,l,r,c){this.initConnection_();const d=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+d),this.listens.has(h)||this.listens.set(h,new Map),F(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(h).has(d),"listen() called twice for same path/queryId.");const p={onComplete:c,hashFn:l,query:n,tag:r};this.listens.get(h).set(d,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),c=l._queryIdentifier;this.log_("Listen on "+r+" for "+c);const d={p:r},h="q";n.tag&&(d.q=l._queryObject,d.t=n.tag),d.h=n.hashFn(),this.sendRequest(h,d,p=>{const _=p.d,y=p.s;oi.warnOnListenWarnings_(_,l),(this.listens.get(r)&&this.listens.get(r).get(c))===n&&(this.log_("listen response",p),y!=="ok"&&this.removeListen_(r,c),n.onComplete&&n.onComplete(y,_))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&fi(n,"w")){const r=aa(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+l._queryParams.getIndex().toString()+'"',d=l._path.toString();nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||d1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Sg)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=u1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,c=>{const d=c.s,h=c.d||"error";this.authToken_===n&&(d==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),F(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,n._queryObject,l)}sendUnlisten_(n,l,r,c){this.log_("Unlisten on "+n+" for "+l);const d={p:n},h="n";c&&(d.q=r,d.t=c),this.sendRequest(h,d)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,c){const d={p:l,d:r};this.log_("onDisconnect "+n,d),this.sendRequest(n,d,h=>{c&&setTimeout(()=>{c(h.s,h.d)},Math.floor(0))})}put(n,l,r,c){this.putInternal("p",n,l,r,c)}merge(n,l,r,c){this.putInternal("m",n,l,r,c)}putInternal(n,l,r,c,d){this.initConnection_();const h={p:l,d:r};d!==void 0&&(h.h=d),this.outstandingPuts_.push({action:n,request:h,onComplete:c}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,d=>{this.log_(l+" response",d),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const d=r.d;this.log_("reportStats","Error sending stats: "+d)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+It(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):rd("Unrecognized action received from server: "+It(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CS&&(this.reconnectDelay_=fs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ES)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+oi.nextConnectionId_++,d=this.lastSessionId;let h=!1,p=null;const _=function(){p?p.close():(h=!0,r())},y=function(E){F(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(E)};this.realtime_={close:_,sendRequest:y};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,v]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?Wt("getToken() completed but was canceled"):(Wt("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=v&&v.token,p=new yS(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,q=>{nn(q+" ("+this.repoInfo_.toString()+")"),this.interrupt(TS)},d))}catch(E){this.log_("Failed to get token: "+E),h||(this.repoInfo_.nodeAdmin&&nn(E),_())}}}interrupt(n){Wt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Wt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Kp(this.interruptReasons_)&&(this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(d=>wd(d)).join("$"):r="default";const c=this.removeListen_(n,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,l){const r=new et(n).toString();let c;if(this.listens.has(r)){const d=this.listens.get(r);c=d.get(l),d.delete(l),d.size===0&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(n,l){Wt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xg&&(this.reconnectDelay_=Sg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){Wt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+oy.replace(/\./g,"-")]=1,Jg()?n["framework.cordova"]=1:i1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=so.getInstance().currentlyOnline();return Kp(this.interruptReasons_)&&n}}oi.nextPersistentConnectionId_=0;oi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new Ne(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new Ne(sa,n),c=new Ne(sa,l);return this.compare(r,c)!==0}minPost(){return Ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr;class Uy extends So{static get __EMPTY_NODE(){return Kr}static set __EMPTY_NODE(n){Kr=n}compare(n,l){return ua(n.name,l.name)}isDefinedOn(n){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return Ne.MIN}maxPost(){return new Ne(dl,Kr)}makePost(n,l){return F(typeof n=="string","KeyIndex indexValue must always be a string."),new Ne(n,Kr)}toString(){return".key"}}const ia=new Uy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(n,l,r,c,d=null){this.isReverse_=c,this.resultGenerator_=d,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,c&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class kt{constructor(n,l,r,c,d){this.key=n,this.value=l,this.color=r??kt.RED,this.left=c??tn.EMPTY_NODE,this.right=d??tn.EMPTY_NODE}copy(n,l,r,c,d){return new kt(n??this.key,l??this.value,r??this.color,c??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let c=this;const d=r(n,c.key);return d<0?c=c.copy(null,null,null,c.left.insert(n,l,r),null):d===0?c=c.copy(null,l,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,l,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return tn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,c;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return tn.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class wS{copy(n,l,r,c,d){return this}insert(n,l,r){return new kt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tn{constructor(n,l=tn.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new tn(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(n){return new tn(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,c=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(c=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new $r(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new $r(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new $r(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new $r(this.root_,null,this.comparator_,!0,n)}}tn.EMPTY_NODE=new wS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(a,n){return ua(a.name,n.name)}function Md(a,n){return ua(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;function NS(a){cd=a}const By=function(a){return typeof a=="number"?"number:"+hy(a):"string:"+a},ky=function(a){if(a.isLeafNode()){const n=a.val();F(typeof n=="string"||typeof n=="number"||typeof n=="object"&&fi(n,".sv"),"Priority must be a string or number.")}else F(a===cd||a.isEmpty(),"priority of unexpected type.");F(a===cd||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg;class Bt{static set __childrenNodeConstructor(n){Eg=n}static get __childrenNodeConstructor(){return Eg}constructor(n,l=Bt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ky(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Bt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Oe(n)?this:Ae(n)===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:Bt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=Ae(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||qi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Bt.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+By(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=hy(this.value_):n+=this.value_,this.lazyHash_=uy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Bt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Bt.__childrenNodeConstructor?-1:(F(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,c=Bt.VALUE_TYPE_ORDER.indexOf(l),d=Bt.VALUE_TYPE_ORDER.indexOf(r);return F(c>=0,"Unknown leaf type: "+l),F(d>=0,"Unknown leaf type: "+r),c===d?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}Bt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy,Hy;function RS(a){Iy=a}function DS(a){Hy=a}class OS extends So{compare(n,l){const r=n.node.getPriority(),c=l.node.getPriority(),d=r.compareTo(c);return d===0?ua(n.name,l.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return Ne.MIN}maxPost(){return new Ne(dl,new Bt("[PRIORITY-POST]",Hy))}makePost(n,l){const r=Iy(n);return new Ne(l,new Bt("[PRIORITY-POST]",r))}toString(){return".priority"}}const _t=new OS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=Math.log(2);class jS{constructor(n){const l=d=>parseInt(Math.log(d)/MS,10),r=d=>parseInt(Array(d+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const c=r(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const ro=function(a,n,l,r){a.sort(n);const c=function(_,y){const b=y-_;let E,v;if(b===0)return null;if(b===1)return E=a[_],v=l?l(E):E,new kt(v,E.node,kt.BLACK,null,null);{const q=parseInt(b/2,10)+_,z=c(_,q),P=c(q+1,y);return E=a[q],v=l?l(E):E,new kt(v,E.node,kt.BLACK,z,P)}},d=function(_){let y=null,b=null,E=a.length;const v=function(z,P){const be=E-z,tt=E;E-=z;const de=c(be+1,tt),Ie=a[be],ge=l?l(Ie):Ie;q(new kt(ge,Ie.node,P,null,de))},q=function(z){y?(y.left=z,y=z):(b=z,y=z)};for(let z=0;z<_.count;++z){const P=_.nextBitIsOne(),be=Math.pow(2,_.count-(z+1));P?v(be,kt.BLACK):(v(be,kt.BLACK),v(be,kt.RED))}return b},h=new jS(a.length),p=d(h);return new tn(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;const Jl={};class ri{static get Default(){return F(Jl&&_t,"ChildrenNode.ts has not been loaded"),Zu=Zu||new ri({".priority":Jl},{".priority":_t}),Zu}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=aa(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof tn?l:null}hasIndex(n){return fi(this.indexSet_,n.toString())}addIndex(n,l){F(n!==ia,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const d=l.getIterator(Ne.Wrap);let h=d.getNext();for(;h;)c=c||n.isDefinedOn(h.node),r.push(h),h=d.getNext();let p;c?p=ro(r,n.getCompare()):p=Jl;const _=n.toString(),y={...this.indexSet_};y[_]=n;const b={...this.indexes_};return b[_]=p,new ri(b,y)}addToIndexes(n,l){const r=to(this.indexes_,(c,d)=>{const h=aa(this.indexSet_,d);if(F(h,"Missing index implementation for "+d),c===Jl)if(h.isDefinedOn(n.node)){const p=[],_=l.getIterator(Ne.Wrap);let y=_.getNext();for(;y;)y.name!==n.name&&p.push(y),y=_.getNext();return p.push(n),ro(p,h.getCompare())}else return Jl;else{const p=l.get(n.name);let _=c;return p&&(_=_.remove(new Ne(n.name,p))),_.insert(n,n.node)}});return new ri(r,this.indexSet_)}removeFromIndexes(n,l){const r=to(this.indexes_,c=>{if(c===Jl)return c;{const d=l.get(n.name);return d?c.remove(new Ne(n.name,d)):c}});return new ri(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs;class ve{static get EMPTY_NODE(){return hs||(hs=new ve(new tn(Md),null,ri.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ky(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hs}updatePriority(n){return this.children_.isEmpty()?this:new ve(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?hs:l}}getChild(n){const l=Ae(n);return l===null?this:this.getImmediateChild(l).getChild(st(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(F(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new Ne(n,l);let c,d;l.isEmpty()?(c=this.children_.remove(n),d=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(n,l),d=this.indexMap_.addToIndexes(r,this.children_));const h=c.isEmpty()?hs:this.priorityNode_;return new ve(c,h,d)}}updateChild(n,l){const r=Ae(n);if(r===null)return l;{F(Ae(n)!==".priority"||qi(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(st(n),l);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,c=0,d=!0;if(this.forEachChild(_t,(h,p)=>{l[h]=p.val(n),r++,d&&ve.INTEGER_REGEXP_.test(h)?c=Math.max(c,Number(h)):d=!1}),!n&&d&&c<2*r){const h=[];for(const p in l)h[p]=l[p];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+By(this.getPriority().val())+":"),this.forEachChild(_t,(l,r)=>{const c=r.hash();c!==""&&(n+=":"+l+":"+c)}),this.lazyHash_=n===""?"":uy(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const c=this.resolveIndex_(r);if(c){const d=c.getPredecessorKey(new Ne(n,l));return d?d.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new Ne(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new Ne(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(c=>l(c.name,c.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,Ne.Wrap);let d=c.peek();for(;d!=null&&l.compare(d,n)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,Ne.Wrap);let d=c.peek();for(;d!=null&&l.compare(d,n)>0;)c.getNext(),d=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ls?-1:0}withIndex(n){if(n===ia||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new ve(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===ia||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(_t),c=l.getIterator(_t);let d=r.getNext(),h=c.getNext();for(;d&&h;){if(d.name!==h.name||!d.node.equals(h.node))return!1;d=r.getNext(),h=c.getNext()}return d===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===ia?null:this.indexMap_.get(n.toString())}}ve.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zS extends ve{constructor(){super(new tn(Md),ve.EMPTY_NODE,ri.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ve.EMPTY_NODE}isEmpty(){return!1}}const Ls=new zS;Object.defineProperties(Ne,{MIN:{value:new Ne(sa,ve.EMPTY_NODE)},MAX:{value:new Ne(dl,Ls)}});Uy.__EMPTY_NODE=ve.EMPTY_NODE;Bt.__childrenNodeConstructor=ve;NS(Ls);DS(Ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=!0;function Qt(a,n=null){if(a===null)return ve.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),F(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new Bt(l,Qt(n))}if(!(a instanceof Array)&&LS){const l=[];let r=!1;if(ln(a,(h,p)=>{if(h.substring(0,1)!=="."){const _=Qt(p);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),l.push(new Ne(h,_)))}}),l.length===0)return ve.EMPTY_NODE;const d=ro(l,AS,h=>h.name,Md);if(r){const h=ro(l,_t.getCompare());return new ve(d,Qt(n),new ri({".priority":h},{".priority":_t}))}else return new ve(d,Qt(n),ri.Default)}else{let l=ve.EMPTY_NODE;return ln(a,(r,c)=>{if(fi(a,r)&&r.substring(0,1)!=="."){const d=Qt(c);(d.isLeafNode()||!d.isEmpty())&&(l=l.updateImmediateChild(r,d))}}),l.updatePriority(Qt(n))}}RS(Qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends So{constructor(n){super(),this.indexPath_=n,F(!Oe(n)&&Ae(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),c=this.extractChild(l.node),d=r.compareTo(c);return d===0?ua(n.name,l.name):d}makePost(n,l){const r=Qt(n),c=ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ne(l,c)}maxPost(){const n=ve.EMPTY_NODE.updateChild(this.indexPath_,Ls);return new Ne(dl,n)}toString(){return jy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends So{compare(n,l){const r=n.node.compareTo(l.node);return r===0?ua(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return Ne.MIN}maxPost(){return Ne.MAX}makePost(n,l){const r=Qt(n);return new Ne(l,r)}toString(){return".value"}}const kS=new BS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(a){return{type:"value",snapshotNode:a}}function ra(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function Ts(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function ws(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function IS(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(n){this.index_=n}updateChild(n,l,r,c,d,h){F(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(l);return p.getChild(c).equals(r.getChild(c))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(Ts(l,p)):F(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(ra(l,r)):h.trackChildChange(ws(l,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(_t,(c,d)=>{l.hasChild(c)||r.trackChildChange(Ts(c,d))}),l.isLeafNode()||l.forEachChild(_t,(c,d)=>{if(n.hasChild(c)){const h=n.getImmediateChild(c);h.equals(d)||r.trackChildChange(ws(c,d,h))}else r.trackChildChange(ra(c,d))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?ve.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(n){this.indexedFilter_=new jd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=As.getStartPost_(n),this.endPost_=As.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,c,d,h){return this.matches(new Ne(l,r))||(r=ve.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,c,d,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=ve.EMPTY_NODE);let c=l.withIndex(this.index_);c=c.updatePriority(ve.EMPTY_NODE);const d=this;return l.forEachChild(_t,(h,p)=>{d.matches(new Ne(h,p))||(c=c.updateImmediateChild(h,ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new As(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,c,d,h){return this.rangedFilter_.matches(new Ne(l,r))||(r=ve.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,c,d,h):this.fullLimitUpdateChild_(n,l,r,d,h)}updateFullNode(n,l,r){let c;if(l.isLeafNode()||l.isEmpty())c=ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){c=ve.EMPTY_NODE.withIndex(this.index_);let d;this.reverse_?d=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;d.hasNext()&&h<this.limit_;){const p=d.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))c=c.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{c=l.withIndex(this.index_),c=c.updatePriority(ve.EMPTY_NODE);let d;this.reverse_?d=c.getReverseIterator(this.index_):d=c.getIterator(this.index_);let h=0;for(;d.hasNext();){const p=d.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:c=c.updateImmediateChild(p.name,ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,c,d){let h;if(this.reverse_){const E=this.index_.getCompare();h=(v,q)=>E(q,v)}else h=this.index_.getCompare();const p=n;F(p.numChildren()===this.limit_,"");const _=new Ne(l,r),y=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),b=this.rangedFilter_.matches(_);if(p.hasChild(l)){const E=p.getImmediateChild(l);let v=c.getChildAfterChild(this.index_,y,this.reverse_);for(;v!=null&&(v.name===l||p.hasChild(v.name));)v=c.getChildAfterChild(this.index_,v,this.reverse_);const q=v==null?1:h(v,_);if(b&&!r.isEmpty()&&q>=0)return d?.trackChildChange(ws(l,r,E)),p.updateImmediateChild(l,r);{d?.trackChildChange(Ts(l,E));const P=p.updateImmediateChild(l,ve.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(d?.trackChildChange(ra(v.name,v.node)),P.updateImmediateChild(v.name,v.node)):P}}else return r.isEmpty()?n:b&&h(y,_)>=0?(d!=null&&(d.trackChildChange(Ts(y.name,y.node)),d.trackChildChange(ra(l,r))),p.updateImmediateChild(l,r).updateImmediateChild(y.name,ve.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_t}copy(){const n=new zd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function qS(a){return a.loadsAllData()?new jd(a.getIndex()):a.hasLimit()?new HS(a):new As(a)}function Cg(a){const n={};if(a.isDefault())return n;let l;if(a.index_===_t?l="$priority":a.index_===kS?l="$value":a.index_===ia?l="$key":(F(a.index_ instanceof US,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=It(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=It(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+It(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=It(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+It(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function Tg(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==_t&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Dy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(F(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,c){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=zs("p:rest:"),this.listens_={}}listen(n,l,r,c){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const h=oo.getListenId_(n,r),p={};this.listens_[h]=p;const _=Cg(n._queryParams);this.restRequest_(d+".json",_,(y,b)=>{let E=b;if(y===404&&(E=null,y=null),y===null&&this.onDataUpdate_(d,E,!1,r),aa(this.listens_,h)===p){let v;y?y===401?v="permission_denied":v="rest_error:"+y:v="ok",c(v,null)}})}unlisten(n,l){const r=oo.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Cg(n._queryParams),r=n._path.toString(),c=new vo;return this.restRequest_(r+".json",l,(d,h)=>{let p=h;d===404&&(p=null,d=null),d===null?(this.onDataUpdate_(r,p,!1,null),c.resolve(p)):c.reject(new Error(p))}),c.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,d])=>{c&&c.accessToken&&(l.auth=c.accessToken),d&&d.token&&(l.ac=d.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+f1(l);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let _=null;if(p.status>=200&&p.status<300){try{_=Ss(p.responseText)}catch{nn("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,_)}else p.status!==401&&p.status!==404&&nn("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(){return{value:null,children:new Map}}function Vy(a,n,l){if(Oe(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=Ae(n);a.children.has(r)||a.children.set(r,co());const c=a.children.get(r);n=st(n),Vy(c,n,l)}}function ud(a,n,l){a.value!==null?l(n,a.value):YS(a,(r,c)=>{const d=new et(n.toString()+"/"+r);ud(c,d,l)})}function YS(a,n){a.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&ln(this.last_,(r,c)=>{l[r]=l[r]-c}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=10*1e3,QS=30*1e3,XS=300*1e3;class FS{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new GS(n);const r=wg+(QS-wg)*Math.random();ys(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;ln(n,(c,d)=>{d>0&&fi(this.statsToReport_,c)&&(l[c]=d,r=!0)}),r&&this.server_.reportStats(l),ys(this.reportStats_.bind(this),Math.floor(Math.random()*2*XS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zn||(zn={}));function Yy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ld(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ud(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=zn.ACK_USER_WRITE,this.source=Yy()}operationForChild(n){if(Oe(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new et(n));return new uo(Ye(),l,this.revert)}}else return F(Ae(this.path)===n,"operationForChild called for unrelated child."),new uo(st(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(n,l){this.source=n,this.path=l,this.type=zn.LISTEN_COMPLETE}operationForChild(n){return Oe(this.path)?new Ns(this.source,Ye()):new Ns(this.source,st(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=zn.OVERWRITE}operationForChild(n){return Oe(this.path)?new fl(this.source,Ye(),this.snap.getImmediateChild(n)):new fl(this.source,st(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=zn.MERGE}operationForChild(n){if(Oe(this.path)){const l=this.children.subtree(new et(n));return l.isEmpty()?null:l.value?new fl(this.source,Ye(),l.value):new Rs(this.source,Ye(),l)}else return F(Ae(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Rs(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Oe(n))return this.isFullyInitialized()&&!this.filtered_;const l=Ae(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function PS(a,n,l,r){const c=[],d=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&d.push(IS(h.childName,h.snapshotNode))}),ms(a,c,"child_removed",n,r,l),ms(a,c,"child_added",n,r,l),ms(a,c,"child_moved",d,r,l),ms(a,c,"child_changed",n,r,l),ms(a,c,"value",n,r,l),c}function ms(a,n,l,r,c,d){const h=r.filter(p=>p.type===l);h.sort((p,_)=>KS(a,p,_)),h.forEach(p=>{const _=ZS(a,p,d);c.forEach(y=>{y.respondsTo(p.type)&&n.push(y.createEvent(_,a.query_))})})}function ZS(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function KS(a,n,l){if(n.childName==null||l.childName==null)throw ca("Should only compare child_ events.");const r=new Ne(n.childName,n.snapshotNode),c=new Ne(l.childName,l.snapshotNode);return a.index_.compare(r,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(a,n){return{eventCache:a,serverCache:n}}function _s(a,n,l,r){return xo(new hl(n,l,r),a.serverCache)}function Gy(a,n,l,r){return xo(a.eventCache,new hl(n,l,r))}function dd(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ml(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku;const $S=()=>(Ku||(Ku=new tn(Bb)),Ku);class ot{static fromObject(n){let l=new ot(null);return ln(n,(r,c)=>{l=l.set(new et(r),c)}),l}constructor(n,l=$S()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:Ye(),value:this.value};if(Oe(n))return null;{const r=Ae(n),c=this.children.get(r);if(c!==null){const d=c.findRootMostMatchingPathAndValue(st(n),l);return d!=null?{path:Ot(new et(r),d.path),value:d.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Oe(n))return this;{const l=Ae(n),r=this.children.get(l);return r!==null?r.subtree(st(n)):new ot(null)}}set(n,l){if(Oe(n))return new ot(l,this.children);{const r=Ae(n),d=(this.children.get(r)||new ot(null)).set(st(n),l),h=this.children.insert(r,d);return new ot(this.value,h)}}remove(n){if(Oe(n))return this.children.isEmpty()?new ot(null):new ot(null,this.children);{const l=Ae(n),r=this.children.get(l);if(r){const c=r.remove(st(n));let d;return c.isEmpty()?d=this.children.remove(l):d=this.children.insert(l,c),this.value===null&&d.isEmpty()?new ot(null):new ot(this.value,d)}else return this}}get(n){if(Oe(n))return this.value;{const l=Ae(n),r=this.children.get(l);return r?r.get(st(n)):null}}setTree(n,l){if(Oe(n))return l;{const r=Ae(n),d=(this.children.get(r)||new ot(null)).setTree(st(n),l);let h;return d.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,d),new ot(this.value,h)}}fold(n){return this.fold_(Ye(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((c,d)=>{r[c]=d.fold_(Ot(n,c),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,Ye(),l)}findOnPath_(n,l,r){const c=this.value?r(l,this.value):!1;if(c)return c;if(Oe(n))return null;{const d=Ae(n),h=this.children.get(d);return h?h.findOnPath_(st(n),Ot(l,d),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,Ye(),l)}foreachOnPath_(n,l,r){if(Oe(n))return this;{this.value&&r(l,this.value);const c=Ae(n),d=this.children.get(c);return d?d.foreachOnPath_(st(n),Ot(l,c),r):new ot(null)}}foreach(n){this.foreach_(Ye(),n)}foreach_(n,l){this.children.inorderTraversal((r,c)=>{c.foreach_(Ot(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(n){this.writeTree_=n}static empty(){return new Ln(new ot(null))}}function vs(a,n,l){if(Oe(n))return new Ln(new ot(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const c=r.path;let d=r.value;const h=en(c,n);return d=d.updateChild(h,l),new Ln(a.writeTree_.set(c,d))}else{const c=new ot(l),d=a.writeTree_.setTree(n,c);return new Ln(d)}}}function Ag(a,n,l){let r=a;return ln(l,(c,d)=>{r=vs(r,Ot(n,c),d)}),r}function Ng(a,n){if(Oe(n))return Ln.empty();{const l=a.writeTree_.setTree(n,new ot(null));return new Ln(l)}}function fd(a,n){return pl(a,n)!=null}function pl(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(en(l.path,n)):null}function Rg(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(_t,(r,c)=>{n.push(new Ne(r,c))}):a.writeTree_.children.inorderTraversal((r,c)=>{c.value!=null&&n.push(new Ne(r,c.value))}),n}function Hi(a,n){if(Oe(n))return a;{const l=pl(a,n);return l!=null?new Ln(new ot(l)):new Ln(a.writeTree_.subtree(n))}}function hd(a){return a.writeTree_.isEmpty()}function oa(a,n){return Qy(Ye(),a.writeTree_,n)}function Qy(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((c,d)=>{c===".priority"?(F(d.value!==null,"Priority writes must always be leaf nodes"),r=d.value):l=Qy(Ot(a,c),d,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(Ot(a,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(a,n){return Py(n,a)}function JS(a,n,l,r,c){F(r>a.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:c}),c&&(a.visibleWrites=vs(a.visibleWrites,n,l)),a.lastWriteId=r}function ex(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function tx(a,n){const l=a.allWrites.findIndex(p=>p.writeId===n);F(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let c=r.visible,d=!1,h=a.allWrites.length-1;for(;c&&h>=0;){const p=a.allWrites[h];p.visible&&(h>=l&&nx(p,r.path)?c=!1:jn(r.path,p.path)&&(d=!0)),h--}if(c){if(d)return ix(a),!0;if(r.snap)a.visibleWrites=Ng(a.visibleWrites,r.path);else{const p=r.children;ln(p,_=>{a.visibleWrites=Ng(a.visibleWrites,Ot(r.path,_))})}return!0}else return!1}function nx(a,n){if(a.snap)return jn(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&jn(Ot(a.path,l),n))return!0;return!1}function ix(a){a.visibleWrites=Xy(a.allWrites,lx,Ye()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function lx(a){return a.visible}function Xy(a,n,l){let r=Ln.empty();for(let c=0;c<a.length;++c){const d=a[c];if(n(d)){const h=d.path;let p;if(d.snap)jn(l,h)?(p=en(l,h),r=vs(r,p,d.snap)):jn(h,l)&&(p=en(h,l),r=vs(r,Ye(),d.snap.getChild(p)));else if(d.children){if(jn(l,h))p=en(l,h),r=Ag(r,p,d.children);else if(jn(h,l))if(p=en(h,l),Oe(p))r=Ag(r,Ye(),d.children);else{const _=aa(d.children,Ae(p));if(_){const y=_.getChild(st(p));r=vs(r,Ye(),y)}}}else throw ca("WriteRecord should have .snap or .children")}}return r}function Fy(a,n,l,r,c){if(!r&&!c){const d=pl(a.visibleWrites,n);if(d!=null)return d;{const h=Hi(a.visibleWrites,n);if(hd(h))return l;if(l==null&&!fd(h,Ye()))return null;{const p=l||ve.EMPTY_NODE;return oa(h,p)}}}else{const d=Hi(a.visibleWrites,n);if(!c&&hd(d))return l;if(!c&&l==null&&!fd(d,Ye()))return null;{const h=function(y){return(y.visible||c)&&(!r||!~r.indexOf(y.writeId))&&(jn(y.path,n)||jn(n,y.path))},p=Xy(a.allWrites,h,n),_=l||ve.EMPTY_NODE;return oa(p,_)}}}function ax(a,n,l){let r=ve.EMPTY_NODE;const c=pl(a.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(_t,(d,h)=>{r=r.updateImmediateChild(d,h)}),r;if(l){const d=Hi(a.visibleWrites,n);return l.forEachChild(_t,(h,p)=>{const _=oa(Hi(d,new et(h)),p);r=r.updateImmediateChild(h,_)}),Rg(d).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const d=Hi(a.visibleWrites,n);return Rg(d).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function sx(a,n,l,r,c){F(r||c,"Either existingEventSnap or existingServerSnap must exist");const d=Ot(n,l);if(fd(a.visibleWrites,d))return null;{const h=Hi(a.visibleWrites,d);return hd(h)?c.getChild(l):oa(h,c.getChild(l))}}function rx(a,n,l,r){const c=Ot(n,l),d=pl(a.visibleWrites,c);if(d!=null)return d;if(r.isCompleteForChild(l)){const h=Hi(a.visibleWrites,c);return oa(h,r.getNode().getImmediateChild(l))}else return null}function ox(a,n){return pl(a.visibleWrites,n)}function cx(a,n,l,r,c,d,h){let p;const _=Hi(a.visibleWrites,n),y=pl(_,Ye());if(y!=null)p=y;else if(l!=null)p=oa(_,l);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const b=[],E=h.getCompare(),v=d?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let q=v.getNext();for(;q&&b.length<c;)E(q,r)!==0&&b.push(q),q=v.getNext();return b}else return[]}function ux(){return{visibleWrites:Ln.empty(),allWrites:[],lastWriteId:-1}}function fo(a,n,l,r){return Fy(a.writeTree,a.treePath,n,l,r)}function kd(a,n){return ax(a.writeTree,a.treePath,n)}function Dg(a,n,l,r){return sx(a.writeTree,a.treePath,n,l,r)}function ho(a,n){return ox(a.writeTree,Ot(a.treePath,n))}function dx(a,n,l,r,c,d){return cx(a.writeTree,a.treePath,n,l,r,c,d)}function Id(a,n,l){return rx(a.writeTree,a.treePath,n,l)}function Wy(a,n){return Py(Ot(a.treePath,n),a.writeTree)}function Py(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;F(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const d=c.type;if(l==="child_added"&&d==="child_removed")this.changeMap.set(r,ws(r,n.snapshotNode,c.snapshotNode));else if(l==="child_removed"&&d==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&d==="child_changed")this.changeMap.set(r,Ts(r,c.oldSnap));else if(l==="child_changed"&&d==="child_added")this.changeMap.set(r,ra(r,n.snapshotNode));else if(l==="child_changed"&&d==="child_changed")this.changeMap.set(r,ws(r,n.snapshotNode,c.oldSnap));else throw ca("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const Zy=new hx;class Hd{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new hl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Id(this.writes_,n,r)}}getChildAfterChild(n,l,r){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ml(this.viewCache_),d=dx(this.writes_,c,l,1,r,n);return d.length===0?null:d[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(a){return{filter:a}}function px(a,n){F(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),F(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function gx(a,n,l,r,c){const d=new fx;let h,p;if(l.type===zn.OVERWRITE){const y=l;y.source.fromUser?h=md(a,n,y.path,y.snap,r,c,d):(F(y.source.fromServer,"Unknown source."),p=y.source.tagged||n.serverCache.isFiltered()&&!Oe(y.path),h=mo(a,n,y.path,y.snap,r,c,p,d))}else if(l.type===zn.MERGE){const y=l;y.source.fromUser?h=_x(a,n,y.path,y.children,r,c,d):(F(y.source.fromServer,"Unknown source."),p=y.source.tagged||n.serverCache.isFiltered(),h=pd(a,n,y.path,y.children,r,c,p,d))}else if(l.type===zn.ACK_USER_WRITE){const y=l;y.revert?h=Sx(a,n,y.path,r,c,d):h=vx(a,n,y.path,y.affectedTree,r,c,d)}else if(l.type===zn.LISTEN_COMPLETE)h=bx(a,n,l.path,r,d);else throw ca("Unknown operation type: "+l.type);const _=d.getChanges();return yx(n,h,_),{viewCache:h,changes:_}}function yx(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),d=dd(a);(l.length>0||!a.eventCache.isFullyInitialized()||c&&!r.getNode().equals(d)||!r.getNode().getPriority().equals(d.getPriority()))&&l.push(qy(dd(n)))}}function Ky(a,n,l,r,c,d){const h=n.eventCache;if(ho(r,l)!=null)return n;{let p,_;if(Oe(l))if(F(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const y=ml(n),b=y instanceof ve?y:ve.EMPTY_NODE,E=kd(r,b);p=a.filter.updateFullNode(n.eventCache.getNode(),E,d)}else{const y=fo(r,ml(n));p=a.filter.updateFullNode(n.eventCache.getNode(),y,d)}else{const y=Ae(l);if(y===".priority"){F(qi(l)===1,"Can't have a priority with additional path components");const b=h.getNode();_=n.serverCache.getNode();const E=Dg(r,l,b,_);E!=null?p=a.filter.updatePriority(b,E):p=h.getNode()}else{const b=st(l);let E;if(h.isCompleteForChild(y)){_=n.serverCache.getNode();const v=Dg(r,l,h.getNode(),_);v!=null?E=h.getNode().getImmediateChild(y).updateChild(b,v):E=h.getNode().getImmediateChild(y)}else E=Id(r,y,n.serverCache);E!=null?p=a.filter.updateChild(h.getNode(),y,E,b,c,d):p=h.getNode()}}return _s(n,p,h.isFullyInitialized()||Oe(l),a.filter.filtersNodes())}}function mo(a,n,l,r,c,d,h,p){const _=n.serverCache;let y;const b=h?a.filter:a.filter.getIndexedFilter();if(Oe(l))y=b.updateFullNode(_.getNode(),r,null);else if(b.filtersNodes()&&!_.isFiltered()){const q=_.getNode().updateChild(l,r);y=b.updateFullNode(_.getNode(),q,null)}else{const q=Ae(l);if(!_.isCompleteForPath(l)&&qi(l)>1)return n;const z=st(l),be=_.getNode().getImmediateChild(q).updateChild(z,r);q===".priority"?y=b.updatePriority(_.getNode(),be):y=b.updateChild(_.getNode(),q,be,z,Zy,null)}const E=Gy(n,y,_.isFullyInitialized()||Oe(l),b.filtersNodes()),v=new Hd(c,E,d);return Ky(a,E,l,c,v,p)}function md(a,n,l,r,c,d,h){const p=n.eventCache;let _,y;const b=new Hd(c,n,d);if(Oe(l))y=a.filter.updateFullNode(n.eventCache.getNode(),r,h),_=_s(n,y,!0,a.filter.filtersNodes());else{const E=Ae(l);if(E===".priority")y=a.filter.updatePriority(n.eventCache.getNode(),r),_=_s(n,y,p.isFullyInitialized(),p.isFiltered());else{const v=st(l),q=p.getNode().getImmediateChild(E);let z;if(Oe(v))z=r;else{const P=b.getCompleteChild(E);P!=null?My(v)===".priority"&&P.getChild(zy(v)).isEmpty()?z=P:z=P.updateChild(v,r):z=ve.EMPTY_NODE}if(q.equals(z))_=n;else{const P=a.filter.updateChild(p.getNode(),E,z,v,b,h);_=_s(n,P,p.isFullyInitialized(),a.filter.filtersNodes())}}}return _}function Og(a,n){return a.eventCache.isCompleteForChild(n)}function _x(a,n,l,r,c,d,h){let p=n;return r.foreach((_,y)=>{const b=Ot(l,_);Og(n,Ae(b))&&(p=md(a,p,b,y,c,d,h))}),r.foreach((_,y)=>{const b=Ot(l,_);Og(n,Ae(b))||(p=md(a,p,b,y,c,d,h))}),p}function Mg(a,n,l){return l.foreach((r,c)=>{n=n.updateChild(r,c)}),n}function pd(a,n,l,r,c,d,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,y;Oe(l)?y=r:y=new ot(null).setTree(l,r);const b=n.serverCache.getNode();return y.children.inorderTraversal((E,v)=>{if(b.hasChild(E)){const q=n.serverCache.getNode().getImmediateChild(E),z=Mg(a,q,v);_=mo(a,_,new et(E),z,c,d,h,p)}}),y.children.inorderTraversal((E,v)=>{const q=!n.serverCache.isCompleteForChild(E)&&v.value===null;if(!b.hasChild(E)&&!q){const z=n.serverCache.getNode().getImmediateChild(E),P=Mg(a,z,v);_=mo(a,_,new et(E),P,c,d,h,p)}}),_}function vx(a,n,l,r,c,d,h){if(ho(c,l)!=null)return n;const p=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(Oe(l)&&_.isFullyInitialized()||_.isCompleteForPath(l))return mo(a,n,l,_.getNode().getChild(l),c,d,p,h);if(Oe(l)){let y=new ot(null);return _.getNode().forEachChild(ia,(b,E)=>{y=y.set(new et(b),E)}),pd(a,n,l,y,c,d,p,h)}else return n}else{let y=new ot(null);return r.foreach((b,E)=>{const v=Ot(l,b);_.isCompleteForPath(v)&&(y=y.set(b,_.getNode().getChild(v)))}),pd(a,n,l,y,c,d,p,h)}}function bx(a,n,l,r,c){const d=n.serverCache,h=Gy(n,d.getNode(),d.isFullyInitialized()||Oe(l),d.isFiltered());return Ky(a,h,l,r,Zy,c)}function Sx(a,n,l,r,c,d){let h;if(ho(r,l)!=null)return n;{const p=new Hd(r,n,c),_=n.eventCache.getNode();let y;if(Oe(l)||Ae(l)===".priority"){let b;if(n.serverCache.isFullyInitialized())b=fo(r,ml(n));else{const E=n.serverCache.getNode();F(E instanceof ve,"serverChildren would be complete if leaf node"),b=kd(r,E)}b=b,y=a.filter.updateFullNode(_,b,d)}else{const b=Ae(l);let E=Id(r,b,n.serverCache);E==null&&n.serverCache.isCompleteForChild(b)&&(E=_.getImmediateChild(b)),E!=null?y=a.filter.updateChild(_,b,E,st(l),p,d):n.eventCache.getNode().hasChild(b)?y=a.filter.updateChild(_,b,ve.EMPTY_NODE,st(l),p,d):y=_,y.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=fo(r,ml(n)),h.isLeafNode()&&(y=a.filter.updateFullNode(y,h,d)))}return h=n.serverCache.isFullyInitialized()||ho(r,Ye())!=null,_s(n,y,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,c=new jd(r.getIndex()),d=qS(r);this.processor_=mx(d);const h=l.serverCache,p=l.eventCache,_=c.updateFullNode(ve.EMPTY_NODE,h.getNode(),null),y=d.updateFullNode(ve.EMPTY_NODE,p.getNode(),null),b=new hl(_,h.isFullyInitialized(),c.filtersNodes()),E=new hl(y,p.isFullyInitialized(),d.filtersNodes());this.viewCache_=xo(E,b),this.eventGenerator_=new WS(this.query_)}get query(){return this.query_}}function Ex(a){return a.viewCache_.serverCache.getNode()}function Cx(a,n){const l=ml(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!Oe(n)&&!l.getImmediateChild(Ae(n)).isEmpty())?l.getChild(n):null}function jg(a){return a.eventRegistrations_.length===0}function Tx(a,n){a.eventRegistrations_.push(n)}function zg(a,n,l){const r=[];if(l){F(n==null,"A cancel should cancel all event registrations.");const c=a.query._path;a.eventRegistrations_.forEach(d=>{const h=d.createCancelEvent(l,c);h&&r.push(h)})}if(n){let c=[];for(let d=0;d<a.eventRegistrations_.length;++d){const h=a.eventRegistrations_[d];if(!h.matches(n))c.push(h);else if(n.hasAnyCallback()){c=c.concat(a.eventRegistrations_.slice(d+1));break}}a.eventRegistrations_=c}else a.eventRegistrations_=[];return r}function Lg(a,n,l,r){n.type===zn.MERGE&&n.source.queryId!==null&&(F(ml(a.viewCache_),"We should always have a full cache before handling merges"),F(dd(a.viewCache_),"Missing event cache, even though we have a server cache"));const c=a.viewCache_,d=gx(a.processor_,c,n,l,r);return px(a.processor_,d.viewCache),F(d.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=d.viewCache,$y(a,d.changes,d.viewCache.eventCache.getNode(),null)}function wx(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(_t,(d,h)=>{r.push(ra(d,h))}),l.isFullyInitialized()&&r.push(qy(l.getNode())),$y(a,r,l.getNode(),n)}function $y(a,n,l,r){const c=r?[r]:a.eventRegistrations_;return PS(a.eventGenerator_,n,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class Ax{constructor(){this.views=new Map}}function Nx(a){F(!po,"__referenceConstructor has already been defined"),po=a}function Rx(){return F(po,"Reference.ts has not been loaded"),po}function Dx(a){return a.views.size===0}function qd(a,n,l,r){const c=n.source.queryId;if(c!==null){const d=a.views.get(c);return F(d!=null,"SyncTree gave us an op for an invalid query."),Lg(d,n,l,r)}else{let d=[];for(const h of a.views.values())d=d.concat(Lg(h,n,l,r));return d}}function Ox(a,n,l,r,c){const d=n._queryIdentifier,h=a.views.get(d);if(!h){let p=fo(l,c?r:null),_=!1;p?_=!0:r instanceof ve?(p=kd(l,r),_=!1):(p=ve.EMPTY_NODE,_=!1);const y=xo(new hl(p,_,!1),new hl(r,c,!1));return new xx(n,y)}return h}function Mx(a,n,l,r,c,d){const h=Ox(a,n,r,c,d);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),Tx(h,l),wx(h,l)}function jx(a,n,l,r){const c=n._queryIdentifier,d=[];let h=[];const p=Vi(a);if(c==="default")for(const[_,y]of a.views.entries())h=h.concat(zg(y,l,r)),jg(y)&&(a.views.delete(_),y.query._queryParams.loadsAllData()||d.push(y.query));else{const _=a.views.get(c);_&&(h=h.concat(zg(_,l,r)),jg(_)&&(a.views.delete(c),_.query._queryParams.loadsAllData()||d.push(_.query)))}return p&&!Vi(a)&&d.push(new(Rx())(n._repo,n._path)),{removed:d,events:h}}function Jy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function la(a,n){let l=null;for(const r of a.views.values())l=l||Cx(r,n);return l}function e0(a,n){if(n._queryParams.loadsAllData())return Eo(a);{const r=n._queryIdentifier;return a.views.get(r)}}function t0(a,n){return e0(a,n)!=null}function Vi(a){return Eo(a)!=null}function Eo(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;function zx(a){F(!go,"__referenceConstructor has already been defined"),go=a}function Lx(){return F(go,"Reference.ts has not been loaded"),go}let Ux=1;class Ug{constructor(n){this.listenProvider_=n,this.syncPointTree_=new ot(null),this.pendingWriteTree_=ux(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function n0(a,n,l,r,c){return JS(a.pendingWriteTree_,n,l,r,c),c?Us(a,new fl(Yy(),n,l)):[]}function ul(a,n,l=!1){const r=ex(a.pendingWriteTree_,n);if(tx(a.pendingWriteTree_,n)){let d=new ot(null);return r.snap!=null?d=d.set(Ye(),!0):ln(r.children,h=>{d=d.set(new et(h),!0)}),Us(a,new uo(r.path,d,l))}else return[]}function Co(a,n,l){return Us(a,new fl(Ld(),n,l))}function Bx(a,n,l){const r=ot.fromObject(l);return Us(a,new Rs(Ld(),n,r))}function kx(a,n){return Us(a,new Ns(Ld(),n))}function Ix(a,n,l){const r=Yd(a,l);if(r){const c=Gd(r),d=c.path,h=c.queryId,p=en(d,n),_=new Ns(Ud(h),p);return Qd(a,d,_)}else return[]}function gd(a,n,l,r,c=!1){const d=n._path,h=a.syncPointTree_.get(d);let p=[];if(h&&(n._queryIdentifier==="default"||t0(h,n))){const _=jx(h,n,l,r);Dx(h)&&(a.syncPointTree_=a.syncPointTree_.remove(d));const y=_.removed;if(p=_.events,!c){const b=y.findIndex(v=>v._queryParams.loadsAllData())!==-1,E=a.syncPointTree_.findOnPath(d,(v,q)=>Vi(q));if(b&&!E){const v=a.syncPointTree_.subtree(d);if(!v.isEmpty()){const q=Vx(v);for(let z=0;z<q.length;++z){const P=q[z],be=P.query,tt=a0(a,P);a.listenProvider_.startListening(bs(be),yo(a,be),tt.hashFn,tt.onComplete)}}}!E&&y.length>0&&!r&&(b?a.listenProvider_.stopListening(bs(n),null):y.forEach(v=>{const q=a.queryToTagMap.get(To(v));a.listenProvider_.stopListening(bs(v),q)}))}Yx(a,y)}return p}function Hx(a,n,l,r){const c=Yd(a,r);if(c!=null){const d=Gd(c),h=d.path,p=d.queryId,_=en(h,n),y=new fl(Ud(p),_,l);return Qd(a,h,y)}else return[]}function qx(a,n,l,r){const c=Yd(a,r);if(c){const d=Gd(c),h=d.path,p=d.queryId,_=en(h,n),y=ot.fromObject(l),b=new Rs(Ud(p),_,y);return Qd(a,h,b)}else return[]}function Bg(a,n,l,r=!1){const c=n._path;let d=null,h=!1;a.syncPointTree_.foreachOnPath(c,(v,q)=>{const z=en(v,c);d=d||la(q,z),h=h||Vi(q)});let p=a.syncPointTree_.get(c);p?(h=h||Vi(p),d=d||la(p,Ye())):(p=new Ax,a.syncPointTree_=a.syncPointTree_.set(c,p));let _;d!=null?_=!0:(_=!1,d=ve.EMPTY_NODE,a.syncPointTree_.subtree(c).foreachChild((q,z)=>{const P=la(z,Ye());P&&(d=d.updateImmediateChild(q,P))}));const y=t0(p,n);if(!y&&!n._queryParams.loadsAllData()){const v=To(n);F(!a.queryToTagMap.has(v),"View does not exist, but we have a tag");const q=Gx();a.queryToTagMap.set(v,q),a.tagToQueryMap.set(q,v)}const b=Bd(a.pendingWriteTree_,c);let E=Mx(p,n,l,b,d,_);if(!y&&!h&&!r){const v=e0(p,n);E=E.concat(Qx(a,n,v))}return E}function Vd(a,n,l){const c=a.pendingWriteTree_,d=a.syncPointTree_.findOnPath(n,(h,p)=>{const _=en(h,n),y=la(p,_);if(y)return y});return Fy(c,n,d,l,!0)}function Us(a,n){return i0(n,a.syncPointTree_,null,Bd(a.pendingWriteTree_,Ye()))}function i0(a,n,l,r){if(Oe(a.path))return l0(a,n,l,r);{const c=n.get(Ye());l==null&&c!=null&&(l=la(c,Ye()));let d=[];const h=Ae(a.path),p=a.operationForChild(h),_=n.children.get(h);if(_&&p){const y=l?l.getImmediateChild(h):null,b=Wy(r,h);d=d.concat(i0(p,_,y,b))}return c&&(d=d.concat(qd(c,a,r,l))),d}}function l0(a,n,l,r){const c=n.get(Ye());l==null&&c!=null&&(l=la(c,Ye()));let d=[];return n.children.inorderTraversal((h,p)=>{const _=l?l.getImmediateChild(h):null,y=Wy(r,h),b=a.operationForChild(h);b&&(d=d.concat(l0(b,p,_,y)))}),c&&(d=d.concat(qd(c,a,r,l))),d}function a0(a,n){const l=n.query,r=yo(a,l);return{hashFn:()=>(Ex(n)||ve.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return r?Ix(a,l._path,r):kx(a,l._path);{const d=Hb(c,l);return gd(a,l,null,d)}}}}function yo(a,n){const l=To(n);return a.queryToTagMap.get(l)}function To(a){return a._path.toString()+"$"+a._queryIdentifier}function Yd(a,n){return a.tagToQueryMap.get(n)}function Gd(a){const n=a.indexOf("$");return F(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new et(a.substr(0,n))}}function Qd(a,n,l){const r=a.syncPointTree_.get(n);F(r,"Missing sync point for query tag that we're tracking");const c=Bd(a.pendingWriteTree_,n);return qd(r,l,c,null)}function Vx(a){return a.fold((n,l,r)=>{if(l&&Vi(l))return[Eo(l)];{let c=[];return l&&(c=Jy(l)),ln(r,(d,h)=>{c=c.concat(h)}),c}})}function bs(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(Lx())(a._repo,a._path):a}function Yx(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const c=To(r),d=a.queryToTagMap.get(c);a.queryToTagMap.delete(c),a.tagToQueryMap.delete(d)}}}function Gx(){return Ux++}function Qx(a,n,l){const r=n._path,c=yo(a,n),d=a0(a,l),h=a.listenProvider_.startListening(bs(n),c,d.hashFn,d.onComplete),p=a.syncPointTree_.subtree(r);if(c)F(!Vi(p.value),"If we're adding a query, it shouldn't be shadowed");else{const _=p.fold((y,b,E)=>{if(!Oe(y)&&b&&Vi(b))return[Eo(b).query];{let v=[];return b&&(v=v.concat(Jy(b).map(q=>q.query))),ln(E,(q,z)=>{v=v.concat(z)}),v}});for(let y=0;y<_.length;++y){const b=_[y];a.listenProvider_.stopListening(bs(b),yo(a,b))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Xd(l)}node(){return this.node_}}class Fd{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Ot(this.path_,n);return new Fd(this.syncTree_,l)}node(){return Vd(this.syncTree_,this.path_)}}const Xx=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},kg=function(a,n,l){if(!a||typeof a!="object")return a;if(F(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Fx(a[".sv"],n,l);if(typeof a[".sv"]=="object")return Wx(a[".sv"],n);F(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Fx=function(a,n,l){switch(a){case"timestamp":return l.timestamp;default:F(!1,"Unexpected server value: "+a)}},Wx=function(a,n,l){a.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const c=n.node();if(F(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const h=c.getValue();return typeof h!="number"?r:h+r},Px=function(a,n,l,r){return Wd(n,new Fd(l,a),r)},s0=function(a,n,l){return Wd(a,new Xd(n),l)};function Wd(a,n,l){const r=a.getPriority().val(),c=kg(r,n.getImmediateChild(".priority"),l);let d;if(a.isLeafNode()){const h=a,p=kg(h.getValue(),n,l);return p!==h.getValue()||c!==h.getPriority().val()?new Bt(p,Qt(c)):a}else{const h=a;return d=h,c!==h.getPriority().val()&&(d=d.updatePriority(new Bt(c))),h.forEachChild(_t,(p,_)=>{const y=Wd(_,n.getImmediateChild(p),l);y!==_&&(d=d.updateImmediateChild(p,y))}),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Zd(a,n){let l=n instanceof et?n:new et(n),r=a,c=Ae(l);for(;c!==null;){const d=aa(r.node.children,c)||{children:{},childCount:0};r=new Pd(c,r,d),l=st(l),c=Ae(l)}return r}function fa(a){return a.node.value}function r0(a,n){a.node.value=n,yd(a)}function o0(a){return a.node.childCount>0}function Zx(a){return fa(a)===void 0&&!o0(a)}function wo(a,n){ln(a.node.children,(l,r)=>{n(new Pd(l,a,r))})}function c0(a,n,l,r){l&&n(a),wo(a,c=>{c0(c,n,!0)})}function Kx(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function Bs(a){return new et(a.parent===null?a.name:Bs(a.parent)+"/"+a.name)}function yd(a){a.parent!==null&&$x(a.parent,a.name,a)}function $x(a,n,l){const r=Zx(l),c=fi(a.node.children,n);r&&c?(delete a.node.children[n],a.node.childCount--,yd(a)):!r&&!c&&(a.node.children[n]=l.node,a.node.childCount++,yd(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=/[\[\].#$\/\u0000-\u001F\u007F]/,eE=/[\[\].#$\u0000-\u001F\u007F]/,$u=10*1024*1024,u0=function(a){return typeof a=="string"&&a.length!==0&&!Jx.test(a)},d0=function(a){return typeof a=="string"&&a.length!==0&&!eE.test(a)},tE=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),d0(a)},nE=function(a,n,l,r){Kd(Cd(a,"value"),n,l)},Kd=function(a,n,l){const r=l instanceof et?new vS(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+ol(r));if(typeof n=="function")throw new Error(a+"contains a function "+ol(r)+" with contents = "+n.toString());if(dy(n))throw new Error(a+"contains "+n.toString()+" "+ol(r));if(typeof n=="string"&&n.length>$u/3&&bo(n)>$u)throw new Error(a+"contains a string greater than "+$u+" utf8 bytes "+ol(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,d=!1;if(ln(n,(h,p)=>{if(h===".value")c=!0;else if(h!==".priority"&&h!==".sv"&&(d=!0,!u0(h)))throw new Error(a+" contains an invalid key ("+h+") "+ol(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bS(r,h),Kd(a,p,r),SS(r)}),c&&d)throw new Error(a+' contains ".value" child '+ol(r)+" in addition to actual children.")}},f0=function(a,n,l,r){if(!d0(l))throw new Error(Cd(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},iE=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),f0(a,n,l)},lE=function(a,n){if(Ae(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},aE=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!u0(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!tE(l))throw new Error(Cd(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $d(a,n){let l=null;for(let r=0;r<n.length;r++){const c=n[r],d=c.getPath();l!==null&&!Dd(d,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:d}),l.events.push(c)}l&&a.eventLists_.push(l)}function h0(a,n,l){$d(a,l),m0(a,r=>Dd(r,n))}function di(a,n,l){$d(a,l),m0(a,r=>jn(r,n)||jn(n,r))}function m0(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const c=a.eventLists_[r];if(c){const d=c.path;n(d)?(rE(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function rE(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();gs&&Wt("event: "+l.toString()),da(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="repo_interrupt",cE=25;class uE{constructor(n,l,r,c){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=co(),this.transactionQueueTree_=new Pd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dE(a,n,l){if(a.stats_=Nd(a.repoInfo_),a.forceRestClient_||Gb())a.server_=new oo(a.repoInfo_,(r,c,d,h)=>{Ig(a,r,c,d,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Hg(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{It(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new oi(a.repoInfo_,n,(r,c,d,h)=>{Ig(a,r,c,d,h)},r=>{Hg(a,r)},r=>{hE(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=Pb(a.repoInfo_,()=>new FS(a.stats_,a.server_)),a.infoData_=new VS,a.infoSyncTree_=new Ug({startListening:(r,c,d,h)=>{let p=[];const _=a.infoData_.getNode(r._path);return _.isEmpty()||(p=Co(a.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),ef(a,"connected",!1),a.serverSyncTree_=new Ug({startListening:(r,c,d,h)=>(a.server_.listen(r,d,c,(p,_)=>{const y=h(p,_);di(a.eventQueue_,r._path,y)}),[]),stopListening:(r,c)=>{a.server_.unlisten(r,c)}})}function fE(a){const l=a.infoData_.getNode(new et(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Jd(a){return Xx({timestamp:fE(a)})}function Ig(a,n,l,r,c){a.dataUpdateCount++;const d=new et(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(c)if(r){const _=to(l,y=>Qt(y));h=qx(a.serverSyncTree_,d,_,c)}else{const _=Qt(l);h=Hx(a.serverSyncTree_,d,_,c)}else if(r){const _=to(l,y=>Qt(y));h=Bx(a.serverSyncTree_,d,_)}else{const _=Qt(l);h=Co(a.serverSyncTree_,d,_)}let p=d;h.length>0&&(p=Ao(a,d)),di(a.eventQueue_,p,h)}function Hg(a,n){ef(a,"connected",n),n===!1&&pE(a)}function hE(a,n){ln(n,(l,r)=>{ef(a,l,r)})}function ef(a,n,l){const r=new et("/.info/"+n),c=Qt(l);a.infoData_.updateSnapshot(r,c);const d=Co(a.infoSyncTree_,r,c);di(a.eventQueue_,r,d)}function p0(a){return a.nextWriteId_++}function mE(a,n,l,r,c){tf(a,"set",{path:n.toString(),value:l,priority:r});const d=Jd(a),h=Qt(l,r),p=Vd(a.serverSyncTree_,n),_=s0(h,p,d),y=p0(a),b=n0(a.serverSyncTree_,n,_,y,!0);$d(a.eventQueue_,b),a.server_.put(n.toString(),h.val(!0),(v,q)=>{const z=v==="ok";z||nn("set at "+n+" failed: "+v);const P=ul(a.serverSyncTree_,y,!z);di(a.eventQueue_,n,P),_E(a,c,v,q)});const E=S0(a,n);Ao(a,E),di(a.eventQueue_,E,[])}function pE(a){tf(a,"onDisconnectEvents");const n=Jd(a),l=co();ud(a.onDisconnect_,Ye(),(c,d)=>{const h=Px(c,d,a.serverSyncTree_,n);Vy(l,c,h)});let r=[];ud(l,Ye(),(c,d)=>{r=r.concat(Co(a.serverSyncTree_,c,d));const h=S0(a,c);Ao(a,h)}),a.onDisconnect_=co(),di(a.eventQueue_,Ye(),r)}function gE(a,n,l){let r;Ae(n._path)===".info"?r=Bg(a.infoSyncTree_,n,l):r=Bg(a.serverSyncTree_,n,l),h0(a.eventQueue_,n._path,r)}function g0(a,n,l){let r;Ae(n._path)===".info"?r=gd(a.infoSyncTree_,n,l):r=gd(a.serverSyncTree_,n,l),h0(a.eventQueue_,n._path,r)}function yE(a){a.persistentConnection_&&a.persistentConnection_.interrupt(oE)}function tf(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),Wt(l,...n)}function _E(a,n,l,r){n&&da(()=>{if(l==="ok")n(null);else{const c=(l||"error").toUpperCase();let d=c;r&&(d+=": "+r);const h=new Error(d);h.code=c,n(h)}})}function y0(a,n,l){return Vd(a.serverSyncTree_,n,l)||ve.EMPTY_NODE}function nf(a,n=a.transactionQueueTree_){if(n||No(a,n),fa(n)){const l=v0(a,n);F(l.length>0,"Sending zero length transaction queue"),l.every(c=>c.status===0)&&vE(a,Bs(n),l)}else o0(n)&&wo(n,l=>{nf(a,l)})}function vE(a,n,l){const r=l.map(y=>y.currentWriteId),c=y0(a,n,r);let d=c;const h=c.hash();for(let y=0;y<l.length;y++){const b=l[y];F(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const E=en(n,b.path);d=d.updateChild(E,b.currentOutputSnapshotRaw)}const p=d.val(!0),_=n;a.server_.put(_.toString(),p,y=>{tf(a,"transaction put response",{path:_.toString(),status:y});let b=[];if(y==="ok"){const E=[];for(let v=0;v<l.length;v++)l[v].status=2,b=b.concat(ul(a.serverSyncTree_,l[v].currentWriteId)),l[v].onComplete&&E.push(()=>l[v].onComplete(null,!0,l[v].currentOutputSnapshotResolved)),l[v].unwatcher();No(a,Zd(a.transactionQueueTree_,n)),nf(a,a.transactionQueueTree_),di(a.eventQueue_,n,b);for(let v=0;v<E.length;v++)da(E[v])}else{if(y==="datastale")for(let E=0;E<l.length;E++)l[E].status===3?l[E].status=4:l[E].status=0;else{nn("transaction at "+_.toString()+" failed: "+y);for(let E=0;E<l.length;E++)l[E].status=4,l[E].abortReason=y}Ao(a,n)}},h)}function Ao(a,n){const l=_0(a,n),r=Bs(l),c=v0(a,l);return bE(a,c,r),r}function bE(a,n,l){if(n.length===0)return;const r=[];let c=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const _=n[p],y=en(l,_.path);let b=!1,E;if(F(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)b=!0,E=_.abortReason,c=c.concat(ul(a.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=cE)b=!0,E="maxretry",c=c.concat(ul(a.serverSyncTree_,_.currentWriteId,!0));else{const v=y0(a,_.path,h);_.currentInputSnapshot=v;const q=n[p].update(v.val());if(q!==void 0){Kd("transaction failed: Data returned ",q,_.path);let z=Qt(q);typeof q=="object"&&q!=null&&fi(q,".priority")||(z=z.updatePriority(v.getPriority()));const be=_.currentWriteId,tt=Jd(a),de=s0(z,v,tt);_.currentOutputSnapshotRaw=z,_.currentOutputSnapshotResolved=de,_.currentWriteId=p0(a),h.splice(h.indexOf(be),1),c=c.concat(n0(a.serverSyncTree_,_.path,de,_.currentWriteId,_.applyLocally)),c=c.concat(ul(a.serverSyncTree_,be,!0))}else b=!0,E="nodata",c=c.concat(ul(a.serverSyncTree_,_.currentWriteId,!0))}di(a.eventQueue_,l,c),c=[],b&&(n[p].status=2,(function(v){setTimeout(v,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(E==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(E),!1,null))))}No(a,a.transactionQueueTree_);for(let p=0;p<r.length;p++)da(r[p]);nf(a,a.transactionQueueTree_)}function _0(a,n){let l,r=a.transactionQueueTree_;for(l=Ae(n);l!==null&&fa(r)===void 0;)r=Zd(r,l),n=st(n),l=Ae(n);return r}function v0(a,n){const l=[];return b0(a,n,l),l.sort((r,c)=>r.order-c.order),l}function b0(a,n,l){const r=fa(n);if(r)for(let c=0;c<r.length;c++)l.push(r[c]);wo(n,c=>{b0(a,c,l)})}function No(a,n){const l=fa(n);if(l){let r=0;for(let c=0;c<l.length;c++)l[c].status!==2&&(l[r]=l[c],r++);l.length=r,r0(n,l.length>0?l:void 0)}wo(n,r=>{No(a,r)})}function S0(a,n){const l=Bs(_0(a,n)),r=Zd(a.transactionQueueTree_,n);return Kx(r,c=>{Ju(a,c)}),Ju(a,r),c0(r,c=>{Ju(a,c)}),l}function Ju(a,n){const l=fa(n);if(l){const r=[];let c=[],d=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(F(d===h-1,"All SENT items should be at beginning of queue."),d=h,l[h].status=3,l[h].abortReason="set"):(F(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),c=c.concat(ul(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));d===-1?r0(n,void 0):l.length=d+1,di(a.eventQueue_,Bs(n),c);for(let h=0;h<r.length;h++)da(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let c=l[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function xE(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nn(`Invalid query segment '${l}' in query '${a}'`)}return n}const qg=function(a,n){const l=EE(a),r=l.namespace;l.domain==="firebase.com"&&ui(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&ui("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||Lb();const c=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Ey(l.host,l.secure,r,c,n,"",r!==l.subdomain),path:new et(l.pathString)}},EE=function(a){let n="",l="",r="",c="",d="",h=!0,p="https",_=443;if(typeof a=="string"){let y=a.indexOf("//");y>=0&&(p=a.substring(0,y-1),a=a.substring(y+2));let b=a.indexOf("/");b===-1&&(b=a.length);let E=a.indexOf("?");E===-1&&(E=a.length),n=a.substring(0,Math.min(b,E)),b<E&&(c=SE(a.substring(b,E)));const v=xE(a.substring(Math.min(a.length,E)));y=n.indexOf(":"),y>=0?(h=p==="https"||p==="wss",_=parseInt(n.substring(y+1),10)):y=n.length;const q=n.slice(0,y);if(q.toLowerCase()==="localhost")l="localhost";else if(q.split(".").length<=2)l=q;else{const z=n.indexOf(".");r=n.substring(0,z).toLowerCase(),l=n.substring(z+1),d=r}"ns"in v&&(d=v.ns)}return{host:n,port:_,domain:l,subdomain:r,secure:h,scheme:p,pathString:c,namespace:d}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(n,l,r,c){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+It(this.snapshot.exportVal())}}class TE{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(n,l,r,c){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=c}get key(){return Oe(this._path)?null:My(this._path)}get ref(){return new Yi(this._repo,this._path)}get _queryIdentifier(){const n=Tg(this._queryParams),l=wd(n);return l==="{}"?"default":l}get _queryObject(){return Tg(this._queryParams)}isEqual(n){if(n=Ms(n),!(n instanceof lf))return!1;const l=this._repo===n._repo,r=Dd(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return l&&r&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+_S(this._path)}}class Yi extends lf{constructor(n,l){super(n,l,new zd,!1)}get parent(){const n=zy(this._path);return n===null?null:new Yi(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class _o{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new et(n),r=_d(this.ref,n);return new _o(this._node.getChild(l),r,_t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,c)=>n(new _o(c,_d(this.ref,r),_t)))}hasChild(n){const l=new et(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function x0(a,n){return a=Ms(a),a._checkNotDeleted("ref"),n!==void 0?_d(a._root,n):a._root}function _d(a,n){return a=Ms(a),Ae(a._path)===null?iE("child","path",n):f0("child","path",n),new Yi(a._repo,Ot(a._path,n))}function AE(a,n){a=Ms(a),lE("set",a._path),nE("set",n,a._path);const l=new vo;return mE(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}class af{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new CE("value",this,new _o(n.snapshotNode,new Yi(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new TE(this,n,l):null}matches(n){return n instanceof af?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function NE(a,n,l,r,c){const d=new wE(l,void 0),h=new af(d);return gE(a._repo,a,h),()=>g0(a._repo,a,h)}function RE(a,n,l,r){return NE(a,"value",n)}function DE(a,n,l){g0(a._repo,a,null)}Nx(Yi);zx(Yi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="FIREBASE_DATABASE_EMULATOR_HOST",vd={};let ME=!1;function jE(a,n,l,r){const c=n.lastIndexOf(":"),d=n.substring(0,c),h=Ed(d);a.repoInfo_=new Ey(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function zE(a,n,l,r,c){let d=r||a.options.databaseURL;d===void 0&&(a.options.projectId||ui("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wt("Using default host for project ",a.options.projectId),d=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=qg(d,c),p=h.repoInfo,_;typeof process<"u"&&rg&&(_=rg[OE]),_?(d=`http://${_}?ns=${p.namespace}`,h=qg(d,c),p=h.repoInfo):h.repoInfo.secure;const y=new Xb(a.name,a.options,n);aE("Invalid Firebase Database URL",h),Oe(h.path)||ui("Database URL must point to the root of a Firebase Database (not including a child path).");const b=UE(p,a,y,new Qb(a,l));return new BE(b,a)}function LE(a,n){const l=vd[n];(!l||l[a.key]!==a)&&ui(`Database ${n}(${a.repoInfo_}) has already been deleted.`),yE(a),delete l[a.key]}function UE(a,n,l,r){let c=vd[n.name];c||(c={},vd[n.name]=c);let d=c[a.toURLString()];return d&&ui("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new uE(a,ME,l,r),c[a.toURLString()]=d,d}class BE{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yi(this._repo,Ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&ui("Cannot call "+n+" on a deleted database.")}}function kE(a=gb(),n){const l=db(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=Zv("database");r&&IE(l,...r)}return l}function IE(a,n,l,r={}){a=Ms(a),a._checkNotDeleted("useEmulator");const c=`${n}:${l}`,d=a._repoInternal;if(a._instanceStarted){if(c===a._repoInternal.repoInfo_.host&&no(r,d.repoInfo_.emulatorOptions))return;ui("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(d.repoInfo_.nodeAdmin)r.mockUserToken&&ui('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Jr(Jr.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:$v(r.mockUserToken,a.app.options.projectId);h=new Jr(p)}Ed(n)&&(Kv(n),t1("Database",!0)),jE(d,c,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(a){Rb(pb),lo(new xs("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),d=n.getProvider("app-check-internal");return zE(r,c,d,l)},"PUBLIC").setMultipleInstances(!0)),ta(og,cg,a),ta(og,cg,"esm2020")}oi.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};oi.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};HE();const Vg={apiKey:"AIzaSyDOsVtsR-8SN3pYZwfVkbLnKb6t1P_yQTk",authDomain:"cclauctions.firebaseapp.com",databaseURL:"https://cclauctions-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"cclauctions",storageBucket:"cclauctions.firebasestorage.app",messagingSenderId:"743003530250",appId:"1:743003530250:web:f7b0c13837204d3233abf3"};let Yg,Ds;try{Yg=ay(Vg),Ds=kE(Yg),console.log(" Firebase initialized successfully"),console.log("Database URL:",Vg.databaseURL)}catch(a){console.error(" Firebase initialization error:",a),alert("Firebase connection failed. Cross-device sync will not work. Check console for details.")}function qE(){const a="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="";for(let l=0;l<6;l++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}function VE(a){const n=new URL(window.location.href);n.searchParams.set("auction",a),window.history.replaceState({},"",n.toString())}function bd(a){if(typeof a!="object"||a===null)return a;const n={...a};return Array.isArray(n.soldPlayers)&&(n.soldPlayers=n.soldPlayers.map(l=>{if(typeof l=="object"&&l!==null){const r={...l};return delete r.photo,r}return l})),Array.isArray(n.players)&&(n.players=n.players.map(l=>{if(typeof l=="object"&&l!==null){const r={...l};return delete r.photo,r}return l})),n}function Gg(a,n){const l=`auction_${a}`,r={...typeof n=="object"&&n!==null?n:{},timestamp:Date.now()};try{const c=bd(r);localStorage.setItem(l,JSON.stringify(c))}catch(c){console.warn(" localStorage quota exceeded, relying on Firebase:",c);try{Object.keys(localStorage).forEach(p=>{p.startsWith("auction_")&&p!==l&&localStorage.removeItem(p)});const h=bd(r);localStorage.setItem(l,JSON.stringify(h))}catch{console.warn(" Could not save to localStorage even after cleanup")}}}async function YE(a,n){if(!Ds){console.warn(" Firebase not initialized, cannot save online");try{Gg(a,n)}catch(l){console.error("Failed to save to localStorage:",l)}return}try{const l=x0(Ds,`auctions/${a}`),c=bd(typeof n=="object"&&n!==null?n:{});await AE(l,{...typeof c=="object"&&c!==null?c:{},lastUpdated:Date.now()}),console.log(" Auction state saved to Firebase:",a);try{Gg(a,n)}catch{console.warn(" localStorage backup failed (quota exceeded), using Firebase only")}}catch(l){console.error(" Failed to save auction state to Firebase:",l),(String(l).includes("permission")||String(l).includes("network"))&&alert("Warning: Could not sync to Firebase. Check your internet connection or database permissions.")}}function GE(a,n){if(!Ds)return console.warn("Firebase not initialized, real-time updates unavailable"),()=>{};const l=x0(Ds,`auctions/${a}`);return RE(l,r=>{const c=r.val();c&&n(c)}),()=>DE(l)}function ed(a){return Math.round(a/100)*100}function On(a){return a>=1e3?`${(a/1e3).toFixed(2)} Cr`:`${(a/10).toFixed(1)} L`}function Bi(a){return a>=1e3?`${(a/1e3).toFixed(2)} Cr`:`${(a/10).toFixed(1)} L`}function QE({players:a=[],teams:n=[],defaultBalance:l=0,resumeData:r,auctionId:c,minPlayersPerTeam:d=6,maxPlayersPerTeam:h=12,blueCapPercent:p=65}){console.log("AuctionScreen mounted with players:",a?.length,"teams:",n?.length,"auctionId:",c),console.log("Players data:",a),console.log("Teams data:",n);const _=T=>(console.log("randomizeArray called with:",T?.length,"items"),!T||T.length===0?[]:[...T].sort(()=>Math.random()-.5)),y=T=>{if(console.log("sortPlayersByAuctionOrder called with:",T?.length,"items"),!T||T.length===0)return T||[];try{const D=_(T.filter(X=>X.owner==="yes"&&(X.category||"").toLowerCase()==="red"));console.log("redOwners:",D.length);const H=_(T.filter(X=>X.owner==="yes"&&(X.category||"").toLowerCase()==="blue"));console.log("blueOwners:",H.length);const K=_(T.filter(X=>X.owner!=="yes"&&(X.category||"").toLowerCase()==="blue"));console.log("bluePlayers:",K.length);const ne=_(T.filter(X=>X.owner!=="yes"&&(X.category||"").toLowerCase()==="red"));console.log("redPlayers:",ne.length);const ee=[...D,...H,...K,...ne];return console.log("sortPlayersByAuctionOrder result:",ee.length),ee}catch(D){throw console.error("Error in sortPlayersByAuctionOrder:",D),D}},[b,E]=oe.useState(r?.playerIdx||0),[v,q]=oe.useState(r?.round||1),[z,P]=oe.useState(r?.log||[]),[be,tt]=oe.useState([]);console.log("Initializing orderedPlayers...");const[de,Ie]=oe.useState(()=>{try{if(r?.sequence&&r.sequence.length>0){const D={};return a.forEach(H=>{D[H.name]=H}),r.sequence.map(H=>D[H]).filter(Boolean)}const T=a&&a.length>0?y(a):a;return console.log("orderedPlayers initialized with:",T?.length,"players"),T}catch(T){return console.error("ERROR in orderedPlayers initialization:",T),[]}});console.log("orderedPlayers state set to:",de?.length);const[ge,pe]=oe.useState(()=>{const T=D=>D>5e4?Math.round(D/1e4):D;return r?.balances?n.map(D=>({...D,balance:r.balances[D.name]?.balance??T(D.balance&&D.balance>0?D.balance:l),acquired:r.balances[D.name]?.acquired??0})):n.map(D=>({...D,balance:T(D.balance&&D.balance>0?D.balance:l),acquired:0}))}),[nt,mt]=oe.useState(""),[Me,vt]=oe.useState(0),[an,ft]=oe.useState(""),[$e,k]=oe.useState(!1),[J,le]=oe.useState([]),[j,Y]=oe.useState(null),[Z,ce]=oe.useState(""),[x,U]=oe.useState(0),[W,V]=oe.useState(!1),[G,ue]=oe.useState(!1),[A,$]=oe.useState([]),[ae,ye]=oe.useState(!1),[xe,Se]=oe.useState(""),[se,te]=oe.useState(0),[Ee,He]=oe.useState(new Set),ct=T=>{He(D=>{const H=new Set(D);return H.has(T)?H.delete(T):H.add(T),H})},Q=T=>z.filter(D=>D.team===T&&D.status==="Sold").map(D=>({name:D.playerName,amount:D.amount,category:D.category||"Unknown"})),je=()=>{const T=new Set(z.filter(D=>D.status==="Sold").map(D=>D.playerName));return de.filter(D=>!T.has(D.name))},Mt=()=>ge.every(T=>(T.acquired||0)>=d),fe=()=>ge.filter(T=>{const D=T.acquired||0;return D>=d&&D<h}),Ge=()=>{if(!j||!Z){alert("Please select a team");return}const T={playerName:j.name,teamName:Z,amount:x};le([...J,T]);const D=je(),H=D.findIndex(K=>K.name===j.name);H<D.length-1?(Y(D[H+1]),ce(""),U(0)):Y(null)},bt=()=>{if(J.length===0){alert("No assignments made");return}const T=[...z],D=ge.map(H=>({...H}));J.forEach(H=>{const K=de.find(X=>X.name===H.playerName);if(!K)return;const ne={round:v,attempt:T.filter(X=>X.playerName===H.playerName).length+1,timestamp:new Date().toLocaleString(),playerName:H.playerName,team:H.teamName,amount:H.amount,status:"Sold",category:K.category||""};T.push(ne);const ee=D.findIndex(X=>X.name===H.teamName);ee>=0&&(D[ee].acquired=(D[ee].acquired||0)+1,D[ee].balance-=H.amount)}),P(T),pe(D),k(!1),le([]),Y(null),V(!0)},ut=T=>{le(J.filter((D,H)=>H!==T))},it=oe.useRef(null),St=oe.useRef(!!r);oe.useEffect(()=>{const T=de[b];if(!T)return;const D=(T.category||"").toLowerCase()==="blue";if(v===1&&D&&gn()&&!be.includes(T.name)){console.log(`Auto-skipping blue player: ${T.name} (all teams at blue cap in Round 1)`),tt(ne=>[...ne,T.name]);const K=sn(b+1);K===-1?(console.log("All players in Round 1 processed. Moving to Round 2 (blue cap reset)"),q(v+1),E(0)):E(K)}},[b,v,de,be,z,ge]);const xt=new Set(z.filter(T=>T.status==="Sold").map(T=>T.playerName)),Xe=oe.useCallback(T=>z.filter(D=>{if(D.status!=="Sold"||D.team!==T)return!1;const H=(D.category||"").toLowerCase();if(H)return H==="blue";const K=a.find(ne=>ne.name===D.playerName);return K&&(K.category||"").toLowerCase()==="blue"}).reduce((D,H)=>D+(typeof H.amount=="number"?H.amount:0),0),[z,a]),Tt=T=>n.find(H=>H.name===T)?.balance||1e4,rt=T=>{if(v>=2){const ne=ge.find(ee=>ee.name===T);return ne?ne.balance:0}const H=Tt(T)*p/100,K=Xe(T);return Math.max(0,H-K)},sn=T=>{for(let D=T;D<de.length;D++)if(!xt.has(de[D]?.name))return D;return-1},gn=()=>ge.every(T=>{const H=Tt(T.name)*p/100,K=Xe(T.name);return Math.max(0,H-K)<10}),Qe=de[b],Un=Qe&&(Qe.category||"").toLowerCase()==="blue",gl=()=>!Qe||v!==1||!Un?!1:gn(),yn=Qe?xt.has(Qe.name):!1,hi=z.some(T=>T.playerName===Qe?.name&&T.round===v);oe.useEffect(()=>{if(de.length===0)return;const T=ge.map(H=>{const K=H.acquired||0,ne=H.balance,ee=Math.max(0,d-K),X=ee<=1?0:(ee-1)*100,ze=Math.max(0,ne-X),Le=K===0||ee<=1?0:(ee-1)*100,pt=K>0&&ne<Le&&ee>1,jt=z.filter(rn=>rn.team===H.name&&rn.status==="Sold").reduce((rn,Gi)=>rn+(typeof Gi.amount=="number"?Gi.amount:0),0),Ue=jt+ne,Be=Math.floor(p/100*Ue),qt=Xe(H.name),An=Math.max(0,Be-qt);return{name:H.name,logo:H.logo,acquired:K,needed:ee,totalSpent:jt,balance:ne,blueLeft:An,blueBudget:Be,blueSpent:qt,maxBidUnits:ze,minNeeded:X,isAtRisk:pt,isFull:K>=h,isComplete:K>=d}}),D={currentPlayer:de[b]||null,soldPlayers:z.filter(H=>H.status==="Sold"),teams:ge,round:v,auctionComplete:W,auctionLog:z,teamBalances:ge,teamRosterData:T,minPlayersPerTeam:d,maxPlayersPerTeam:h,isSold:ae,soldToTeam:xe,soldAmount:se,blueCapPercent:p,players:de};YE(c,D);try{localStorage.setItem(`auction_${c}`,JSON.stringify(D))}catch(H){if(H instanceof Error&&H.name==="QuotaExceededError"){console.warn(" localStorage quota exceeded, relying on Firebase only");const K=Object.keys(localStorage);for(const ne of K)ne.startsWith("auction_")&&ne!==`auction_${c}`&&localStorage.removeItem(ne);try{localStorage.setItem(`auction_${c}`,JSON.stringify(D))}catch{console.error(" Could not save to localStorage even after cleanup, relying on Firebase")}}else throw H}},[b,z,ge,v,W,c,de,ae,xe,se,p,Xe,d,h]),oe.useEffect(()=>{if(console.log("useEffect check: resumedRef.current=",St.current,"orderedPlayers.length=",de.length,"audienceWindowRef.current=",it.current),!St.current&&de.length>0&&!it.current){console.log("Opening audience view window...");const T=setTimeout(()=>{const H=`${window.location.origin+window.location.pathname}?audienceView=true&auction=${c}`;console.log("Audience URL:",H);const K=window.open(H,"_blank");K?(console.log("Window opened successfully"),it.current=K):console.log("Window open blocked or failed")},500);return()=>clearTimeout(T)}},[de.length,c]);const mi=()=>{if(!nt)return{valid:!1,error:"Please select a team"};if(Me===0)return{valid:!1,error:"Bid must be at least 100 units (10L)"};if(Me<100)return{valid:!1,error:"Bid must be at least 100 units (10L)"};if(Me%100!==0)return{valid:!1,error:`Bid must be multiple of 100 units (10L). Snap to ${ed(Me)}?`};const T=ge.find(X=>X.name===nt);if(!T)return{valid:!1,error:"Invalid team"};const D=T.acquired||0,H=Math.max(0,d-D),K=H<=1?0:(H-1)*100,ee=Math.max(0,T.balance-K);if(Me>ee){const X=Me-ee;return{valid:!1,error:`Bid exceeds maximum allowed (${On(ee)}). Reduce by ${On(X)}`}}if(Un){const X=rt(nt);if(Me>X)return{valid:!1,error:` Blue cap exceeded! Max blue bid: ${On(X)} (${p}% rule)`}}return{valid:!0,error:""}},Ro=T=>{mt(T),ft("")},ks=T=>{const D=parseInt(T)||0;vt(D),ft("")},yl=T=>{vt(D=>D+T),ft("")},ha=()=>{const T=ed(Me);vt(T),ft("")},Yn=T=>{try{const D=[];D.push(`__STATE__,round,${v}`),D.push(`__STATE__,playerIdx,${b}`),D.push(`__STATE__,sequence,${de.map(ze=>ze.name).join("|")}`);const H=ge.map(ze=>`${ze.name}=${ze.balance}:${ze.acquired||0}`).join("|");D.push(`__STATE__,balances,${H}`),D.push("Sequence,Round,Attempt,Timestamp,Player,Category,Team,Bid Amount,Status"),T.forEach((ze,Le)=>{const pt=Ue=>{if(Ue==null)return"";let Be=String(Ue).replace(/\r\n|\r|\n/g,`
`);return/[",\n]/.test(Be)&&(Be='"'+Be.replace(/"/g,'""')+'"'),Be},jt=Le+1;D.push(`${jt},${pt(ze.round)},${pt(ze.attempt)},${pt(ze.timestamp)},${pt(ze.playerName)},${pt(ze.category||"")},${pt(ze.team)},${pt(ze.amount)},${pt(ze.status)}`)});const K="\uFEFF"+D.join(`
`),ne=new Blob([K],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a");ee.href=URL.createObjectURL(ne);const X=new Date().toISOString().slice(0,10);ee.download=`auction-log-${c}-${X}.csv`,document.body.appendChild(ee),ee.click(),setTimeout(()=>{document.body.removeChild(ee)},0)}catch(D){console.error("Error downloading bid log:",D)}},Do=async()=>{ye(!0);const T=mi();if(!T.valid){ft(T.error);return}Se(nt),te(Me);const D={round:v,attempt:z.filter(ne=>ne.playerName===Qe.name).length+1,timestamp:new Date().toLocaleString(),playerName:Qe.name,team:nt,amount:Me,status:"Sold",category:Qe.category||""},H=[...z,D];P(H);const K=Me;pe(ge.map(ne=>ne.name===nt?{...ne,balance:ne.balance-K,acquired:(ne.acquired||0)+1}:ne)),mt(""),vt(0),ft(""),Yn(H),ga(b+1,H)},Is=async()=>{ye(!1),Se(""),te(0);const T={round:v,attempt:z.filter(H=>H.playerName===Qe.name).length+1,timestamp:new Date().toLocaleString(),playerName:Qe.name,team:"",amount:"",status:"Unsold",category:Qe.category||""},D=[...z,T];P(D),mt(""),vt(0),ft(""),Yn(D),ga(b+1,D)},Hs=()=>{ye(!1),Se(""),te(0);const T=sn(b+1);T!==-1?(E(T),mt(""),vt(0),ft("")):z.filter(H=>H.round===v&&H.status==="Unsold").length>0?alert('No more players in queue. Click "Next Round" to continue with unsold players.'):V(!0)},ma=()=>{if(ye(!1),Se(""),te(0),z.length===0)return;const T=z[z.length-1],D=z.slice(0,-1);if(P(D),T.status==="Sold"&&T.team&&typeof T.amount=="number"){const ne=T.amount;pe(ge.map(ee=>ee.name===T.team?{...ee,balance:ee.balance+ne,acquired:Math.max(0,(ee.acquired||0)-1)}:ee))}const H=T.playerName;if(!D.some(ne=>ne.playerName===H&&ne.round===T.round)){const ne=de.findIndex(ee=>ee.name===H);ne!==-1&&ne<b&&E(ne)}},pa=()=>{const T=de.filter(ee=>xt.has(ee.name)?!1:!z.some(ze=>ze.playerName===ee.name&&ze.round===v));if(T.length>0){alert(`${T.length} players still need decisions in round ${v}`);return}const D=z.filter(ee=>ee.round===v&&ee.status==="Unsold").map(ee=>ee.playerName);if(D.length===0){alert("All players sold! Auction complete."),V(!0);return}const H=de.filter(ee=>D.includes(ee.name)),K=de.filter(ee=>xt.has(ee.name)),ne=de.filter(ee=>!D.includes(ee.name)&&!xt.has(ee.name));ye(!1),Se(""),te(0),Ie([...H,...ne,...K]),E(0),q(v+1)},ga=(T,D)=>{T>=de.length&&D.filter(K=>K.round===v&&K.status==="Unsold").length===0&&V(!0)},qs=()=>{const T=["Round","Attempt","Timestamp","Player","Category","Team","Bid Units","Bid Amount","Status","Notes"],D=z.map(X=>[X.round,X.attempt,X.timestamp,X.playerName,X.category||"",X.team||"-",typeof X.amount=="number"?X.amount:"-",typeof X.amount=="number"?On(X.amount):"-",X.status,X.notes||""]),H=[T,...D].map(X=>X.join(",")).join(`
`),K=new Blob([H],{type:"text/csv"}),ne=URL.createObjectURL(K),ee=document.createElement("a");ee.href=ne,ee.download=`auction-log-${new Date().toISOString()}.csv`,ee.click()},Bn=()=>{const T=Ue=>{const Be=String(Ue);return Be.includes(",")||Be.includes('"')||Be.includes(`
`)?`"${Be.replace(/"/g,'""')}"`:Be},D=[],H=ge.map(Ue=>Ue.name);D.push(H.map(T).join(",")+","+H.map(T).join(","));const K=[];ge.forEach(()=>{K.push("Player","Amount")}),D.push(K.map(T).join(","));const ne=ge.map(Ue=>z.filter(Be=>Be.team===Ue.name&&Be.status==="Sold").sort((Be,qt)=>typeof qt.amount=="number"&&typeof Be.amount=="number"?qt.amount-Be.amount:0)),ee=Math.max(...ne.map(Ue=>Ue.length),0);for(let Ue=0;Ue<ee;Ue++){const Be=[];ne.forEach(qt=>{Ue<qt.length?(Be.push(qt[Ue].playerName),Be.push(typeof qt[Ue].amount=="number"?On(qt[Ue].amount):"")):Be.push("","")}),D.push(Be.map(T).join(","))}D.push(ge.map(()=>",").join("").slice(0,-1));const X=[];ge.forEach(Ue=>{const qt=z.filter(An=>An.team===Ue.name&&An.status==="Sold").reduce((An,rn)=>An+(typeof rn.amount=="number"?rn.amount:0),0);X.push("Total Spent",Bi(qt))}),D.push(X.map(T).join(","));const ze=[];ge.forEach(Ue=>{ze.push("Remaining Balance",Bi(Ue.balance))}),D.push(ze.map(T).join(","));const Le="\uFEFF"+D.join(`
`),pt=new Blob([Le],{type:"text/csv;charset=utf-8;"}),jt=document.createElement("a");jt.href=URL.createObjectURL(pt),jt.download=`team-rosters-${new Date().toISOString().replace(/[:.]/g,"-")}.csv`,jt.click()};if(!a||a.length===0||!de||de.length===0)return f.jsxs("div",{style:{padding:"2rem",color:"red",fontSize:"1.5rem"},children:[f.jsx("h1",{children:" No Players Loaded"}),f.jsx("p",{children:"Error: Players array is empty!"}),f.jsx("p",{children:"Please go back and re-upload your data files."}),f.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Page"})]});const Nt=nt&&Me>0&&mi().valid&&!hi&&!yn,Ht=!hi&&!yn,Gn=z.length>0,_l=(hi||yn)&&b<de.length-1,Vs=de.filter(T=>!xt.has(T.name)).every(T=>z.some(D=>D.playerName===T.name&&D.round===v));return Qe?f.jsxs("div",{className:"auction-container",children:[W&&f.jsx("div",{className:"completion-overlay",onClick:()=>V(!1),children:f.jsxs("div",{className:"completion-content",onClick:T=>T.stopPropagation(),children:[f.jsx("h1",{children:" Auction Complete! "}),f.jsx("p",{children:"All players have been successfully auctioned"}),f.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[f.jsx("button",{className:"btn-primary",onClick:Bn,children:" Download Team Rosters"}),f.jsx("button",{className:"btn-secondary",onClick:qs,children:" Download Auction Log"})]})]})}),f.jsxs("div",{className:"content-shell",children:[f.jsxs("div",{className:"header-bar",children:[f.jsx("h1",{children:"CCL Auction 2026"}),f.jsxs("div",{className:"header-info",children:[f.jsxs("span",{className:"round-badge",children:["Round ",v,v>=2&&f.jsx("span",{style:{fontSize:"0.75em",marginLeft:"0.25rem"},children:"( Blue Cap Off)"})]}),f.jsxs("span",{className:"player-progress",children:["Player ",b+1," / ",de.length]}),f.jsx("a",{href:`${window.location.origin}${window.location.pathname}?audienceView=true&auction=${c}`,target:"_blank",rel:"noopener noreferrer",className:"audience-view-link",title:"Open Audience View in new window",children:" Audience View"})]})]}),de.length===0?f.jsx("div",{className:"loading-state",style:{padding:"2rem",textAlign:"center"},children:f.jsx("p",{children:"No players loaded. Please go back and import players first."})}):Qe?f.jsxs("div",{className:"auction-grid",children:[f.jsxs("div",{className:"player-image-card card",children:[f.jsxs("div",{className:"photo-container",children:[Qe.photo?f.jsx("img",{src:Qe.photo,alt:Qe.name,className:"player-photo"}):f.jsx("div",{className:"player-photo-placeholder",children:f.jsx("span",{children:"No Photo Available"})}),ae&&f.jsx("div",{className:"sold-overlay",children:f.jsx("span",{className:"sold-text",children:"SOLD"})}),yn&&!ae&&f.jsxs("div",{className:"frozen-overlay",children:[f.jsx("span",{className:"frozen-text",children:"FROZEN"}),f.jsx("span",{className:"frozen-subtext",children:"Already Sold"})]})]}),f.jsxs("div",{className:"player-stats",children:[f.jsxs("div",{className:"stat-item",children:[f.jsx("span",{className:"stat-label",children:"Age"}),f.jsx("span",{className:"stat-value",children:Qe.age})]}),f.jsxs("div",{className:"stat-item",children:[f.jsx("span",{className:"stat-label",children:"Role"}),f.jsx("span",{className:"stat-value",children:Qe.role||Qe.specialization})]}),f.jsxs("div",{className:"stat-item",children:[f.jsx("span",{className:"stat-label",children:"Availability"}),f.jsx("span",{className:"stat-value",children:Qe.availability||"Full"})]}),f.jsxs("div",{className:"stat-item",children:[f.jsx("span",{className:"stat-label",children:"Flat"}),f.jsx("span",{className:"stat-value",children:Qe.flat})]})]})]}),f.jsxs("div",{className:"player-info-card card",children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[f.jsx("h2",{className:"player-name",style:{margin:0},children:Qe.name}),gl()&&f.jsx("span",{style:{padding:"0.4rem 0.8rem",borderRadius:"0.5rem",background:"rgba(255, 152, 0, 0.3)",border:"1px solid rgba(255, 152, 0, 0.8)",fontSize:"0.85rem",fontWeight:700,color:"#ff9800",whiteSpace:"nowrap"},children:" AUTO-SKIP (Round 2)"}),Qe.owner==="yes"&&f.jsx("span",{style:{padding:"0.4rem 0.8rem",borderRadius:"0.5rem",background:"rgba(255, 193, 7, 0.3)",border:"1px solid rgba(255, 193, 7, 0.8)",fontSize:"0.85rem",fontWeight:700,color:"#ffc107",whiteSpace:"nowrap"},children:" OWNER"})]}),f.jsxs("div",{className:"player-meta",children:[Qe.owner!=="yes"&&f.jsx("span",{className:"category-badge",children:Qe.category}),f.jsx("span",{className:"specialization",children:Qe.specialization})]}),f.jsx("div",{className:"player-description",children:f.jsx("p",{children:Qe.description||"No description available."})})]}),f.jsxs("div",{className:"control-pane card",children:[f.jsx("h3",{children:"Bidding Controls"}),f.jsxs("div",{className:"team-selection",children:[f.jsxs("label",{children:["Select Team ",Un&&f.jsx("span",{style:{color:"#1976d2",fontSize:"0.85em"},children:"( Blue Cap Active)"})]}),f.jsx("div",{className:"team-grid",children:ge.map(T=>{const D=T.acquired||0,H=Math.max(0,d-D),K=H<=1?0:(H-1)*100,ee=Math.max(0,T.balance-K)>=10,X=rt(T.name),ze=!Un||X>=10,Le=D>=h,pt=ee&&ze&&!Le,jt=Le?"maxplayers":ee?ze?"":"bluecap":"balance";return f.jsxs("button",{className:`team-btn ${nt===T.name?"selected":""} ${pt?"":"disabled"} ${jt==="bluecap"?"bluecap-disabled":""} ${jt==="maxplayers"?"maxplayers-disabled":""}`,onClick:()=>Ro(T.name),disabled:!pt,"aria-label":`Select ${T.name}`,title:jt==="bluecap"?`Blue cap reached: ${Bi(X)} remaining`:jt==="maxplayers"?`Team full: ${D}/${h} players`:"",children:[T.logo&&f.jsx("img",{src:T.logo,alt:T.name,className:"team-logo-small"}),f.jsx("span",{className:"team-full-name",children:T.name}),Un&&pt&&f.jsxs("span",{style:{fontSize:"0.7em",color:"#1976d2",marginLeft:"auto"},children:["",Bi(X)]})]},T.name)})})]}),f.jsxs("div",{className:"bid-input-section",children:[f.jsx("label",{htmlFor:"bid-input",children:"Bid Amount (Units)"}),f.jsx("input",{id:"bid-input",type:"number",value:Me,onChange:T=>ks(T.target.value),className:"bid-input",placeholder:"0",min:"0",step:"100"}),f.jsx("div",{className:"bid-display",children:Me>0?On(Me):"0"}),Me%100!==0&&Me>0&&f.jsxs("button",{className:"btn-snap",onClick:ha,children:["Snap to ",ed(Me)," units"]})]}),f.jsxs("div",{className:"quick-add-section",children:[f.jsx("label",{children:"Quick Add"}),f.jsxs("div",{className:"quick-add-buttons",children:[f.jsxs("button",{className:"btn-quick-add",onClick:()=>yl(100),children:["+100 ",f.jsx("small",{children:"(10L)"})]}),f.jsxs("button",{className:"btn-quick-add",onClick:()=>yl(500),children:["+500 ",f.jsx("small",{children:"(50L)"})]}),f.jsxs("button",{className:"btn-quick-add",onClick:()=>yl(1e3),children:["+1000 ",f.jsx("small",{children:"(1Cr)"})]})]})]}),an&&f.jsxs("div",{className:"bid-error",role:"alert",children:[" ",an]}),f.jsxs("div",{className:"action-buttons",children:[f.jsx("button",{className:`btn-action btn-sold ${Nt?"":"disabled"}`,onClick:Do,disabled:!Nt,"aria-label":"Mark player as sold",children:" SOLD"}),f.jsx("button",{className:`btn-action btn-unsold ${Ht?"":"disabled"}`,onClick:Is,disabled:!Ht,"aria-label":"Mark player as unsold",children:" UNSOLD"}),f.jsx("button",{className:`btn-action btn-undo ${Gn?"":"disabled"}`,onClick:ma,disabled:!Gn,"aria-label":"Undo last action",children:" UNDO"}),f.jsx("button",{className:`btn-action btn-next ${_l?"":"disabled"}`,onClick:Hs,disabled:!_l,"aria-label":"Move to next player",children:" NEXT PLAYER"}),f.jsx("button",{className:`btn-action btn-next-round ${Vs?"":"disabled"}`,onClick:pa,disabled:!Vs,"aria-label":"Start next round",children:" NEXT ROUND"}),Mt()&&je().length>0&&f.jsx("button",{className:"btn-action btn-distribute",onClick:()=>{const T=je();T.length>0&&(k(!0),Y(T[0]))},"aria-label":"Distribute unsold players",children:" DISTRIBUTE"})]})]})]}):f.jsx("div",{className:"loading-state",style:{padding:"2rem",textAlign:"center"},children:f.jsx("p",{children:"Loading player information..."})}),f.jsxs("div",{className:"team-roster-section",children:[f.jsx("h3",{children:"Team Roster"}),f.jsx("div",{className:"roster-table-wrapper",children:f.jsxs("table",{className:"roster-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Team"}),f.jsx("th",{children:"Players"}),f.jsx("th",{children:"Needed"}),f.jsx("th",{children:"Spent"}),f.jsx("th",{children:"Balance"}),f.jsx("th",{children:" Blue Left"}),f.jsx("th",{children:"Max Bid"}),f.jsx("th",{children:"Min Reserve"}),f.jsx("th",{children:"Status"})]})}),f.jsx("tbody",{children:ge.map(T=>{const D=T.acquired||0,H=T.balance,K=Math.max(0,d-D),ne=K<=1?0:(K-1)*100,X=Math.max(0,H-ne),ze=D===0||K<=1?0:(K-1)*100,Le=D>0&&H<ze&&K>1,pt=z.filter(on=>on.team===T.name&&on.status==="Sold").reduce((on,Qn)=>on+(typeof Qn.amount=="number"?Qn.amount:0),0),jt=pt+H,Ue=Math.floor(p/100*jt),Be=Xe(T.name),qt=Math.max(0,Ue-Be),An=qt<Ue*.2,rn=Q(T.name),Gi=Ee.has(T.name);return f.jsxs(f.Fragment,{children:[f.jsxs("tr",{className:`${Le?"at-risk":""} ${D>0?"expandable-row":""}`,onClick:()=>D>0&&ct(T.name),style:{cursor:D>0?"pointer":"default"},children:[f.jsxs("td",{className:"team-cell",children:[f.jsx("span",{className:"expand-icon",children:D>0?Gi?"":"":""}),T.logo?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:T.logo,alt:T.name,className:"team-logo-table"}),f.jsx("span",{children:T.name})]}):f.jsx("span",{children:T.name})]}),f.jsx("td",{className:"players-cell",children:f.jsxs("span",{className:D>=h?"full":D>=d?"complete":"",children:[D,"/",h]})}),f.jsx("td",{className:"needed-cell",children:K>0?f.jsx("span",{className:"needed-badge",children:K}):f.jsx("span",{className:"done-badge",children:""})}),f.jsx("td",{className:"spent-cell",children:Bi(pt)}),f.jsx("td",{className:"balance-cell",children:Bi(H)}),f.jsx("td",{className:"blue-left-cell",children:f.jsx("span",{style:{color:An?"#ff9800":"#1976d2"},children:Bi(qt)})}),f.jsx("td",{className:"max-bid-cell",children:D<h?On(X):""}),f.jsx("td",{className:"min-needed-cell",children:D<h&&K>0?On(ne):""}),f.jsxs("td",{className:"status-cell",children:[Le&&f.jsx("span",{className:"warning-badge",children:" At Risk"}),D>=h&&f.jsx("span",{className:"full-badge",children:" Full"}),D<h&&D>=d&&f.jsx("span",{className:"success-badge",children:" Complete"}),!Le&&D<d&&f.jsx("span",{className:"progress-badge",children:"In Progress"})]})]},T.name),Gi&&rn.length>0&&f.jsx("tr",{className:"expanded-players-row",children:f.jsx("td",{colSpan:9,children:f.jsx("div",{className:"team-players-list",children:f.jsx("div",{className:"players-grid",children:rn.map((on,Qn)=>f.jsxs("div",{className:`player-chip ${on.category.toLowerCase()}`,children:[f.jsx("span",{className:"player-name",children:on.name}),f.jsx("span",{className:"player-amount",children:Bi(on.amount)})]},Qn))})})})})]})})})]})})]}),f.jsxs("div",{className:"auction-log-section",children:[f.jsxs("div",{className:"log-header",children:[f.jsx("h3",{children:"Auction Log"}),f.jsxs("div",{className:"log-actions",children:[f.jsx("button",{className:"btn-secondary",onClick:()=>{if(ue(!G),!G)$([...z]);else{P(A);const T={},D={};ge.forEach(X=>{T[X.name]=0,D[X.name]=0});const H=A.filter(X=>X.status==="Sold"),K={};H.forEach(X=>{X.team&&typeof X.amount=="number"&&(K[X.team]=(K[X.team]||0)+X.amount,D[X.team]=(D[X.team]||0)+1)});const ne={};n.forEach(X=>{const ze=Le=>Le>5e4?Math.round(Le/1e4):Le;ne[X.name]=ze(X.balance&&X.balance>0?X.balance:l)});const ee=ge.map(X=>({...X,balance:Math.max(0,(ne[X.name]||0)-(K[X.name]||0)),acquired:D[X.name]||0}));pe(ee),Yn(A)}},children:G?"Save Changes":"Edit Log"}),f.jsx("button",{className:"btn-secondary",onClick:qs,children:"Download CSV"})]})]}),f.jsx("div",{className:"log-table-wrapper",children:f.jsxs("table",{className:"log-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Round"}),f.jsx("th",{children:"Attempt"}),f.jsx("th",{children:"Timestamp"}),f.jsx("th",{children:"Player"}),f.jsx("th",{children:"Cat"}),f.jsx("th",{children:"Team"}),f.jsx("th",{children:"Bid Units"}),f.jsx("th",{children:"Bid Amount"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Notes"})]})}),f.jsx("tbody",{children:(G?A:z).map((T,D)=>f.jsxs("tr",{className:`log-row ${T.status.toLowerCase()}`,children:[f.jsx("td",{children:T.round}),f.jsx("td",{children:T.attempt}),f.jsx("td",{children:T.timestamp}),f.jsx("td",{children:T.playerName}),f.jsx("td",{children:f.jsx("span",{className:`category-tag ${(T.category||"").toLowerCase()}`,children:(T.category||"").toUpperCase().slice(0,1)||"-"})}),f.jsxs("td",{children:[G&&T.status==="Sold"?f.jsx("input",{type:"text",value:T.team||"",onChange:H=>{const K=[...A];K[D].team=H.target.value,$(K)},className:"log-edit-input team-input",placeholder:"Team",list:`team-list-${D}`}):T.team||"-",G&&T.status==="Sold"&&f.jsx("datalist",{id:`team-list-${D}`,children:ge.map(H=>f.jsx("option",{value:H.name},H.name))})]}),f.jsx("td",{children:G&&T.status==="Sold"?f.jsx("input",{type:"number",value:typeof T.amount=="number"?T.amount:"",onChange:H=>{const K=[...A],ne=parseInt(H.target.value)||0;K[D].amount=ne,$(K)},className:"log-edit-input bid-input",placeholder:"0",min:"0",step:"100"}):typeof T.amount=="number"?T.amount:"-"}),f.jsx("td",{children:typeof T.amount=="number"?On(T.amount):"-"}),f.jsx("td",{children:f.jsx("span",{className:`status-badge ${T.status.toLowerCase()}`,children:T.status})}),f.jsx("td",{children:G?f.jsx("input",{type:"text",value:T.notes||"",onChange:H=>{const K=[...A];K[D].notes=H.target.value,$(K)},className:"notes-input"}):T.notes||""})]},D))})]})})]})]}),$e&&f.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:f.jsxs("div",{className:"modal-content distribution-modal",onClick:T=>T.stopPropagation(),children:[f.jsx("h2",{children:" Distribute Unsold Players"}),j?f.jsxs("div",{className:"distribution-form",children:[f.jsxs("div",{className:"player-display",children:[f.jsxs("h3",{children:["Player: ",j.name]}),f.jsx("span",{className:`player-badge ${j.category?.toLowerCase()||""}`,children:j.category||"Unknown"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Select Team:"}),f.jsxs("select",{value:Z,onChange:T=>ce(T.target.value),className:"team-selector",children:[f.jsx("option",{value:"",children:"-- Select Team --"}),fe().map(T=>f.jsxs("option",{value:T.name,children:[T.name," (",T.acquired||0,"/",h,")"]},T.name))]})]}),Z&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Amount (Units):"}),f.jsx("input",{type:"number",value:x,onChange:T=>U(Math.max(0,parseInt(T.target.value)||0)),className:"amount-input",placeholder:"0 (0)",max:ge.find(T=>T.name===Z)?.balance||0}),f.jsxs("small",{children:["Max available: ",On(ge.find(T=>T.name===Z)?.balance||0)]})]}),f.jsx("div",{className:"modal-actions",children:f.jsx("button",{className:"btn-primary",onClick:Ge,disabled:!Z,children:" Assign"})})]}):f.jsxs("div",{className:"distribution-summary",children:[f.jsx("h3",{children:"Pending Assignments"}),J.length===0?f.jsx("p",{children:"No assignments yet"}):f.jsxs("table",{className:"assignments-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Player"}),f.jsx("th",{children:"Team"}),f.jsx("th",{children:"Amount"}),f.jsx("th",{children:"Action"})]})}),f.jsx("tbody",{children:J.map((T,D)=>f.jsxs("tr",{children:[f.jsx("td",{children:T.playerName}),f.jsx("td",{children:T.teamName}),f.jsx("td",{children:T.amount===0?"0":On(T.amount)}),f.jsx("td",{children:f.jsx("button",{className:"btn-small btn-danger",onClick:()=>ut(D),children:""})})]},D))})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{className:"btn-secondary",onClick:()=>k(!1),children:" Back"}),f.jsx("button",{className:"btn-primary",onClick:bt,disabled:J.length===0,children:" Confirm Distribution"})]})]})]})})]}):f.jsx("div",{className:"auction-container",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h2",{children:"No players available"}),f.jsx("p",{children:"Please import player data to begin the auction."})]})})}function XE(a){return new Promise((n,l)=>{const r=new FileReader;r.onload=()=>{const c=r.result||"",h=(y=>{const b=[];let E=[],v="",q=!1;for(let z=0;z<y.length;z++){const P=y[z],be=y[z+1];q?P==='"'?be==='"'?(v+='"',z++):q=!1:v+=P:P==='"'?q=!0:P===","?(E.push(v),v=""):P===`
`||P==="\r"?(P==="\r"&&be===`
`&&z++,(v||E.length>0)&&(E.push(v),E.some(tt=>tt.trim().length>0)&&b.push(E),E=[],v="")):v+=P}return(v||E.length>0)&&(E.push(v),E.some(z=>z.trim().length>0)&&b.push(E)),b})(c);if(h.length===0)return n([]);const p=h[0].map(y=>y.trim()),_=h.slice(1).map(y=>p.reduce((b,E,v)=>(b[E]=(y[v]||"").trim(),b),{}));n(_)},r.onerror=l,r.readAsText(a)})}const Qg=["Mens CCL","Womens CCL","Kids CCL","Senior Citizen CCL"];function FE({onSetup:a}){function n(A){return A.map($=>[Math.random(),$]).sort(($,ae)=>$[0]-ae[0]).map($=>$[1])}function l(){const A=b.filter(ye=>(ye.category||"").toLowerCase()==="blue"),$=b.filter(ye=>(ye.category||"").toLowerCase()==="red"),ae=b.filter(ye=>(ye.category||"").toLowerCase()!=="blue"&&(ye.category||"").toLowerCase()!=="red");E([...n(A),...n($),...n(ae)])}const[r,c]=oe.useState(!1),[d,h]=oe.useState(!1),p=async(A,$,ae)=>{const ye=A.target.files?.[0];if(!ye)return;ce({type:ae,current:0,total:0});const xe=[];try{let Se=await XE(ye);if(Array.isArray(Se)||(Se=[]),ce({type:ae,current:Se.length,total:Se.length}),console.log("CSV parsed rows:",Se.length),ae==="player"){const se=Q=>String(Q||"").toLowerCase().replace(/[^a-z0-9]/g,""),te=Q=>{const je=String(Q||"").trim();return je==="-"||je==="--"||je===""||je===""||je==="null"||je==="undefined"?"":je};console.log("Raw CSV data rows:",Se.length);const Ee=[];let He=null;Se.forEach((Q,je)=>{const Mt=Object.keys(Q),fe={};Mt.forEach(ut=>{fe[se(ut)]=ut});const Ge=te(Q[fe.id]||Q[fe.playerid]||Q[fe.player_id]),bt=te(Q[fe.name]||Q[fe.playername]);ce({type:ae,current:je+1,total:Se.length}),Ge.length>0||bt.length>0?(He&&Ee.push(He),He={...Q}):He&&Object.keys(Q).forEach(ut=>{const it=te(Q[ut]);if(it.length>0){const St=te(He[ut]);se(ut).includes("description")&&St.length>0?He[ut]=St+" "+it:St.length===0&&(He[ut]=Q[ut])}})}),He&&Ee.push(He),console.log("Merged rows:",Ee.length);const ct=Ee.map((Q,je)=>{const Mt=Object.keys(Q),fe={};Mt.forEach(gn=>{fe[se(gn)]=gn});const Ge=te(Q[fe.id]||Q[fe.playerid]||Q[fe.player_id]),bt=te(Q[fe.name]||Q[fe.playername]),ut=te(Q[fe.age]),it=te(Q[fe.flat]),St=te(Q[fe.specialization]),xt=te(Q[fe.description]),Xe=te(Q[fe.category]||Q[fe.bluered]),Tt=te(Q[fe.wouldyoubeavailableonallthematchdates23rdjan26thjan2026]||Q[fe.availability]),rt=te(Q[fe.role]),sn=te(Q[fe.owner]);return(!Ge||Ge.length===0)&&xe.push(`Row ${je+2}: Missing required field 'ID'`),(!bt||bt.length===0)&&xe.push(`Row ${je+2}: Missing required field 'Name'`),{id:Ge,photo:"",name:bt,age:Number(ut)||0,flat:it,description:xt,specialization:St,category:Xe,availability:Tt,role:rt,owner:sn}}).filter(Q=>Q.name&&Q.name.length>0);ct.length===0&&xe.push("No valid players found in CSV. Check that Name column exists and has values."),$(ct),console.log("Final players loaded:",ct.length),console.log("Sample players:",ct.slice(0,3))}else if(ae==="team"){const se=Ee=>String(Ee||"").toLowerCase().replace(/[^a-z0-9]/g,""),te=Se.map((Ee,He)=>{const ct=Object.keys(Ee),Q={};ct.forEach(bt=>{Q[se(bt)]=bt});const je=Ee[Q.name]||Ee[Q.team]||Ee[Q.teamname]||Ee[Q.team_name]||"",Mt=String(je).trim();(!Mt||Mt.length===0)&&xe.push(`Row ${He+2}: Missing required field 'Team Name'`);let fe=Ee[Q.balance]||Ee[Q.openingbalance]||Ee[Q.initialbalance]||Ee[Q.amount];typeof fe=="string"&&(fe=fe.trim());let Ge=Number(fe);return(!fe||isNaN(Ge)||Ge===0||fe==="0"||fe===0)&&(Ge=1e4,console.log(`Row ${He+2}: Using default balance (10000) for team "${Mt}"`)),{name:Mt,balance:Ge,logo:""}});te.length===0&&xe.push("No valid teams found in CSV. Check that Name column exists and has values."),$(te),console.log("Teams loaded:",te)}if(xe.length>0){U(xe);const se=10,te=xe.slice(0,se).join(`
`),Ee=xe.length>se?`
... and ${xe.length-se} more errors`:"";alert(`CSV Upload Warnings/Errors (${xe.length} total):

${te}${Ee}

Data loaded but please review the issues above.`)}else{U([]);const se=ae==="player"?` Successfully loaded ${Se.length} players`:` Successfully loaded ${Se.length} teams`;console.log(se)}}catch(Se){const se=`Failed to parse CSV: ${Se instanceof Error?Se.message:String(Se)}`;xe.push(se),U(xe),alert(se)}finally{ce({type:null,current:0,total:0}),A.target.value=""}},[_,y]=oe.useState(Qg[0]),[b,E]=oe.useState([]),[v,q]=oe.useState([]),[z]=oe.useState([]),[P,be]=oe.useState(6),[tt,de]=oe.useState(12),[Ie,ge]=oe.useState(65),[pe,nt]=oe.useState(void 0),[mt,Me]=oe.useState({}),[vt,an]=oe.useState({}),ft=oe.useRef(null),$e=oe.useRef(null),k=oe.useRef(null),J=oe.useRef(null),le=oe.useRef(null),[j,Y]=oe.useState(""),[Z,ce]=oe.useState({type:null,current:0,total:0}),[x,U]=oe.useState([]),W=async A=>{const $=A.target.files?.[0];if($)try{const ye=(await $.text()).replace(/\r/g,"").split(`
`).filter(fe=>fe.trim().length>0);console.log("Resume CSV - Total lines:",ye.length),console.log("First 5 lines:",ye.slice(0,5));let xe=-1,Se=1,se=0,te={},Ee=[];for(let fe=0;fe<ye.length;fe++){const Ge=ye[fe];if(Ge.startsWith("__STATE__")){const bt=Ge.split(","),ut=bt[1],it=bt.slice(2).join(",");switch(console.log(`Parsed state: ${ut} = ${it}`),ut){case"round":Se=Number(it)||1;break;case"playerIdx":se=Number(it)||0;break;case"sequence":Ee=it.split("|").filter(Boolean);break;case"balances":te={},it.split("|").forEach(St=>{if(!St)return;const[xt,Xe]=St.split("=");if(!xt||!Xe)return;const[Tt,rt]=Xe.split(":");te[xt]={balance:Number(Tt)||0,acquired:Number(rt)||0}});break}}else if(Ge.startsWith("Sequence,")){xe=fe,console.log("Found header at line",fe);break}}if(xe===-1){console.error('Could not find header line starting with "Sequence,"'),console.error("Available lines:",ye.map((fe,Ge)=>`${Ge}: ${fe.substring(0,50)}`)),alert('Invalid resume CSV format: missing header. Expected header starting with "Sequence,"');return}const He=ye[xe],ct=He.includes("Category");console.log("CSV format detection - hasCategory:",ct,"Header:",He);const Q=ye.slice(xe+1).filter(fe=>fe.trim().length>0),je=[];console.log("Parsing",Q.length,"log lines");for(const fe of Q){const Ge=[];let bt="",ut=!1;for(let it=0;it<fe.length;it++){const St=fe[it];St==='"'?ut&&fe[it+1]==='"'?(bt+='"',it++):ut=!ut:St===","&&!ut?(Ge.push(bt),bt=""):bt+=St}if(Ge.push(bt),Ge.length>=8){let it,St,xt,Xe,Tt,rt,sn,gn;ct&&Ge.length>=9?[,it,St,xt,Xe,Tt,rt,sn,gn]=Ge:([,it,St,xt,Xe,rt,sn,gn]=Ge,Tt=""),console.log("Parsed entry:",{playerName:Xe,category:Tt,team:rt,amountStr:sn,status:gn}),je.push({round:Number(it)||1,attempt:Number(St)||1,timestamp:xt||new Date().toLocaleString(),playerName:Xe||"",team:rt||"",amount:sn&&sn.trim()!==""?Number(sn):"",status:gn||"Unsold",category:Tt||""})}}console.log("Successfully parsed",je.length,"log entries");const Mt={round:Se,playerIdx:se,sequence:Ee,balances:te,log:je.reverse()};nt(Mt),alert(`Resume data loaded: Round ${Se}, ${je.length} log entries, ${Ee.length} players in sequence`)}catch(ae){console.error("Failed to parse resume CSV:",ae),alert("Failed to parse resume CSV. Please check the file format.")}finally{A.target.value=""}},V=A=>{const $=A.target.files;if(!$)return;let ae=0;const ye=$.length;console.log(`Loading ${ye} player images...`),Array.from($).forEach(xe=>{const Se=xe.name.match(/(\d+)/);if(Se){const se=Se[1],te=new FileReader;te.onload=Ee=>{Ee.target?.result&&(ae++,Ee.target.result,Me(He=>({...He,[se]:Ee.target.result})),E(He=>{const ct=He.map(Q=>Q.id===se?{...Q,photo:Ee.target.result}:Q);return console.log(`Loaded image ${ae}/${ye} for player ID ${se}`),ae===ye&&console.log("All images loaded. Players with photos:",ct.filter(Q=>Q.photo).length),ct}))},te.readAsDataURL(xe)}else console.warn(`Could not extract ID from filename: ${xe.name}`)})},G=A=>{const $=A.target.files;if(!$)return;let ae=0;const ye=$.length;console.log(`Loading ${ye} team logos...`),Array.from($).forEach(xe=>{const Se=xe.name.replace(/\.[^.]+$/,"").trim(),se=new FileReader;se.onload=te=>{if(te.target?.result){ae++;const Ee=te.target.result;an(He=>({...He,[Se]:Ee})),q(He=>{const ct=He.map(Q=>{const je=Q.name.toLowerCase().replace(/[^a-z0-9]/g,""),Mt=Se.toLowerCase().replace(/[^a-z0-9]/g,"");return je.includes(Mt)||Mt.includes(je)?(console.log(`Matched logo "${Se}" to team "${Q.name}"`),{...Q,logo:Ee}):Q});return console.log(`Loaded logo ${ae}/${ye} for "${Se}"`),ae===ye&&console.log("All logos loaded. Teams with logos:",ct.filter(Q=>Q.logo).length),ct})}},se.readAsDataURL(xe)})},ue=()=>{const A=[];if(b.length===0)A.push(" No players loaded. Please upload a Players CSV.");else{const se=b.filter(te=>!te.name||te.name.trim()==="");se.length>0&&A.push(` ${se.length} player(s) missing names`)}if(v.length===0)A.push(" No teams loaded. Please upload a Teams CSV.");else if(v.length<2)A.push(" Only 1 team loaded. Auctions typically need at least 2 teams.");else{const se=v.filter(Q=>!Q.name||Q.name.trim()==="");se.length>0&&A.push(` ${se.length} team(s) missing names`);const te=v.map(Q=>Q.balance),Ee=[...new Set(te)];if(Ee.length>1){const Q=Ee.map(je=>je>=1e3?`${(je/1e3).toFixed(2)} Cr`:`${(je/10).toFixed(1)} L`).join(", ");A.push(` Teams have different budgets: ${Q}. This may create unfair advantage.`)}const He=v.reduce((Q,je)=>Q+je.balance,0),ct=He/b.length;if(ct<100){const Q=He>=1e3?`${(He/1e3).toFixed(2)} Cr`:`${(He/10).toFixed(1)} L`,je=ct>=1e3?`${(ct/1e3).toFixed(2)} Cr`:`${(ct/10).toFixed(1)} L`;A.push(` Total budget (${Q}) seems low for ${b.length} players. Average ~${je} per player.`)}}const $=b.map(se=>se.id).filter(se=>se&&se.trim()!==""),ae=$.filter((se,te)=>$.indexOf(se)!==te);ae.length>0&&A.push(` Duplicate player IDs found: ${[...new Set(ae)].join(", ")}`);const ye=b.map(se=>se.name.trim().toLowerCase()),xe=ye.filter((se,te)=>ye.indexOf(se)!==te);xe.length>0&&A.push(` Duplicate player names found: ${[...new Set(xe)].join(", ")}`);const Se=b.filter(se=>se.photo&&se.photo.length>0);return Se.length===0?A.push(" No player photos uploaded. Photos enhance the auction experience."):Se.length<b.length&&A.push(` Only ${Se.length} of ${b.length} players have photos.`),{valid:A.filter(se=>se.startsWith("")).length===0,errors:A}};return Xg.useEffect(()=>{try{const A=localStorage.getItem("auctionSetup")}catch{}},[]),f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
      * {
        color-scheme: light !important;
      }
      body {
        background: #f7f7fa !important;
        color: #333 !important;
      }
    `}),f.jsxs("div",{className:"auction-setup",style:{padding:32,maxWidth:900,margin:"0 auto"},children:[f.jsx("h1",{children:"Auction Setup"}),Z.type&&f.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.9)",color:"#fff",padding:"2rem 3rem",borderRadius:"1rem",zIndex:1e4,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",minWidth:"300px",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:"1rem"},children:Z.type==="player"?" Loading Players...":Z.type==="team"?" Loading Teams...":" Loading Resume..."}),f.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:Z.total>0?`${Z.current} / ${Z.total} rows`:"Processing..."}),f.jsx("div",{style:{width:"100%",height:"8px",background:"#333",borderRadius:"4px",overflow:"hidden"},children:f.jsx("div",{style:{width:Z.total>0?`${Z.current/Z.total*100}%`:"0%",height:"100%",background:"linear-gradient(90deg, #1976d2, #42a5f5)",transition:"width 0.2s ease"}})})]}),f.jsx("label",{children:"Tournament Type:"}),f.jsxs("select",{value:_,onChange:A=>y(A.target.value),children:[Qg.map(A=>f.jsx("option",{value:A,children:A},A)),f.jsx("option",{value:"custom",children:"Custom..."})]}),_==="custom"&&f.jsx("input",{placeholder:"Enter custom type",value:j,onChange:A=>Y(A.target.value)}),f.jsxs("div",{style:{marginTop:16,display:"flex",alignItems:"center",gap:8},children:[f.jsx("label",{children:"Upload Players CSV:"}),f.jsx("input",{type:"file",accept:".csv",ref:ft,onChange:A=>p(A,E,"player")}),f.jsx("button",{type:"button",onClick:l,disabled:!b.length,style:{fontSize:13,padding:"2px 10px",marginLeft:4,borderRadius:4,border:"1px solid #1976d2",background:"#e3e9f6",color:"#1976d2",cursor:b.length?"pointer":"not-allowed"},title:"Randomize Blue/Red Players",children:"Randomize"})]}),f.jsxs("div",{children:[f.jsx("label",{children:"Upload Player Photos:"}),f.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:J,onChange:V}),f.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:4},children:"Photo files should be named with player ID (e.g., 1.jpg, 2.png, 101.jpg)"}),b.length>0&&f.jsxs("div",{style:{marginTop:12,padding:"12px",background:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[f.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,marginBottom:8,color:"#333"},children:[" Photo Coverage: ",b.filter(A=>A.photo).length," / ",b.length," players"]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:b.map((A,$)=>f.jsxs("div",{style:{position:"relative",width:"80px",height:"80px",border:A.photo?"2px solid #4caf50":"2px dashed #ccc",borderRadius:"6px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",background:A.photo?"#fff":"#f5f5f5"},children:[A.photo?f.jsx("img",{src:A.photo,alt:A.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("span",{style:{fontSize:"0.7rem",color:"#999",textAlign:"center",padding:"2px"},children:"No photo"}),f.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.7)",color:"#fff",fontSize:"0.65rem",padding:"2px 4px",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:A.name})]},$))})]})]}),f.jsxs("div",{children:[f.jsx("label",{children:"Upload Teams CSV:"}),f.jsx("input",{type:"file",accept:".csv",ref:$e,onChange:A=>p(A,q,"team")}),f.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:4},children:"CSV should include team name (balance column will be ignored)"})]}),v.length>0&&f.jsxs("div",{style:{marginTop:16,padding:"12px",background:"#f5f5f5",borderRadius:"8px",border:"1px solid #ddd"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12,flexWrap:"wrap"},children:[f.jsx("label",{style:{fontWeight:600},children:"Team Balances (Units):"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[f.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:"Default:"}),f.jsx("input",{type:"number",value:1e4,disabled:!0,style:{padding:"0.5em 8px",fontSize:"0.9rem",width:"100px",background:"#e8f5e9",borderRadius:"4px",border:"1px solid #4caf50"}}),f.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:"= 10 Cr"})]}),f.jsx("button",{type:"button",onClick:()=>{const A=v.map($=>({...$,balance:1e4}));q(A)},style:{fontSize:"0.85rem",padding:"6px 12px",background:"#1976d2",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:600,marginLeft:"auto"},children:"Reset All to Default"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"},children:v.map((A,$)=>f.jsxs("div",{style:{padding:"12px",background:"#fff",border:"1px solid #ddd",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[f.jsxs("div",{style:{fontWeight:600,color:"#333",fontSize:"0.95rem"},children:[A.logo&&f.jsx("img",{src:A.logo,alt:A.name,style:{width:30,height:30,borderRadius:4,marginBottom:4}}),A.name]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[f.jsx("input",{type:"number",value:A.balance,onChange:ae=>{const ye=Number(ae.target.value)||1e4,xe=[...v];xe[$]={...A,balance:ye},q(xe)},min:"0",step:"100",style:{flex:1,padding:"0.5em 8px",fontSize:"0.9rem",borderRadius:"4px",border:"1px solid #bbb"}}),f.jsxs("span",{style:{fontSize:"0.8rem",color:"#666",minWidth:"60px"},children:["= ",A.balance>=1e3?`${(A.balance/1e3).toFixed(2)} Cr`:`${(A.balance/10).toFixed(1)} L`]})]})]},$))})]}),f.jsxs("div",{children:[f.jsx("label",{children:"Upload Team Logos:"}),f.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:le,onChange:G}),f.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:4},children:"Logo files should be named with team name (e.g., TeamA.jpg, eagles.png)"}),f.jsxs("div",{style:{marginTop:16,display:"flex",gap:"2rem",flexWrap:"wrap"},children:[f.jsxs("div",{children:[f.jsx("label",{children:"Minimum Players Per Team:"}),f.jsx("input",{type:"number",value:P,onChange:A=>be(Number(A.target.value)||1),min:"1",style:{marginLeft:8,padding:"0.5em",fontSize:"1rem",width:"80px"}}),f.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:4},children:"Teams must acquire at least this many players"})]}),f.jsxs("div",{children:[f.jsx("label",{children:"Maximum Players Per Team:"}),f.jsx("input",{type:"number",value:tt,onChange:A=>de(Math.max(P,Number(A.target.value)||P)),min:P,style:{marginLeft:8,padding:"0.5em",fontSize:"1rem",width:"80px"}}),f.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:4},children:"Teams cannot acquire more than this many players"})]})]}),f.jsxs("div",{style:{marginTop:16},children:[f.jsx("label",{children:"Blue Player Cap (% of Purse):"}),f.jsx("input",{type:"number",value:Ie,onChange:A=>ge(Math.min(100,Math.max(0,Number(A.target.value)||65))),min:"0",max:"100",style:{marginLeft:8,padding:"0.5em",fontSize:"1rem",width:"80px"}}),f.jsx("span",{style:{marginLeft:4},children:"%"}),f.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:4},children:"Maximum % of team purse that can be spent on Blue category players. Set to 100% to disable this cap."})]}),v.length>0&&f.jsxs("div",{style:{marginTop:12,padding:"12px",background:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[f.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:600,marginBottom:8,color:"#333"},children:[" Logo Coverage: ",v.filter(A=>A.logo).length," / ",v.length," teams"]}),f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:v.map((A,$)=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#fff",border:A.logo?"2px solid #4caf50":"2px dashed #ccc",borderRadius:"6px",minWidth:"150px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",background:A.logo?"#fff":"#f5f5f5",flexShrink:0},children:A.logo?f.jsx("img",{src:A.logo,alt:A.name,style:{width:"100%",height:"100%",objectFit:"contain"}}):f.jsx("span",{style:{fontSize:"0.6rem",color:"#999"},children:"No logo"})}),f.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,color:"#333"},children:A.name})]},$))})]})]}),f.jsxs("div",{children:[f.jsx("label",{children:"Upload Previous Bid Log (optional):"}),f.jsx("input",{type:"file",accept:".csv",ref:k,onChange:W}),pe&&f.jsxs("div",{style:{fontSize:"0.85rem",color:"#388e3c",marginTop:4},children:[" Resume loaded: Round ",pe.round,", ",pe.log.length," entries, ",pe.sequence.length," players in sequence"]})]}),f.jsxs("div",{style:{marginTop:24,display:"flex",flexDirection:"column",alignItems:"center"},children:[f.jsx("button",{onClick:()=>{const A=ue();if(!A.valid){const te=A.errors.filter(Ee=>Ee.startsWith(""));alert(`Cannot start auction. Please fix these issues:

${te.join(`
`)}`),U(A.errors);return}const $=A.errors.filter(te=>te.startsWith("")||te.startsWith(""));if($.length>0&&!confirm(`Setup validation warnings:

${$.join(`
`)}

Do you want to proceed anyway?`)){U(A.errors);return}console.log("Starting auction with players:",b),console.log("Players with photos:",b.filter(te=>te.photo).length,"out of",b.length);const ae=b.filter(te=>(te.category||"").toLowerCase()==="blue"),ye=b.filter(te=>(te.category||"").toLowerCase()==="red"),xe=b.filter(te=>(te.category||"").toLowerCase()!=="blue"&&(te.category||"").toLowerCase()!=="red"),Se=[...n(ae),...n(ye),...n(xe)];console.log(`Auto-randomized: ${ae.length} blue players first, then ${ye.length} red players, then ${xe.length} others`),pe&&console.log("Resume data loaded:",pe);const se=qE();VE(se),console.log("Generated Auction ID:",se),a({tournament:j||_,players:pe?b:Se,teams:v,bidLog:z,playerImages:mt,teamLogos:vt,defaultBalance:1e4,resumeData:pe,auctionId:se,minPlayersPerTeam:P,maxPlayersPerTeam:tt,blueCapPercent:Ie})},disabled:!b.length||!v.length,style:{fontSize:"2rem",padding:"1.2em 3em",background:!b.length||!v.length?"#ccc":"#1976d2",color:"#fff",border:"none",borderRadius:"0.7em",fontWeight:700,boxShadow:"0 2px 12px #0002",cursor:!b.length||!v.length?"not-allowed":"pointer",marginBottom:32,marginTop:8,letterSpacing:"0.08em",transition:"background 0.2s"},children:"Start Auction"}),x.length>0&&f.jsxs("div",{style:{marginTop:16,padding:"1rem",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"0.5rem",maxWidth:"600px",width:"100%"},children:[f.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",marginBottom:"0.5rem",color:"#856404"},children:" Validation Issues:"}),f.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#856404"},children:x.map((A,$)=>f.jsx("li",{style:{marginBottom:"0.25rem"},children:A},$))})]}),f.jsxs("div",{style:{marginTop:16,padding:"0.75rem",background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"0.5rem",maxWidth:"600px",width:"100%",fontSize:"0.9rem"},children:[f.jsx("div",{style:{fontWeight:700,marginBottom:"0.5rem",color:"#1565c0"},children:" Setup Status:"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",color:"#1976d2"},children:[f.jsxs("div",{children:[" Players: ",f.jsx("strong",{children:b.length})]}),f.jsxs("div",{children:[" Teams: ",f.jsx("strong",{children:v.length})]}),f.jsxs("div",{children:[" Photos: ",f.jsxs("strong",{children:[b.filter(A=>A.photo).length,"/",b.length]})]}),f.jsxs("div",{children:[" Logos: ",f.jsxs("strong",{children:[v.filter(A=>A.logo).length,"/",v.length]})]})]})]})]}),f.jsxs("div",{style:{marginTop:24,position:"relative"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.jsx("h3",{style:{margin:0},children:"Preview"}),f.jsxs("div",{children:[f.jsx("button",{onClick:()=>c(A=>!A),style:{marginRight:8,fontSize:18},children:r?" Expand":" Collapse"}),f.jsx("button",{onClick:()=>h(!0),style:{fontSize:18},children:" Maximize"})]})]}),!r&&f.jsxs("div",{children:[f.jsxs("div",{children:["Players: ",b.length]}),f.jsx("div",{style:{overflowX:"auto",maxWidth:"100%",maxHeight:"500px",overflowY:"auto"},children:f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:12,fontSize:"0.9em"},children:[f.jsxs("colgroup",{children:[f.jsx("col",{style:{width:"60px"}}),f.jsx("col",{style:{width:"50px"}}),f.jsx("col",{style:{width:"120px"}}),f.jsx("col",{style:{width:"45px"}}),f.jsx("col",{style:{width:"70px"}}),f.jsx("col",{style:{minWidth:"180px"}}),f.jsx("col",{style:{width:"100px"}}),f.jsx("col",{style:{width:"70px"}}),f.jsx("col",{style:{width:"100px"}}),f.jsx("col",{style:{width:"80px"}})]}),f.jsx("thead",{children:f.jsxs("tr",{style:{background:"#e3e9f6"},children:[f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Photo"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"ID"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Name"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Age"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Flat"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Description"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Specialization"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Blue/Red"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Availability"}),f.jsx("th",{style:{padding:"4px 6px",border:"1px solid #bbb",fontSize:"0.85em",color:"#333",fontWeight:700},children:"Role"})]})}),f.jsx("tbody",{children:b.map((A,$)=>f.jsxs("tr",{children:[f.jsx("td",{style:{padding:"4px",border:"1px solid #ccc",textAlign:"center"},children:A.photo?f.jsx("img",{src:A.photo,alt:A.name,style:{width:40,height:40,objectFit:"cover",borderRadius:4}}):"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",fontSize:"0.85em",color:"#333"},children:A.id||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",fontSize:"0.85em",color:"#333",fontWeight:600},children:A.name||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",textAlign:"center",fontSize:"0.85em",color:"#333"},children:A.age||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",fontSize:"0.85em",color:"#333"},children:A.flat||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",fontSize:"0.85em",color:"#333"},children:A.description||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",fontSize:"0.85em",color:"#333"},children:A.specialization||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",textAlign:"center",fontSize:"0.85em",color:"#333"},children:A.category||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",fontSize:"0.85em",color:"#333"},children:A.availability||"-"}),f.jsx("td",{style:{padding:"4px 6px",border:"1px solid #ccc",fontSize:"0.85em",color:"#333"},children:A.role||"-"})]},$))})]})}),f.jsxs("div",{children:["Teams: ",v.length]}),f.jsx("ul",{style:{color:"#388e3c",margin:"4px 0 12px 0"},children:v.map((A,$)=>f.jsx("li",{children:A.name||JSON.stringify(A)},$))}),f.jsxs("div",{children:["Bid Log: ",z.length]})]}),d&&f.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#fff",zIndex:1e3,overflow:"auto",padding:40},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[f.jsx("h2",{children:"Preview (Maximized)"}),f.jsx("button",{onClick:()=>h(!1),style:{fontSize:22,padding:"0.3em 1em"},children:" Close"})]}),f.jsxs("div",{children:["Players: ",b.length]}),f.jsx("ul",{style:{color:"#1976d2",margin:"4px 0 12px 0",fontSize:"1.3em"},children:b.map((A,$)=>f.jsx("li",{children:A.name||JSON.stringify(A)},$))}),f.jsxs("div",{children:["Teams: ",v.length]}),f.jsx("ul",{style:{color:"#388e3c",margin:"4px 0 12px 0",fontSize:"1.3em"},children:v.map((A,$)=>f.jsx("li",{children:A.name||JSON.stringify(A)},$))}),f.jsxs("div",{children:["Bid Log: ",z.length]})]})]})]})]})}function WE({currentPlayer:a=null,soldPlayers:n=[],teamBalances:l=[],auctionLog:r=[],round:c=1,auctionId:d}){const p=new URLSearchParams(window.location.search).get("audienceView")==="true";console.log("AudienceView rendered. isStandaloneView:",p,"auctionId:",d);const[_,y]=oe.useState(new Date),[b,E]=oe.useState(null);oe.useEffect(()=>{if(p&&d){console.log("Subscribing to auction updates for:",d);const k=GE(d,J=>{console.log("Received auction update:",J),E(J)});try{const J=localStorage.getItem(`auction_${d}`);if(J){const le=JSON.parse(J);E(le)}}catch(J){console.error("Failed to load from localStorage:",J)}return k}},[p,d]),oe.useEffect(()=>{const k=setInterval(()=>y(new Date),1e3);return()=>clearInterval(k)},[]),oe.useEffect(()=>{if(p&&d){const k=setInterval(()=>{try{const J=localStorage.getItem(`auction_${d}`);if(J){const le=JSON.parse(J);E(le)}}catch{}},200);return()=>clearInterval(k)}},[p,d]);const v=b?.currentPlayer??a,q=b?.soldPlayers??n,z=b?.teamBalances??l,P=b?.auctionLog??r,be=b?.round??c,tt=b?.blueCapPercent??65,de=b?.players??[],Ie=b?.teamRosterData??[],ge=b?.minPlayersPerTeam??6,pe=b?.maxPlayersPerTeam??12,[nt,mt]=oe.useState(new Set),Me=k=>{mt(J=>{const le=new Set(J);return le.has(k)?le.delete(k):le.add(k),le})},vt=k=>P.filter(J=>J.team===k&&J.status==="Sold").map(J=>({name:J.playerName,amount:J.amount,category:J.category||"Unknown"})),an=k=>P.filter(J=>{if(J.status!=="Sold"||J.team!==k)return!1;const le=(J.category||"").toLowerCase();if(le)return le==="blue";const j=de.find(Y=>Y.name===J.playerName);return j&&(j.category||"").toLowerCase()==="blue"}).reduce((J,le)=>J+(typeof le.amount=="number"?le.amount:0),0);function ft(){const k=G=>{if(G==null)return"";let ue=String(G).replace(/\r\n|\r|\n/g,`
`);return/[",\n]/.test(ue)&&(ue='"'+ue.replace(/"/g,'""')+'"'),ue},J=[],le=[];z.forEach(G=>{le.push(G.name,"")}),J.push(le.map(k).join(","));const j=[];z.forEach(()=>{j.push("Player","Amount")}),J.push(j.map(k).join(","));const Y=z.map(G=>P.filter(ue=>ue.team===G.name&&ue.status==="Sold").sort((ue,A)=>typeof A.amount=="number"&&typeof ue.amount=="number"?A.amount-ue.amount:0)),Z=Math.max(...Y.map(G=>G.length),0);for(let G=0;G<Z;G++){const ue=[];Y.forEach(A=>{G<A.length?(ue.push(A[G].playerName),ue.push(typeof A[G].amount=="number"?A[G].amount:"")):ue.push("","")}),J.push(ue.map(k).join(","))}J.push(z.map(()=>",").join("").slice(0,-1));const ce=[];z.forEach(G=>{const A=P.filter($=>$.team===G.name&&$.status==="Sold").reduce(($,ae)=>$+(typeof ae.amount=="number"?ae.amount:0),0);ce.push("Total Spent",A)}),J.push(ce.map(k).join(","));const x=[];z.forEach(G=>{x.push("Remaining Balance",G.balance)}),J.push(x.map(k).join(","));const U="\uFEFF"+J.join(`
`),W=new Blob([U],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a");V.href=URL.createObjectURL(W),V.download=`team-rosters-${new Date().toISOString().replace(/[:.]/g,"-")}.csv`,document.body.appendChild(V),V.click(),setTimeout(()=>{document.body.removeChild(V)},0)}const $e=q;return f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
        * {
          color-scheme: light !important;
        }
        body {
          background: #0a0e27 !important;
          color: #fff !important;
        }
      `}),b?.auctionComplete&&f.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.5s ease-out"},children:f.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"linear-gradient(135deg, #1a1f3a 0%, #0a0e27 100%)",borderRadius:"2rem",boxShadow:"0 0 60px rgba(25, 118, 210, 0.5)",border:"3px solid rgba(25, 118, 210, 0.6)",maxWidth:"600px"},children:[f.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),f.jsx("h1",{style:{fontSize:"3rem",fontWeight:900,color:"#fff",marginBottom:"1rem",textShadow:"0 0 20px rgba(25, 118, 210, 0.8)"},children:"Auction Complete!"}),f.jsx("p",{style:{fontSize:"1.5rem",color:"#90caf9",marginBottom:"2rem"},children:"All players have been successfully auctioned"}),f.jsx("button",{onClick:ft,style:{padding:"1rem 2rem",fontSize:"1.2rem",fontWeight:700,background:"linear-gradient(135deg, #4caf50, #45a049)",color:"#fff",border:"none",borderRadius:"0.75rem",cursor:"pointer",boxShadow:"0 4px 20px rgba(76, 175, 80, 0.4)"},children:" Download Team Rosters"})]})}),f.jsxs("div",{className:"audience-view-container",style:{width:"100%",maxWidth:"100vw",margin:0,minHeight:"100vh",background:"linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0a0e27 100%)",color:"#fff",fontFamily:"Segoe UI, Arial, sans-serif",padding:"1rem",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"1rem",overflow:"hidden"},children:[f.jsxs("div",{className:"audience-header",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",padding:"1rem 1.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",backdropFilter:"blur(10px)",gap:"1rem",flexWrap:"wrap",width:"1500px",maxWidth:"100%",margin:"0 auto 0.5rem auto"},children:[f.jsxs("div",{style:{flex:"1 1 auto",minWidth:0},children:[f.jsx("h1",{style:{margin:0,fontSize:"2.5rem",fontWeight:900,color:"#fff",textShadow:"0 2px 10px rgba(25, 118, 210, 0.5)"},children:" AUCTION LIVE"}),f.jsxs("div",{style:{fontSize:"1.2rem",color:"#90caf9",marginTop:"0.5rem",fontWeight:600},children:["Round ",be,"  ",_.toLocaleTimeString()]}),v&&v.category&&v.owner!=="yes"&&f.jsxs("div",{style:{marginTop:"0.75rem",display:"inline-block",padding:"clamp(0.4rem, 1.5vw, 0.6rem) clamp(0.8rem, 2.5vw, 1.2rem)",borderRadius:"0.6rem",background:(v.category||"").toLowerCase()==="blue"?"linear-gradient(135deg, #1976d2, #1565c0)":"linear-gradient(135deg, #d32f2f, #c62828)",fontSize:"clamp(0.8rem, 2vw, 1rem)",fontWeight:700,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",animation:"pulse 2s ease-in-out infinite"},children:[(v.category||"").toLowerCase()==="blue"?" BLUE PLAYERS":" RED PLAYERS"," AUCTION"]}),v&&v.owner==="yes"&&f.jsx("div",{style:{marginTop:"0.75rem",display:"inline-block",padding:"clamp(0.4rem, 1.5vw, 0.6rem) clamp(0.8rem, 2.5vw, 1.2rem)",borderRadius:"0.6rem",background:"linear-gradient(135deg, #ffc107, #ffb300)",fontSize:"clamp(0.8rem, 2vw, 1rem)",fontWeight:700,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",animation:"pulse 2s ease-in-out infinite"},children:" OWNER AUCTION"})]}),f.jsx("button",{onClick:ft,style:{padding:"clamp(0.6rem, 2vw, 1rem) clamp(1rem, 3vw, 2rem)",borderRadius:"0.8rem",background:"linear-gradient(135deg, #1976d2, #1565c0)",color:"#fff",fontWeight:700,fontSize:"clamp(0.85rem, 2vw, 1.1rem)",border:"none",cursor:"pointer",boxShadow:"0 4px 15px rgba(25, 118, 210, 0.4)",transition:"transform 0.2s",whiteSpace:"nowrap"},onMouseEnter:k=>k.currentTarget.style.transform="scale(1.05)",onMouseLeave:k=>k.currentTarget.style.transform="scale(1)",children:" Download Rosters"})]}),f.jsx("div",{style:{marginBottom:"1rem",width:"100%",maxWidth:"1500px",margin:"0 auto 1rem auto"},children:f.jsxs("div",{className:"current-player-card",style:{background:"rgba(255, 255, 255, 0.08)",borderRadius:"1rem",padding:"1.5rem",backdropFilter:"blur(10px)",width:"1500px",maxWidth:"100%",margin:"0 auto",border:v&&v.owner==="yes"?"2px solid rgba(255, 193, 7, 0.6)":v&&v.category?(v.category||"").toLowerCase()==="blue"?"2px solid rgba(25, 118, 210, 0.6)":"2px solid rgba(211, 47, 47, 0.6)":"2px solid rgba(25, 118, 210, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",position:"relative",overflow:"hidden"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"0.5rem"},children:[f.jsx("h2",{style:{margin:0,fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontWeight:700,color:"#90caf9"},children:" Current Player"}),v&&v.category&&v.owner!=="yes"&&f.jsx("div",{style:{padding:"clamp(0.3rem, 1.5vw, 0.5rem) clamp(0.6rem, 2vw, 1rem)",borderRadius:"0.5rem",background:(v.category||"").toLowerCase()==="blue"?"rgba(25, 118, 210, 0.3)":"rgba(211, 47, 47, 0.3)",border:(v.category||"").toLowerCase()==="blue"?"1px solid rgba(25, 118, 210, 0.6)":"1px solid rgba(211, 47, 47, 0.6)",fontSize:"clamp(0.75rem, 2vw, 0.95rem)",fontWeight:700,color:"#fff"},children:(v.category||"").toLowerCase()==="blue"?" BLUE":" RED"}),v&&v.owner==="yes"&&f.jsx("div",{style:{padding:"clamp(0.3rem, 1.5vw, 0.5rem) clamp(0.6rem, 2vw, 1rem)",borderRadius:"0.5rem",background:"rgba(255, 193, 7, 0.3)",border:"1px solid rgba(255, 193, 7, 0.6)",fontSize:"clamp(0.75rem, 2vw, 0.95rem)",fontWeight:700,color:"#ffc107"},children:" OWNER"})]}),v?f.jsxs("div",{className:"player-content",style:{display:"flex",flexDirection:"row",gap:"2rem",alignItems:"flex-start",width:"100%"},children:[f.jsx("div",{style:{flex:"0 0 300px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("div",{style:{width:"300px",height:"400px",borderRadius:"1rem",overflow:"hidden",background:"#1a1f3a",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5)",position:"relative"},children:[v.photo?f.jsx("img",{src:v.photo,alt:v.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"1.2rem"},children:"No Photo"}),b?.isSold&&f.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(34, 197, 94, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:10,gap:"clamp(0.5rem, 2vw, 1rem)",padding:"clamp(0.5rem, 3vw, 1.5rem)",boxSizing:"border-box",overflow:"hidden"},children:[f.jsx("div",{style:{fontSize:"clamp(1.5rem, 5vw, 3rem)",fontWeight:900,color:"white",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",transform:"rotate(-15deg)",letterSpacing:"clamp(1px, 0.3vw, 3px)",textAlign:"center"},children:"SOLD"}),f.jsxs("div",{style:{fontSize:"clamp(0.7rem, 2vw, 1.2rem)",fontWeight:700,color:"white",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.3)",textAlign:"center",lineHeight:1.3,maxWidth:"95%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[b.soldToTeam&&f.jsxs("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:["To ",b.soldToTeam]}),b.soldAmount&&f.jsx("div",{style:{fontSize:"clamp(0.8rem, 2.5vw, 1.5rem)",marginTop:"clamp(0.1rem, 0.5vw, 0.3rem)"},children:`${b.soldAmount>=1e3?`${(b.soldAmount/1e3).toFixed(2)} Cr`:`${(b.soldAmount/10).toFixed(1)} L`}`})]})]})]})}),f.jsxs("div",{style:{flex:"1",minWidth:0,display:"flex",flexDirection:"column",gap:"1rem",alignItems:"flex-start",justifyContent:"flex-start"},children:[f.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.5rem",width:"100%"},children:f.jsx("div",{style:{fontSize:"2.5rem",fontWeight:900,color:"#fff",lineHeight:1.2,textShadow:"0 2px 10px rgba(25, 118, 210, 0.5)",textAlign:"left"},children:v.name})}),f.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"1.2rem",justifyContent:"flex-start",flexWrap:"wrap"},children:[f.jsxs("div",{children:[f.jsx("span",{style:{color:"#90caf9"},children:"Age:"})," ",f.jsx("b",{children:v.age})]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"#90caf9"},children:"Flat:"})," ",f.jsx("b",{children:v.flat})]})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",fontSize:"1.1rem",width:"100%",textAlign:"left"},children:[f.jsxs("div",{children:[f.jsx("span",{style:{color:"#90caf9"},children:"Specialization:"})," ",f.jsx("b",{children:v.specialization})]}),f.jsxs("div",{children:[f.jsx("span",{style:{color:"#90caf9"},children:"Availability:"})," ",f.jsx("b",{children:v.availability})]})]}),f.jsx("div",{style:{marginTop:"1rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.75rem",fontSize:"1.3rem",lineHeight:1.6,color:"#e0e0e0",textAlign:"left",display:"-webkit-box",WebkitLineClamp:5,WebkitBoxOrient:"vertical",overflow:"hidden",wordWrap:"break-word",overflowWrap:"break-word",width:"100%"},children:v.description||"No description available"})]})]}):f.jsx("div",{style:{textAlign:"center",padding:"clamp(2rem, 5vw, 3rem)",color:"#666",fontSize:"clamp(1rem, 3vw, 1.5rem)"},children:"No player currently being auctioned"})]})}),f.jsx("div",{style:{marginBottom:"clamp(1rem, 2vw, 1.5rem)",gridColumn:"1",gridRow:"4"},children:f.jsxs("div",{className:"auction-stats-card",style:{background:"rgba(255, 255, 255, 0.08)",borderRadius:"1.5rem",padding:"clamp(0.75rem, 2vw, 1.25rem)",backdropFilter:"blur(10px)",border:"2px solid rgba(76, 175, 80, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",maxWidth:"100%",overflow:"hidden"},children:[f.jsx("h2",{style:{margin:"0 0 clamp(0.75rem, 1.5vw, 1rem) 0",fontSize:"clamp(1rem, 2.5vw, 1.5rem)",fontWeight:700,color:"#81c784"},children:" Auction Statistics"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"clamp(0.5rem, 1.5vw, 1rem)"},children:[f.jsxs("div",{style:{background:"rgba(25, 118, 210, 0.2)",padding:"clamp(0.5rem, 2vw, 0.75rem)",borderRadius:"0.75rem",textAlign:"center",border:"1px solid rgba(25, 118, 210, 0.3)"},children:[f.jsx("div",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:900,color:"#90caf9"},children:$e.length}),f.jsx("div",{style:{fontSize:"clamp(0.75rem, 1.8vw, 0.95rem)",color:"#90caf9",fontWeight:600,marginTop:"0.25rem"},children:"Players Sold"})]}),f.jsxs("div",{style:{background:"rgba(244, 67, 54, 0.2)",padding:"clamp(0.5rem, 2vw, 0.75rem)",borderRadius:"0.75rem",textAlign:"center",border:"1px solid rgba(244, 67, 54, 0.3)"},children:[f.jsx("div",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:900,color:"#ef5350"},children:P.filter(k=>k.status==="Unsold").length}),f.jsx("div",{style:{fontSize:"clamp(0.75rem, 1.8vw, 0.95rem)",color:"#ef5350",fontWeight:600,marginTop:"0.25rem"},children:"Players Unsold"})]}),f.jsxs("div",{style:{background:"rgba(255, 152, 0, 0.2)",padding:"clamp(0.5rem, 2vw, 0.75rem)",borderRadius:"0.75rem",textAlign:"center",border:"1px solid rgba(255, 152, 0, 0.3)"},children:[f.jsx("div",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:900,color:"#ffb74d"},children:z.length}),f.jsx("div",{style:{fontSize:"clamp(0.75rem, 1.8vw, 0.95rem)",color:"#ffb74d",fontWeight:600,marginTop:"0.25rem"},children:"Teams"})]}),f.jsxs("div",{style:{background:"rgba(156, 39, 176, 0.2)",padding:"clamp(0.5rem, 2vw, 0.75rem)",borderRadius:"0.75rem",textAlign:"center",border:"1px solid rgba(156, 39, 176, 0.3)"},children:[f.jsx("div",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:900,color:"#ba68c8"},children:be}),f.jsx("div",{style:{fontSize:"clamp(0.75rem, 1.8vw, 0.95rem)",color:"#ba68c8",fontWeight:600,marginTop:"0.25rem"},children:"Current Round"})]})]}),f.jsxs("div",{style:{marginTop:"clamp(0.5rem, 1.5vw, 1rem)",background:"rgba(76, 175, 80, 0.2)",padding:"clamp(0.5rem, 2vw, 0.75rem)",borderRadius:"0.75rem",textAlign:"center",border:"1px solid rgba(76, 175, 80, 0.3)"},children:[f.jsxs("div",{style:{fontSize:"clamp(1.25rem, 4vw, 2rem)",fontWeight:900,color:"#81c784"},children:["",(()=>{const k=$e.reduce((J,le)=>J+(typeof le.amount=="number"?le.amount:0),0);return k>=1e3?`${(k/1e3).toFixed(2)} Cr`:`${(k/10).toFixed(1)} L`})()]}),f.jsx("div",{style:{fontSize:"clamp(0.75rem, 1.8vw, 0.95rem)",color:"#81c784",fontWeight:600,marginTop:"0.25rem"},children:"Total Money Spent"})]}),f.jsx("div",{style:{marginTop:"clamp(0.5rem, 1.5vw, 1rem)"},children:f.jsxs("div",{style:{background:"rgba(255, 193, 7, 0.2)",padding:"clamp(0.5rem, 2vw, 0.75rem)",borderRadius:"0.75rem",textAlign:"center",border:"1px solid rgba(255, 193, 7, 0.3)"},children:[f.jsx("div",{style:{fontSize:"clamp(1.25rem, 3.5vw, 1.75rem)",fontWeight:900,color:"#ffd54f"},children:(()=>{const k=$e.reduce((J,le)=>{const j=typeof le.amount=="number"?le.amount:0;return j>J?j:J},0);return k>0?`${k>=1e3?`${(k/1e3).toFixed(2)} Cr`:`${(k/10).toFixed(1)} L`}`:"N/A"})()}),f.jsx("div",{style:{fontSize:"clamp(0.75rem, 1.8vw, 0.95rem)",color:"#ffd54f",fontWeight:600,marginTop:"0.25rem"},children:"Highest Bid"})]})})]})}),f.jsxs("div",{className:"team-rosters-section",style:{background:"rgba(255, 255, 255, 0.08)",borderRadius:"1.5rem",padding:"clamp(1rem, 2vw, 1.5rem)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",marginBottom:"clamp(1rem, 2vw, 1.5rem)",gridColumn:"1",gridRow:"3",overflow:"auto"},children:[f.jsx("h2",{style:{margin:"0 0 1.5rem 0",fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontWeight:700,color:"#fff"},children:" Team Rosters"}),f.jsx("div",{style:{width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"clamp(0.8rem, 1.8vw, 1rem)"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{background:"rgba(255, 255, 255, 0.1)"},children:[f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"left",fontWeight:700,color:"#90caf9",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Team"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"center",fontWeight:700,color:"#90caf9",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Players"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"center",fontWeight:700,color:"#ff9800",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Need"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:700,color:"#ef5350",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Spent"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:700,color:"#90caf9",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Balance"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:700,color:"#64b5f6",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:" Blue Left"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:700,color:"#81c784",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Max Bid"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:700,color:"#ce93d8",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Reserve"}),f.jsx("th",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"center",fontWeight:700,color:"#90caf9",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",whiteSpace:"nowrap"},children:"Status"})]})}),f.jsx("tbody",{children:(Ie.length>0?Ie:z.map(k=>{const J=k.acquired||0,le=Math.max(0,ge-J),j=P.filter(V=>V.team===k.name&&V.status==="Sold").reduce((V,G)=>V+(typeof G.amount=="number"?G.amount:0),0),Y=j+k.balance,Z=Math.floor(tt/100*Y),ce=an(k.name),x=Math.max(0,Z-ce),U=le<=1?0:(le-1)*100,W=Math.max(0,k.balance-U);return{name:k.name,logo:k.logo,acquired:J,needed:le,totalSpent:j,balance:k.balance,blueLeft:x,maxBidUnits:W,minNeeded:U,isAtRisk:J>0&&k.balance<U&&le>1,isFull:J>=pe,isComplete:J>=ge}})).map((k,J)=>{const le=ce=>ce>=1e3?`${(ce/1e3).toFixed(2)} Cr`:`${(ce/10).toFixed(1)} L`,j=k.blueLeft<(k.blueLeft+P.filter(ce=>ce.team===k.name&&ce.status==="Sold").reduce((ce,x)=>ce+(typeof x.amount=="number"?x.amount:0),0))*.2,Y=vt(k.name),Z=nt.has(k.name);return f.jsxs(Xg.Fragment,{children:[f.jsxs("tr",{style:{background:k.isAtRisk?"rgba(244, 67, 54, 0.15)":J%2===0?"rgba(255, 255, 255, 0.03)":"transparent",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",cursor:k.acquired>0?"pointer":"default"},onClick:()=>k.acquired>0&&Me(k.name),children:[f.jsx("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",fontWeight:700,color:"#fff",whiteSpace:"nowrap"},children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx("span",{style:{fontSize:"10px",color:"#888",width:"12px",marginRight:"4px"},children:k.acquired>0?Z?"":"":""}),k.logo&&f.jsx("img",{src:k.logo,alt:k.name,style:{width:"clamp(24px, 3vw, 32px)",height:"clamp(24px, 3vw, 32px)",objectFit:"contain",borderRadius:"4px"}}),f.jsx("span",{children:k.name})]})}),f.jsxs("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"center",fontWeight:600,color:k.isFull?"#9e9e9e":k.isComplete?"#81c784":"#fff",whiteSpace:"nowrap"},children:[k.acquired,"/",pe]}),f.jsx("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:k.needed>0?f.jsx("span",{style:{background:"#ff9800",color:"#000",padding:"2px 8px",borderRadius:"10px",fontSize:"0.85em"},children:k.needed}):f.jsx("span",{style:{color:"#81c784"},children:""})}),f.jsx("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:600,color:"#ef5350",whiteSpace:"nowrap"},children:le(k.totalSpent)}),f.jsx("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:600,color:"#90caf9",whiteSpace:"nowrap"},children:le(k.balance)}),f.jsx("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:600,color:j?"#ffab00":"#64b5f6",whiteSpace:"nowrap"},children:le(k.blueLeft)}),f.jsx("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:600,color:"#81c784",whiteSpace:"nowrap"},children:k.isFull?"":le(k.maxBidUnits)}),f.jsx("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"right",fontWeight:600,color:"#ce93d8",whiteSpace:"nowrap"},children:k.isFull||k.needed===0?"":le(k.minNeeded)}),f.jsxs("td",{style:{padding:"clamp(0.4rem, 1.5vw, 0.8rem)",textAlign:"center",whiteSpace:"nowrap"},children:[k.isAtRisk&&f.jsx("span",{style:{background:"#f44336",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"0.8em"},children:" At Risk"}),k.isFull&&f.jsx("span",{style:{background:"linear-gradient(135deg, #ffd700, #ff8c00)",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"0.8em"},children:" Full"}),!k.isFull&&k.isComplete&&f.jsx("span",{style:{background:"#4caf50",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"0.8em"},children:""}),!k.isAtRisk&&!k.isFull&&!k.isComplete&&f.jsx("span",{style:{background:"#2196f3",color:"#fff",padding:"2px 8px",borderRadius:"10px",fontSize:"0.8em"},children:"Active"})]})]}),Z&&Y.length>0&&f.jsx("tr",{style:{background:"rgba(255, 255, 255, 0.05)"},children:f.jsx("td",{colSpan:9,style:{padding:0},children:f.jsx("div",{style:{padding:"12px 16px 12px 48px",background:"linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.06))",borderLeft:"4px solid #1976d2"},children:f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Y.map((ce,x)=>f.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",fontSize:"13px",fontWeight:600,background:ce.category.toLowerCase()==="blue"?"linear-gradient(135deg, #1565c0, #1976d2)":ce.category.toLowerCase()==="red"?"linear-gradient(135deg, #c62828, #e53935)":"#424242",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:[f.jsx("span",{style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ce.name}),f.jsx("span",{style:{padding:"2px 8px",borderRadius:"10px",background:"rgba(255, 255, 255, 0.25)",fontSize:"11px",fontWeight:700},children:le(ce.amount)})]},x))})})})})]},k.name)})})]})})]}),f.jsxs("div",{className:"recently-sold-section",style:{background:"rgba(255, 255, 255, 0.08)",borderRadius:"1.5rem",padding:"clamp(1rem, 3vw, 2rem)",backdropFilter:"blur(10px)",border:"2px solid rgba(76, 175, 80, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",maxWidth:"100%",gridColumn:"1",gridRow:"5"},children:[f.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",width:"100%"},children:f.jsxs("h2",{style:{margin:0,fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontWeight:700,color:"#81c784",flex:1},children:[" Recently Sold Players (",$e.length,")"]})}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 280px), 1fr))",gap:"clamp(0.75rem, 2vw, 1rem)"},children:$e.slice(0,20).map((k,J)=>{const le=typeof k.amount=="number"?k.amount:0;console.log("Sold player amount:",k.playerName,le);const j=le>=1e3?`${(le/1e3).toFixed(2)} Cr`:`${(le/10).toFixed(1)} L`;return f.jsxs("div",{style:{background:"rgba(76, 175, 80, 0.15)",border:"1px solid rgba(76, 175, 80, 0.3)",padding:"clamp(0.75rem, 2vw, 1rem)",borderRadius:"0.8rem",display:"flex",flexDirection:"column",gap:"0.75rem",minHeight:"140px",justifyContent:"flex-start"},children:[f.jsx("div",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontWeight:700,color:"#fff",lineHeight:"1.3",wordBreak:"break-word"},children:k.playerName}),f.jsxs("div",{style:{fontSize:"clamp(0.85rem, 2vw, 1rem)",color:"#90caf9",lineHeight:"1.3"},children:["To: ",f.jsx("b",{children:k.team})]}),f.jsx("div",{style:{fontSize:"clamp(1.1rem, 2.5vw, 1.3rem)",fontWeight:900,color:"#81c784",marginTop:"auto",paddingTop:"0.5rem"},children:j}),f.jsxs("div",{style:{fontSize:"clamp(0.75rem, 1.5vw, 0.85rem)",color:"#999"},children:["Round ",k.round]})]},J)})}),$e.length===0&&f.jsx("div",{style:{textAlign:"center",padding:"clamp(1.5rem, 4vw, 2rem)",color:"#666",fontSize:"clamp(1rem, 2.5vw, 1.2rem)"},children:"No players sold yet"})]}),f.jsxs("div",{className:"unsold-players-section",style:{background:"rgba(255, 255, 255, 0.08)",borderRadius:"1.5rem",padding:"clamp(1rem, 3vw, 2rem)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 152, 0, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",maxWidth:"100%",gridColumn:"1",gridRow:"6"},children:[f.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",width:"100%"},children:f.jsxs("h2",{style:{margin:0,fontSize:"clamp(1.2rem, 3vw, 1.8rem)",fontWeight:700,color:"#ffb74d",flex:1},children:[" Unsold Players - Round 2 (",P.filter(k=>k.status==="Unsold").length,")"]})}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 280px), 1fr))",gap:"clamp(0.75rem, 2vw, 1rem)"},children:P.filter(k=>k.status==="Unsold").map((k,J)=>f.jsxs("div",{style:{background:"rgba(255, 152, 0, 0.15)",border:"1px solid rgba(255, 152, 0, 0.3)",padding:"clamp(0.75rem, 2vw, 1rem)",borderRadius:"0.8rem",display:"flex",flexDirection:"column",gap:"0.75rem",minHeight:"140px",justifyContent:"flex-start"},children:[f.jsx("div",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",fontWeight:700,color:"#fff",lineHeight:"1.3",wordBreak:"break-word"},children:k.playerName}),f.jsxs("div",{style:{fontSize:"clamp(0.85rem, 2vw, 1rem)",color:"#ffb74d",lineHeight:"1.3"},children:["Attempt: ",f.jsx("b",{children:k.attempt})]}),f.jsxs("div",{style:{fontSize:"clamp(0.75rem, 1.5vw, 0.85rem)",color:"#999",marginTop:"auto"},children:["Round ",k.round]})]},J))}),P.filter(k=>k.status==="Unsold").length===0&&f.jsx("div",{style:{textAlign:"center",padding:"clamp(1.5rem, 4vw, 2rem)",color:"#666",fontSize:"clamp(1rem, 2.5vw, 1.2rem)"},children:"No unsold players yet"})]})]})]})}const PE=()=>{try{const a=Object.keys(localStorage);let n=0;for(const l of a)l.startsWith("auction_")&&(localStorage.removeItem(l),n++);n>0&&console.log(` Cleaned up ${n} old auction records from localStorage`)}catch(a){console.warn("Could not cleanup localStorage:",a)}};try{PE()}catch(a){console.warn("localStorage cleanup failed:",a)}function ZE(){console.log("App component rendering");const[a,n]=oe.useState(null),l=new URLSearchParams(window.location.search),r=l.get("audienceView")==="true",c=l.get("auction");if(console.log("App params - isAudienceView:",r,"auctionId:",c),r&&c){console.log("Rendering AudienceView for auction:",c);try{return f.jsx(WE,{auctionId:c})}catch(d){return console.error("Error in AudienceView:",d),f.jsxs("div",{style:{color:"red",padding:"2rem"},children:["Error in AudienceView: ",String(d)]})}}if(console.log("App final render - setup:",a?"YES":"NO"),a){console.log("Rendering AuctionScreen with players:",a.players?.length);try{return f.jsx(QE,{...a})}catch(d){return console.error("Error in AuctionScreen:",d),f.jsxs("div",{style:{color:"red",padding:"2rem"},children:["Error in AuctionScreen: ",String(d)]})}}else{console.log("Rendering AuctionSetup");try{return f.jsx(FE,{onSetup:n})}catch(d){return console.error("Error in AuctionSetup:",d),f.jsxs("div",{style:{color:"red",padding:"2rem"},children:["Error in AuctionSetup: ",String(d)]})}}}Iv.createRoot(document.getElementById("root")).render(f.jsx(oe.StrictMode,{children:f.jsx(ZE,{})}));
